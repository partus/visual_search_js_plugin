/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={665:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getCrop:function(e){var t=e.getCanvasData(),n=e.getData(),i=n.height/n.width,r=(n.x+n.width/2)/t.naturalWidth,o=(n.y+n.height/2)/t.naturalHeight,a=r>.5?1-r:r,s=o>.5?1-o:o,l=t.naturalWidth,c=l*i;c>t.naturalHeight&&(l=(c=t.naturalHeight)/i);var u=2*a*l,d=2*s*c,f=Math.max(u/n.width,d/n.height);return{data:{crop:{center:{x:r,y:o},flip:{horizontal:n.scaleX<0,vertical:n.scaleY<0},zoom:f,rotation:Math.PI/180*n.rotate,aspectRatio:i}}}}}},344:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(427));n(146),n(126);var r=a(n(129)),o=a(n(665));function a(e){return e&&e.__esModule?e:{default:e}}console.log(i.default,"tingle");var s={open:function(e,t){console.log("should open",void 0,e,t),function(e,t,n){var a=new i.default.modal({footer:!0,stickyFooter:!1,closeMethods:["overlay","button","escape"],onOpen:function(){console.log("modal open")},onClose:function(){this.destroy(),console.log("modal closed")},beforeClose:function(){return!0}}),s=document.createElement("img");s.src=URL.createObjectURL(e),s.height=300,a.setContent(s);var l,c=(l=s,new r.default(l,{crop:function(e){console.log(e.detail.x),console.log(e.detail.y),console.log(e.detail.width),console.log(e.detail.height),console.log(e.detail.rotate),console.log(e.detail.scaleX),console.log(e.detail.scaleY)}}));a.addFooterBtn("Ok","tingle-btn tingle-btn--primary",(function(){var e=o.default.getCrop(c);n.onconfirm(e),a.close()})),a.open()}(e,0,s)},onconfirm:function(e){},oncancel:function(){},onclose:function(){}};t.default=s},501:(e,t,n)=>{"use strict";var i=n(136);n(758);var r=c(n(567)),o=c(n(863)),a=c(n(965));n(381);var s=c(n(865));n(899);var l=c(n(344));function c(e){return e&&e.__esModule?e:{default:e}}(0,i.registerPlugin)(r.default,o.default,a.default,s.default),window.ImageSearch=function(e){var t=document.getElementById(e.buttonContainerId),n=t.querySelector("input");n||((n=document.createElement("input")).type="file",e.mobileCameraOnly&&n.setAttribute("capture","camera"),t.appendChild(n)),n.name="image",(0,i.create)(n,{imagePreviewHeight:128,instantUpload:!0,labelIdle:e.buttonContent,imageEditEditor:l.default,onpreparefile:function(t,n){console.log("prepare",t,n),e.previewImageId&&(document.getElementById(e.previewImageId).src=URL.createObjectURL(n))},credits:[],dropOnPage:!0,dropOnElement:!1,dropValidation:!0,server:{process:{url:"http://127.127.0.1:8080/search/default",method:"POST",withCredentials:!1,timeout:7e3,onload:function(t){e.onresult(JSON.parse(t))},onerror:function(){console.log("onerror",arguments)}},fetch:null,revert:null},allowProcess:!1,allowMultiple:!1,allowReplace:!0})}},427:(e,t,n)=>{"use strict";var i,r;"function"==typeof Symbol&&Symbol.iterator,void 0===(r="function"==typeof(i=function(){var e=!1;function t(e){this.opts=function(){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(arguments[0][t]=arguments[e][t]);return arguments[0]}({},{onClose:null,onOpen:null,beforeOpen:null,beforeClose:null,stickyFooter:!1,footer:!1,cssClass:[],closeLabel:"Close",closeMethods:["overlay","button","escape"]},e),this.init()}function n(){this.modalBoxFooter&&(this.modalBoxFooter.style.width=this.modalBox.clientWidth+"px",this.modalBoxFooter.style.left=this.modalBox.offsetLeft+"px")}function i(){this.modal=document.createElement("div"),this.modal.classList.add("tingle-modal"),0!==this.opts.closeMethods.length&&-1!==this.opts.closeMethods.indexOf("overlay")||this.modal.classList.add("tingle-modal--noOverlayClose"),this.modal.style.display="none",this.opts.cssClass.forEach((function(e){"string"==typeof e&&this.modal.classList.add(e)}),this),-1!==this.opts.closeMethods.indexOf("button")&&(this.modalCloseBtn=document.createElement("button"),this.modalCloseBtn.type="button",this.modalCloseBtn.classList.add("tingle-modal__close"),this.modalCloseBtnIcon=document.createElement("span"),this.modalCloseBtnIcon.classList.add("tingle-modal__closeIcon"),this.modalCloseBtnIcon.innerHTML='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.3 9.7c.2.2.4.3.7.3.3 0 .5-.1.7-.3L5 6.4l3.3 3.3c.2.2.5.3.7.3.2 0 .5-.1.7-.3.4-.4.4-1 0-1.4L6.4 5l3.3-3.3c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L5 3.6 1.7.3C1.3-.1.7-.1.3.3c-.4.4-.4 1 0 1.4L3.6 5 .3 8.3c-.4.4-.4 1 0 1.4z" fill="#000" fill-rule="nonzero"/></svg>',this.modalCloseBtnLabel=document.createElement("span"),this.modalCloseBtnLabel.classList.add("tingle-modal__closeLabel"),this.modalCloseBtnLabel.innerHTML=this.opts.closeLabel,this.modalCloseBtn.appendChild(this.modalCloseBtnIcon),this.modalCloseBtn.appendChild(this.modalCloseBtnLabel)),this.modalBox=document.createElement("div"),this.modalBox.classList.add("tingle-modal-box"),this.modalBoxContent=document.createElement("div"),this.modalBoxContent.classList.add("tingle-modal-box__content"),this.modalBox.appendChild(this.modalBoxContent),-1!==this.opts.closeMethods.indexOf("button")&&this.modal.appendChild(this.modalCloseBtn),this.modal.appendChild(this.modalBox)}function r(){this.modalBoxFooter=document.createElement("div"),this.modalBoxFooter.classList.add("tingle-modal-box__footer"),this.modalBox.appendChild(this.modalBoxFooter)}function o(){this._events={clickCloseBtn:this.close.bind(this),clickOverlay:s.bind(this),resize:this.checkOverflow.bind(this),keyboardNav:a.bind(this)},-1!==this.opts.closeMethods.indexOf("button")&&this.modalCloseBtn.addEventListener("click",this._events.clickCloseBtn),this.modal.addEventListener("mousedown",this._events.clickOverlay),window.addEventListener("resize",this._events.resize),document.addEventListener("keydown",this._events.keyboardNav)}function a(e){-1!==this.opts.closeMethods.indexOf("escape")&&27===e.which&&this.isOpen()&&this.close()}function s(e){var t=this.modal.offsetWidth-this.modal.clientWidth,n=e.clientX>=this.modal.offsetWidth-15,i=this.modal.scrollHeight!==this.modal.offsetHeight;"MacIntel"===navigator.platform&&0===t&&n&&i||-1!==this.opts.closeMethods.indexOf("overlay")&&!function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}(e.target,"tingle-modal")&&e.clientX<this.modal.clientWidth&&this.close()}function l(){-1!==this.opts.closeMethods.indexOf("button")&&this.modalCloseBtn.removeEventListener("click",this._events.clickCloseBtn),this.modal.removeEventListener("mousedown",this._events.clickOverlay),window.removeEventListener("resize",this._events.resize),document.removeEventListener("keydown",this._events.keyboardNav)}return t.prototype.init=function(){if(!this.modal)return i.call(this),o.call(this),document.body.appendChild(this.modal,document.body.firstChild),this.opts.footer&&this.addFooter(),this},t.prototype._busy=function(t){e=t},t.prototype._isBusy=function(){return e},t.prototype.destroy=function(){null!==this.modal&&(this.isOpen()&&this.close(!0),l.call(this),this.modal.parentNode.removeChild(this.modal),this.modal=null)},t.prototype.isOpen=function(){return!!this.modal.classList.contains("tingle-modal--visible")},t.prototype.open=function(){if(!this._isBusy()){this._busy(!0);var e=this;return"function"==typeof e.opts.beforeOpen&&e.opts.beforeOpen(),this.modal.style.removeProperty?this.modal.style.removeProperty("display"):this.modal.style.removeAttribute("display"),this._scrollPosition=window.pageYOffset,document.body.classList.add("tingle-enabled"),document.body.style.top=-this._scrollPosition+"px",this.setStickyFooter(this.opts.stickyFooter),this.modal.classList.add("tingle-modal--visible"),"function"==typeof e.opts.onOpen&&e.opts.onOpen.call(e),e._busy(!1),this.checkOverflow(),this}},t.prototype.close=function(e){if(!this._isBusy()){if(this._busy(!0),e=e||!1,"function"==typeof this.opts.beforeClose&&!this.opts.beforeClose.call(this))return void this._busy(!1);document.body.classList.remove("tingle-enabled"),document.body.style.top=null,window.scrollTo({top:this._scrollPosition,behavior:"instant"}),this.modal.classList.remove("tingle-modal--visible");var t=this;t.modal.style.display="none","function"==typeof t.opts.onClose&&t.opts.onClose.call(this),t._busy(!1)}},t.prototype.setContent=function(e){return"string"==typeof e?this.modalBoxContent.innerHTML=e:(this.modalBoxContent.innerHTML="",this.modalBoxContent.appendChild(e)),this.isOpen()&&this.checkOverflow(),this},t.prototype.getContent=function(){return this.modalBoxContent},t.prototype.addFooter=function(){return r.call(this),this},t.prototype.setFooterContent=function(e){return this.modalBoxFooter.innerHTML=e,this},t.prototype.getFooterContent=function(){return this.modalBoxFooter},t.prototype.setStickyFooter=function(e){return this.isOverflow()||(e=!1),e?this.modalBox.contains(this.modalBoxFooter)&&(this.modalBox.removeChild(this.modalBoxFooter),this.modal.appendChild(this.modalBoxFooter),this.modalBoxFooter.classList.add("tingle-modal-box__footer--sticky"),n.call(this),this.modalBoxContent.style["padding-bottom"]=this.modalBoxFooter.clientHeight+20+"px"):this.modalBoxFooter&&(this.modalBox.contains(this.modalBoxFooter)||(this.modal.removeChild(this.modalBoxFooter),this.modalBox.appendChild(this.modalBoxFooter),this.modalBoxFooter.style.width="auto",this.modalBoxFooter.style.left="",this.modalBoxContent.style["padding-bottom"]="",this.modalBoxFooter.classList.remove("tingle-modal-box__footer--sticky"))),this},t.prototype.addFooterBtn=function(e,t,n){var i=document.createElement("button");return i.innerHTML=e,i.addEventListener("click",n),"string"==typeof t&&t.length&&t.split(" ").forEach((function(e){i.classList.add(e)})),this.modalBoxFooter.appendChild(i),i},t.prototype.resize=function(){console.warn("Resize is deprecated and will be removed in version 1.0")},t.prototype.isOverflow=function(){var e=window.innerHeight;return this.modalBox.clientHeight>=e},t.prototype.checkOverflow=function(){this.modal.classList.contains("tingle-modal--visible")&&(this.isOverflow()?this.modal.classList.add("tingle-modal--overflow"):this.modal.classList.remove("tingle-modal--overflow"),!this.isOverflow()&&this.opts.stickyFooter?this.setStickyFooter(!1):this.isOverflow()&&this.opts.stickyFooter&&(n.call(this),this.setStickyFooter(!0)))},{modal:t}})?i.call(t,n,t,e):i)||(e.exports=r)},129:function(e){e.exports=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var l="undefined"!=typeof window&&void 0!==window.document,c=l?window:{},u=!(!l||!c.document.documentElement)&&"ontouchstart"in c.document.documentElement,d=!!l&&"PointerEvent"in c,f="cropper",p="all",h="crop",m="move",g="zoom",v="e",E="w",y="s",_="n",T="ne",b="nw",I="se",w="sw",R="".concat(f,"-crop"),O="".concat(f,"-disabled"),x="".concat(f,"-hidden"),M="".concat(f,"-hide"),D="".concat(f,"-invisible"),A="".concat(f,"-modal"),S="".concat(f,"-move"),C="".concat(f,"Action"),L="".concat(f,"Preview"),P="crop",N="move",G="none",k="crop",B="cropend",U="cropmove",F="cropstart",z="dblclick",V=d?"pointerdown":u?"touchstart":"mousedown",q=d?"pointermove":u?"touchmove":"mousemove",H=d?"pointerup pointercancel":u?"touchend touchcancel":"mouseup",j="ready",Y="resize",W="wheel",X="zoom",Q="image/jpeg",Z=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,K=/^data:/,$=/^data:image\/jpeg;base64,/,J=/^img|canvas$/i,ee={viewMode:0,dragMode:P,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},te=Number.isNaN||c.isNaN;function ne(e){return"number"==typeof e&&!te(e)}var ie=function(e){return e>0&&e<1/0};function re(e){return void 0===e}function oe(t){return"object"===e(t)&&null!==t}var ae=Object.prototype.hasOwnProperty;function se(e){if(!oe(e))return!1;try{var t=e.constructor,n=t.prototype;return t&&n&&ae.call(n,"isPrototypeOf")}catch(e){return!1}}function le(e){return"function"==typeof e}var ce=Array.prototype.slice;function ue(e){return Array.from?Array.from(e):ce.call(e)}function de(e,t){return e&&le(t)&&(Array.isArray(e)||ne(e.length)?ue(e).forEach((function(n,i){t.call(e,n,i,e)})):oe(e)&&Object.keys(e).forEach((function(n){t.call(e,e[n],n,e)}))),e}var fe=Object.assign||function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return oe(e)&&n.length>0&&n.forEach((function(t){oe(t)&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e},pe=/\.\d*(?:0|9){12}\d*$/;function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return pe.test(e)?Math.round(e*t)/t:e}var me=/^width|height|left|top|marginLeft|marginTop$/;function ge(e,t){var n=e.style;de(t,(function(e,t){me.test(t)&&ne(e)&&(e="".concat(e,"px")),n[t]=e}))}function ve(e,t){if(t)if(ne(e.length))de(e,(function(e){ve(e,t)}));else if(e.classList)e.classList.add(t);else{var n=e.className.trim();n?n.indexOf(t)<0&&(e.className="".concat(n," ").concat(t)):e.className=t}}function Ee(e,t){t&&(ne(e.length)?de(e,(function(e){Ee(e,t)})):e.classList?e.classList.remove(t):e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,"")))}function ye(e,t,n){t&&(ne(e.length)?de(e,(function(e){ye(e,t,n)})):n?ve(e,t):Ee(e,t))}var _e=/([a-z\d])([A-Z])/g;function Te(e){return e.replace(_e,"$1-$2").toLowerCase()}function be(e,t){return oe(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(Te(t)))}function Ie(e,t,n){oe(n)?e[t]=n:e.dataset?e.dataset[t]=n:e.setAttribute("data-".concat(Te(t)),n)}var we=/\s\s*/,Re=function(){var e=!1;if(l){var t=!1,n=function(){},i=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(e){t=e}});c.addEventListener("test",n,i),c.removeEventListener("test",n,i)}return e}();function Oe(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=n;t.trim().split(we).forEach((function(t){if(!Re){var o=e.listeners;o&&o[t]&&o[t][n]&&(r=o[t][n],delete o[t][n],0===Object.keys(o[t]).length&&delete o[t],0===Object.keys(o).length&&delete e.listeners)}e.removeEventListener(t,r,i)}))}function xe(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=n;t.trim().split(we).forEach((function(t){if(i.once&&!Re){var o=e.listeners,a=void 0===o?{}:o;r=function(){delete a[t][n],e.removeEventListener(t,r,i);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];n.apply(e,s)},a[t]||(a[t]={}),a[t][n]&&e.removeEventListener(t,a[t][n],i),a[t][n]=r,e.listeners=a}e.addEventListener(t,r,i)}))}function Me(e,t,n){var i;return le(Event)&&le(CustomEvent)?i=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,n),e.dispatchEvent(i)}function De(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var Ae=c.location,Se=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Ce(e){var t=e.match(Se);return null!==t&&(t[1]!==Ae.protocol||t[2]!==Ae.hostname||t[3]!==Ae.port)}function Le(e){var t="timestamp=".concat((new Date).getTime());return e+(-1===e.indexOf("?")?"?":"&")+t}function Pe(e){var t=e.rotate,n=e.scaleX,i=e.scaleY,r=e.translateX,o=e.translateY,a=[];ne(r)&&0!==r&&a.push("translateX(".concat(r,"px)")),ne(o)&&0!==o&&a.push("translateY(".concat(o,"px)")),ne(t)&&0!==t&&a.push("rotate(".concat(t,"deg)")),ne(n)&&1!==n&&a.push("scaleX(".concat(n,")")),ne(i)&&1!==i&&a.push("scaleY(".concat(i,")"));var s=a.length?a.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function Ne(e,t){var n=e.pageX,i=e.pageY,r={endX:n,endY:i};return t?r:o({startX:n,startY:i},r)}function Ge(e){var t=e.aspectRatio,n=e.height,i=e.width,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",o=ie(i),a=ie(n);if(o&&a){var s=n*t;"contain"===r&&s>i||"cover"===r&&s<i?n=i/t:i=n*t}else o?n=i/t:a&&(i=n*t);return{width:i,height:n}}function ke(e,t,n,i){var r=t.aspectRatio,o=t.naturalWidth,s=t.naturalHeight,l=t.rotate,c=void 0===l?0:l,u=t.scaleX,d=void 0===u?1:u,f=t.scaleY,p=void 0===f?1:f,h=n.aspectRatio,m=n.naturalWidth,g=n.naturalHeight,v=i.fillColor,E=void 0===v?"transparent":v,y=i.imageSmoothingEnabled,_=void 0===y||y,T=i.imageSmoothingQuality,b=void 0===T?"low":T,I=i.maxWidth,w=void 0===I?1/0:I,R=i.maxHeight,O=void 0===R?1/0:R,x=i.minWidth,M=void 0===x?0:x,D=i.minHeight,A=void 0===D?0:D,S=document.createElement("canvas"),C=S.getContext("2d"),L=Ge({aspectRatio:h,width:w,height:O}),P=Ge({aspectRatio:h,width:M,height:A},"cover"),N=Math.min(L.width,Math.max(P.width,m)),G=Math.min(L.height,Math.max(P.height,g)),k=Ge({aspectRatio:r,width:w,height:O}),B=Ge({aspectRatio:r,width:M,height:A},"cover"),U=Math.min(k.width,Math.max(B.width,o)),F=Math.min(k.height,Math.max(B.height,s)),z=[-U/2,-F/2,U,F];return S.width=he(N),S.height=he(G),C.fillStyle=E,C.fillRect(0,0,N,G),C.save(),C.translate(N/2,G/2),C.rotate(c*Math.PI/180),C.scale(d,p),C.imageSmoothingEnabled=_,C.imageSmoothingQuality=b,C.drawImage.apply(C,[e].concat(a(z.map((function(e){return Math.floor(he(e))}))))),C.restore(),S}var Be=String.fromCharCode;var Ue=/^data:.*,/;function Fe(e){var t,n=new DataView(e);try{var i,r,o;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var a=n.byteLength,s=2;s+1<a;){if(255===n.getUint8(s)&&225===n.getUint8(s+1)){r=s;break}s+=1}if(r){var l=r+10;if("Exif"===function(e,t,n){var i="";n+=t;for(var r=t;r<n;r+=1)i+=Be(e.getUint8(r));return i}(n,r+4,4)){var c=n.getUint16(l);if(((i=18761===c)||19789===c)&&42===n.getUint16(l+2,i)){var u=n.getUint32(l+4,i);u>=8&&(o=l+u)}}}if(o){var d,f,p=n.getUint16(o,i);for(f=0;f<p;f+=1)if(d=o+12*f+2,274===n.getUint16(d,i)){d+=8,t=n.getUint16(d,i),n.setUint16(d,1,i);break}}}catch(e){t=1}return t}var ze={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,n=this.container,i=this.cropper,r=Number(t.minContainerWidth),o=Number(t.minContainerHeight);ve(i,x),Ee(e,x);var a={width:Math.max(n.offsetWidth,r>=0?r:200),height:Math.max(n.offsetHeight,o>=0?o:100)};this.containerData=a,ge(i,{width:a.width,height:a.height}),ve(e,x),Ee(i,x)},initCanvas:function(){var e=this.containerData,t=this.imageData,n=this.options.viewMode,i=Math.abs(t.rotate)%180==90,r=i?t.naturalHeight:t.naturalWidth,o=i?t.naturalWidth:t.naturalHeight,a=r/o,s=e.width,l=e.height;e.height*a>e.width?3===n?s=e.height*a:l=e.width/a:3===n?l=e.width/a:s=e.height*a;var c={aspectRatio:a,naturalWidth:r,naturalHeight:o,width:s,height:l};this.canvasData=c,this.limited=1===n||2===n,this.limitCanvas(!0,!0),c.width=Math.min(Math.max(c.width,c.minWidth),c.maxWidth),c.height=Math.min(Math.max(c.height,c.minHeight),c.maxHeight),c.left=(e.width-c.width)/2,c.top=(e.height-c.height)/2,c.oldLeft=c.left,c.oldTop=c.top,this.initialCanvasData=fe({},c)},limitCanvas:function(e,t){var n=this.options,i=this.containerData,r=this.canvasData,o=this.cropBoxData,a=n.viewMode,s=r.aspectRatio,l=this.cropped&&o;if(e){var c=Number(n.minCanvasWidth)||0,u=Number(n.minCanvasHeight)||0;a>1?(c=Math.max(c,i.width),u=Math.max(u,i.height),3===a&&(u*s>c?c=u*s:u=c/s)):a>0&&(c?c=Math.max(c,l?o.width:0):u?u=Math.max(u,l?o.height:0):l&&(c=o.width,(u=o.height)*s>c?c=u*s:u=c/s));var d=Ge({aspectRatio:s,width:c,height:u});c=d.width,u=d.height,r.minWidth=c,r.minHeight=u,r.maxWidth=1/0,r.maxHeight=1/0}if(t)if(a>(l?0:1)){var f=i.width-r.width,p=i.height-r.height;r.minLeft=Math.min(0,f),r.minTop=Math.min(0,p),r.maxLeft=Math.max(0,f),r.maxTop=Math.max(0,p),l&&this.limited&&(r.minLeft=Math.min(o.left,o.left+(o.width-r.width)),r.minTop=Math.min(o.top,o.top+(o.height-r.height)),r.maxLeft=o.left,r.maxTop=o.top,2===a&&(r.width>=i.width&&(r.minLeft=Math.min(0,f),r.maxLeft=Math.max(0,f)),r.height>=i.height&&(r.minTop=Math.min(0,p),r.maxTop=Math.max(0,p))))}else r.minLeft=-r.width,r.minTop=-r.height,r.maxLeft=i.width,r.maxTop=i.height},renderCanvas:function(e,t){var n=this.canvasData,i=this.imageData;if(t){var r=function(e){var t=e.width,n=e.height,i=e.degree;if(90==(i=Math.abs(i)%180))return{width:n,height:t};var r=i%90*Math.PI/180,o=Math.sin(r),a=Math.cos(r),s=t*a+n*o,l=t*o+n*a;return i>90?{width:l,height:s}:{width:s,height:l}}({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),o=r.width,a=r.height,s=n.width*(o/n.naturalWidth),l=n.height*(a/n.naturalHeight);n.left-=(s-n.width)/2,n.top-=(l-n.height)/2,n.width=s,n.height=l,n.aspectRatio=o/a,n.naturalWidth=o,n.naturalHeight=a,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,ge(this.canvas,fe({width:n.width,height:n.height},Pe({translateX:n.left,translateY:n.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,n=this.imageData,i=n.naturalWidth*(t.width/t.naturalWidth),r=n.naturalHeight*(t.height/t.naturalHeight);fe(n,{width:i,height:r,left:(t.width-i)/2,top:(t.height-r)/2}),ge(this.image,fe({width:n.width,height:n.height},Pe(fe({translateX:n.left,translateY:n.top},n)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,n=e.aspectRatio||e.initialAspectRatio,i=Number(e.autoCropArea)||.8,r={width:t.width,height:t.height};n&&(t.height*n>t.width?r.height=r.width/n:r.width=r.height*n),this.cropBoxData=r,this.limitCropBox(!0,!0),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),r.width=Math.max(r.minWidth,r.width*i),r.height=Math.max(r.minHeight,r.height*i),r.left=t.left+(t.width-r.width)/2,r.top=t.top+(t.height-r.height)/2,r.oldLeft=r.left,r.oldTop=r.top,this.initialCropBoxData=fe({},r)},limitCropBox:function(e,t){var n=this.options,i=this.containerData,r=this.canvasData,o=this.cropBoxData,a=this.limited,s=n.aspectRatio;if(e){var l=Number(n.minCropBoxWidth)||0,c=Number(n.minCropBoxHeight)||0,u=a?Math.min(i.width,r.width,r.width+r.left,i.width-r.left):i.width,d=a?Math.min(i.height,r.height,r.height+r.top,i.height-r.top):i.height;l=Math.min(l,i.width),c=Math.min(c,i.height),s&&(l&&c?c*s>l?c=l/s:l=c*s:l?c=l/s:c&&(l=c*s),d*s>u?d=u/s:u=d*s),o.minWidth=Math.min(l,u),o.minHeight=Math.min(c,d),o.maxWidth=u,o.maxHeight=d}t&&(a?(o.minLeft=Math.max(0,r.left),o.minTop=Math.max(0,r.top),o.maxLeft=Math.min(i.width,r.left+r.width)-o.width,o.maxTop=Math.min(i.height,r.top+r.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=i.width-o.width,o.maxTop=i.height-o.height))},renderCropBox:function(){var e=this.options,t=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,e.movable&&e.cropBoxMovable&&Ie(this.face,C,n.width>=t.width&&n.height>=t.height?m:p),ge(this.cropBox,fe({width:n.width,height:n.height},Pe({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Me(this.element,k,this.getData())}},Ve={initPreview:function(){var e=this.element,t=this.crossOrigin,n=this.options.preview,i=t?this.crossOriginUrl:this.url,r=e.alt||"The image to preview",o=document.createElement("img");if(t&&(o.crossOrigin=t),o.src=i,o.alt=r,this.viewBox.appendChild(o),this.viewBoxImage=o,n){var a=n;"string"==typeof n?a=e.ownerDocument.querySelectorAll(n):n.querySelector&&(a=[n]),this.previews=a,de(a,(function(e){var n=document.createElement("img");Ie(e,L,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(n.crossOrigin=t),n.src=i,n.alt=r,n.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(n)}))}},resetPreview:function(){de(this.previews,(function(e){var t=be(e,L);ge(e,{width:t.width,height:t.height}),e.innerHTML=t.html,function(e,t){if(oe(e[t]))try{delete e[t]}catch(n){e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch(n){e.dataset[t]=void 0}else e.removeAttribute("data-".concat(Te(t)))}(e,L)}))},preview:function(){var e=this.imageData,t=this.canvasData,n=this.cropBoxData,i=n.width,r=n.height,o=e.width,a=e.height,s=n.left-t.left-e.left,l=n.top-t.top-e.top;this.cropped&&!this.disabled&&(ge(this.viewBoxImage,fe({width:o,height:a},Pe(fe({translateX:-s,translateY:-l},e)))),de(this.previews,(function(t){var n=be(t,L),c=n.width,u=n.height,d=c,f=u,p=1;i&&(f=r*(p=c/i)),r&&f>u&&(d=i*(p=u/r),f=u),ge(t,{width:d,height:f}),ge(t.getElementsByTagName("img")[0],fe({width:o*p,height:a*p},Pe(fe({translateX:-s*p,translateY:-l*p},e))))})))}},qe={bind:function(){var e=this.element,t=this.options,n=this.cropper;le(t.cropstart)&&xe(e,F,t.cropstart),le(t.cropmove)&&xe(e,U,t.cropmove),le(t.cropend)&&xe(e,B,t.cropend),le(t.crop)&&xe(e,k,t.crop),le(t.zoom)&&xe(e,X,t.zoom),xe(n,V,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&xe(n,W,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&xe(n,z,this.onDblclick=this.dblclick.bind(this)),xe(e.ownerDocument,q,this.onCropMove=this.cropMove.bind(this)),xe(e.ownerDocument,H,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&xe(window,Y,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,n=this.cropper;le(t.cropstart)&&Oe(e,F,t.cropstart),le(t.cropmove)&&Oe(e,U,t.cropmove),le(t.cropend)&&Oe(e,B,t.cropend),le(t.crop)&&Oe(e,k,t.crop),le(t.zoom)&&Oe(e,X,t.zoom),Oe(n,V,this.onCropStart),t.zoomable&&t.zoomOnWheel&&Oe(n,W,this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&Oe(n,z,this.onDblclick),Oe(e.ownerDocument,q,this.onCropMove),Oe(e.ownerDocument,H,this.onCropEnd),t.responsive&&Oe(window,Y,this.onResize)}},He={resize:function(){if(!this.disabled){var e,t,n=this.options,i=this.container,r=this.containerData,o=i.offsetWidth/r.width;1===o&&i.offsetHeight===r.height||(n.restore&&(e=this.getCanvasData(),t=this.getCropBoxData()),this.render(),n.restore&&(this.setCanvasData(de(e,(function(t,n){e[n]=t*o}))),this.setCropBoxData(de(t,(function(e,n){t[n]=e*o})))))}},dblclick:function(){var e,t;this.disabled||this.options.dragMode===G||this.setDragMode((e=this.dragBox,t=R,(e.classList?e.classList.contains(t):e.className.indexOf(t)>-1)?N:P))},wheel:function(e){var t=this,n=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(e.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){t.wheeling=!1}),50),e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*n,e)))},cropStart:function(e){var t=e.buttons,n=e.button;if(!(this.disabled||("mousedown"===e.type||"pointerdown"===e.type&&"mouse"===e.pointerType)&&(ne(t)&&1!==t||ne(n)&&0!==n||e.ctrlKey))){var i,r=this.options,o=this.pointers;e.changedTouches?de(e.changedTouches,(function(e){o[e.identifier]=Ne(e)})):o[e.pointerId||0]=Ne(e),i=Object.keys(o).length>1&&r.zoomable&&r.zoomOnTouch?g:be(e.target,C),Z.test(i)&&!1!==Me(this.element,F,{originalEvent:e,action:i})&&(e.preventDefault(),this.action=i,this.cropping=!1,i===h&&(this.cropping=!0,ve(this.dragBox,A)))}},cropMove:function(e){var t=this.action;if(!this.disabled&&t){var n=this.pointers;e.preventDefault(),!1!==Me(this.element,U,{originalEvent:e,action:t})&&(e.changedTouches?de(e.changedTouches,(function(e){fe(n[e.identifier]||{},Ne(e,!0))})):fe(n[e.pointerId||0]||{},Ne(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var t=this.action,n=this.pointers;e.changedTouches?de(e.changedTouches,(function(e){delete n[e.identifier]})):delete n[e.pointerId||0],t&&(e.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,ye(this.dragBox,A,this.cropped&&this.options.modal)),Me(this.element,B,{originalEvent:e,action:t}))}}},je={change:function(e){var t,n=this.options,i=this.canvasData,r=this.containerData,a=this.cropBoxData,s=this.pointers,l=this.action,c=n.aspectRatio,u=a.left,d=a.top,f=a.width,R=a.height,O=u+f,M=d+R,D=0,A=0,S=r.width,C=r.height,L=!0;!c&&e.shiftKey&&(c=f&&R?f/R:1),this.limited&&(D=a.minLeft,A=a.minTop,S=D+Math.min(r.width,i.width,i.left+i.width),C=A+Math.min(r.height,i.height,i.top+i.height));var P=s[Object.keys(s)[0]],N={x:P.endX-P.startX,y:P.endY-P.startY},G=function(e){switch(e){case v:O+N.x>S&&(N.x=S-O);break;case E:u+N.x<D&&(N.x=D-u);break;case _:d+N.y<A&&(N.y=A-d);break;case y:M+N.y>C&&(N.y=C-M)}};switch(l){case p:u+=N.x,d+=N.y;break;case v:if(N.x>=0&&(O>=S||c&&(d<=A||M>=C))){L=!1;break}G(v),(f+=N.x)<0&&(l=E,u-=f=-f),c&&(R=f/c,d+=(a.height-R)/2);break;case _:if(N.y<=0&&(d<=A||c&&(u<=D||O>=S))){L=!1;break}G(_),R-=N.y,d+=N.y,R<0&&(l=y,d-=R=-R),c&&(f=R*c,u+=(a.width-f)/2);break;case E:if(N.x<=0&&(u<=D||c&&(d<=A||M>=C))){L=!1;break}G(E),f-=N.x,u+=N.x,f<0&&(l=v,u-=f=-f),c&&(R=f/c,d+=(a.height-R)/2);break;case y:if(N.y>=0&&(M>=C||c&&(u<=D||O>=S))){L=!1;break}G(y),(R+=N.y)<0&&(l=_,d-=R=-R),c&&(f=R*c,u+=(a.width-f)/2);break;case T:if(c){if(N.y<=0&&(d<=A||O>=S)){L=!1;break}G(_),R-=N.y,d+=N.y,f=R*c}else G(_),G(v),N.x>=0?O<S?f+=N.x:N.y<=0&&d<=A&&(L=!1):f+=N.x,N.y<=0?d>A&&(R-=N.y,d+=N.y):(R-=N.y,d+=N.y);f<0&&R<0?(l=w,d-=R=-R,u-=f=-f):f<0?(l=b,u-=f=-f):R<0&&(l=I,d-=R=-R);break;case b:if(c){if(N.y<=0&&(d<=A||u<=D)){L=!1;break}G(_),R-=N.y,d+=N.y,f=R*c,u+=a.width-f}else G(_),G(E),N.x<=0?u>D?(f-=N.x,u+=N.x):N.y<=0&&d<=A&&(L=!1):(f-=N.x,u+=N.x),N.y<=0?d>A&&(R-=N.y,d+=N.y):(R-=N.y,d+=N.y);f<0&&R<0?(l=I,d-=R=-R,u-=f=-f):f<0?(l=T,u-=f=-f):R<0&&(l=w,d-=R=-R);break;case w:if(c){if(N.x<=0&&(u<=D||M>=C)){L=!1;break}G(E),f-=N.x,u+=N.x,R=f/c}else G(y),G(E),N.x<=0?u>D?(f-=N.x,u+=N.x):N.y>=0&&M>=C&&(L=!1):(f-=N.x,u+=N.x),N.y>=0?M<C&&(R+=N.y):R+=N.y;f<0&&R<0?(l=T,d-=R=-R,u-=f=-f):f<0?(l=I,u-=f=-f):R<0&&(l=b,d-=R=-R);break;case I:if(c){if(N.x>=0&&(O>=S||M>=C)){L=!1;break}G(v),R=(f+=N.x)/c}else G(y),G(v),N.x>=0?O<S?f+=N.x:N.y>=0&&M>=C&&(L=!1):f+=N.x,N.y>=0?M<C&&(R+=N.y):R+=N.y;f<0&&R<0?(l=b,d-=R=-R,u-=f=-f):f<0?(l=w,u-=f=-f):R<0&&(l=T,d-=R=-R);break;case m:this.move(N.x,N.y),L=!1;break;case g:this.zoom(function(e){var t=o({},e),n=0;return de(e,(function(e,i){delete t[i],de(t,(function(t){var i=Math.abs(e.startX-t.startX),r=Math.abs(e.startY-t.startY),o=Math.abs(e.endX-t.endX),a=Math.abs(e.endY-t.endY),s=Math.sqrt(i*i+r*r),l=(Math.sqrt(o*o+a*a)-s)/s;Math.abs(l)>Math.abs(n)&&(n=l)}))})),n}(s),e),L=!1;break;case h:if(!N.x||!N.y){L=!1;break}t=De(this.cropper),u=P.startX-t.left,d=P.startY-t.top,f=a.minWidth,R=a.minHeight,N.x>0?l=N.y>0?I:T:N.x<0&&(u-=f,l=N.y>0?w:b),N.y<0&&(d-=R),this.cropped||(Ee(this.cropBox,x),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}L&&(a.width=f,a.height=R,a.left=u,a.top=d,this.action=l,this.renderCropBox()),de(s,(function(e){e.startX=e.endX,e.startY=e.endY}))}},Ye={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&ve(this.dragBox,A),Ee(this.cropBox,x),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=fe({},this.initialImageData),this.canvasData=fe({},this.initialCanvasData),this.cropBoxData=fe({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(fe(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Ee(this.dragBox,A),ve(this.cropBox,x)),this},replace:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,de(this.previews,(function(t){t.getElementsByTagName("img")[0].src=e})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Ee(this.cropper,O)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,ve(this.cropper,O)),this},destroy:function(){var e=this.element;return e.cropper?(e.cropper=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.canvasData,i=n.left,r=n.top;return this.moveTo(re(e)?e:i+Number(e),re(t)?t:r+Number(t))},moveTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.canvasData,i=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(ne(e)&&(n.left=e,i=!0),ne(t)&&(n.top=t,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(e,t){var n=this.canvasData;return e=(e=Number(e))<0?1/(1-e):1+e,this.zoomTo(n.width*e/n.naturalWidth,null,t)},zoomTo:function(e,t,n){var i=this.options,r=this.canvasData,o=r.width,a=r.height,s=r.naturalWidth,l=r.naturalHeight;if((e=Number(e))>=0&&this.ready&&!this.disabled&&i.zoomable){var c=s*e,u=l*e;if(!1===Me(this.element,X,{ratio:e,oldRatio:o/s,originalEvent:n}))return this;if(n){var d=this.pointers,f=De(this.cropper),p=d&&Object.keys(d).length?function(e){var t=0,n=0,i=0;return de(e,(function(e){var r=e.startX,o=e.startY;t+=r,n+=o,i+=1})),{pageX:t/=i,pageY:n/=i}}(d):{pageX:n.pageX,pageY:n.pageY};r.left-=(c-o)*((p.pageX-f.left-r.left)/o),r.top-=(u-a)*((p.pageY-f.top-r.top)/a)}else se(t)&&ne(t.x)&&ne(t.y)?(r.left-=(c-o)*((t.x-r.left)/o),r.top-=(u-a)*((t.y-r.top)/a)):(r.left-=(c-o)/2,r.top-=(u-a)/2);r.width=c,r.height=u,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return ne(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,ne(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(ne(t)?t:1,e)},scale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.imageData,i=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(ne(e)&&(n.scaleX=e,i=!0),ne(t)&&(n.scaleY=t,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.options,i=this.imageData,r=this.canvasData,o=this.cropBoxData;if(this.ready&&this.cropped){e={x:o.left-r.left,y:o.top-r.top,width:o.width,height:o.height};var a=i.width/i.naturalWidth;if(de(e,(function(t,n){e[n]=t/a})),t){var s=Math.round(e.y+e.height),l=Math.round(e.x+e.width);e.x=Math.round(e.x),e.y=Math.round(e.y),e.width=l-e.x,e.height=s-e.y}}else e={x:0,y:0,width:0,height:0};return n.rotatable&&(e.rotate=i.rotate||0),n.scalable&&(e.scaleX=i.scaleX||1,e.scaleY=i.scaleY||1),e},setData:function(e){var t=this.options,n=this.imageData,i=this.canvasData,r={};if(this.ready&&!this.disabled&&se(e)){var o=!1;t.rotatable&&ne(e.rotate)&&e.rotate!==n.rotate&&(n.rotate=e.rotate,o=!0),t.scalable&&(ne(e.scaleX)&&e.scaleX!==n.scaleX&&(n.scaleX=e.scaleX,o=!0),ne(e.scaleY)&&e.scaleY!==n.scaleY&&(n.scaleY=e.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var a=n.width/n.naturalWidth;ne(e.x)&&(r.left=e.x*a+i.left),ne(e.y)&&(r.top=e.y*a+i.top),ne(e.width)&&(r.width=e.width*a),ne(e.height)&&(r.height=e.height*a),this.setCropBoxData(r)}return this},getContainerData:function(){return this.ready?fe({},this.containerData):{}},getImageData:function(){return this.sized?fe({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,t={};return this.ready&&de(["left","top","width","height","naturalWidth","naturalHeight"],(function(n){t[n]=e[n]})),t},setCanvasData:function(e){var t=this.canvasData,n=t.aspectRatio;return this.ready&&!this.disabled&&se(e)&&(ne(e.left)&&(t.left=e.left),ne(e.top)&&(t.top=e.top),ne(e.width)?(t.width=e.width,t.height=e.width/n):ne(e.height)&&(t.height=e.height,t.width=e.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var e,t=this.cropBoxData;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(e){var t,n,i=this.cropBoxData,r=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&se(e)&&(ne(e.left)&&(i.left=e.left),ne(e.top)&&(i.top=e.top),ne(e.width)&&e.width!==i.width&&(t=!0,i.width=e.width),ne(e.height)&&e.height!==i.height&&(n=!0,i.height=e.height),r&&(t?i.height=i.width/r:n&&(i.width=i.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t=this.canvasData,n=ke(this.image,this.imageData,t,e);if(!this.cropped)return n;var i=this.getData(),r=i.x,o=i.y,s=i.width,l=i.height,c=n.width/Math.floor(t.naturalWidth);1!==c&&(r*=c,o*=c,s*=c,l*=c);var u=s/l,d=Ge({aspectRatio:u,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),f=Ge({aspectRatio:u,width:e.minWidth||0,height:e.minHeight||0},"cover"),p=Ge({aspectRatio:u,width:e.width||(1!==c?n.width:s),height:e.height||(1!==c?n.height:l)}),h=p.width,m=p.height;h=Math.min(d.width,Math.max(f.width,h)),m=Math.min(d.height,Math.max(f.height,m));var g=document.createElement("canvas"),v=g.getContext("2d");g.width=he(h),g.height=he(m),v.fillStyle=e.fillColor||"transparent",v.fillRect(0,0,h,m);var E=e.imageSmoothingEnabled,y=void 0===E||E,_=e.imageSmoothingQuality;v.imageSmoothingEnabled=y,_&&(v.imageSmoothingQuality=_);var T,b,I,w,R,O,x=n.width,M=n.height,D=r,A=o;D<=-s||D>x?(D=0,T=0,I=0,R=0):D<=0?(I=-D,D=0,R=T=Math.min(x,s+D)):D<=x&&(I=0,R=T=Math.min(s,x-D)),T<=0||A<=-l||A>M?(A=0,b=0,w=0,O=0):A<=0?(w=-A,A=0,O=b=Math.min(M,l+A)):A<=M&&(w=0,O=b=Math.min(l,M-A));var S=[D,A,T,b];if(R>0&&O>0){var C=h/s;S.push(I*C,w*C,R*C,O*C)}return v.drawImage.apply(v,[n].concat(a(S.map((function(e){return Math.floor(he(e))}))))),g},setAspectRatio:function(e){var t=this.options;return this.disabled||re(e)||(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,n=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var r=e===P,o=t.movable&&e===N;e=r||o?e:G,t.dragMode=e,Ie(n,C,e),ye(n,R,r),ye(n,S,o),t.cropBoxMovable||(Ie(i,C,e),ye(i,R,r),ye(i,S,o))}return this}},We=c.Cropper,Xe=function(){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t(this,e),!n||!J.test(n.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=n,this.options=fe({},ee,se(i)&&i),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return i=e,o=[{key:"noConflict",value:function(){return window.Cropper=We,e}},{key:"setDefaults",value:function(e){fe(ee,se(e)&&e)}}],(r=[{key:"init",value:function(){var e,t=this.element,n=t.tagName.toLowerCase();if(!t.cropper){if(t.cropper=this,"img"===n){if(this.isImg=!0,e=t.getAttribute("src")||"",this.originalUrl=e,!e)return;e=t.src}else"canvas"===n&&window.HTMLCanvasElement&&(e=t.toDataURL());this.load(e)}}},{key:"load",value:function(e){var t,n,i,r,o=this;if(e){this.url=e,this.imageData={};var a=this.element,s=this.options;if(s.rotatable||s.scalable||(s.checkOrientation=!1),s.checkOrientation&&window.ArrayBuffer)if(K.test(e))$.test(e)?this.read((t=e.replace(Ue,""),n=atob(t),i=new ArrayBuffer(n.length),de(r=new Uint8Array(i),(function(e,t){r[t]=n.charCodeAt(t)})),i)):this.clone();else{var l=new XMLHttpRequest,c=this.clone.bind(this);this.reloading=!0,this.xhr=l,l.onabort=c,l.onerror=c,l.ontimeout=c,l.onprogress=function(){l.getResponseHeader("content-type")!==Q&&l.abort()},l.onload=function(){o.read(l.response)},l.onloadend=function(){o.reloading=!1,o.xhr=null},s.checkCrossOrigin&&Ce(e)&&a.crossOrigin&&(e=Le(e)),l.open("GET",e),l.responseType="arraybuffer",l.withCredentials="use-credentials"===a.crossOrigin,l.send()}else this.clone()}}},{key:"read",value:function(e){var t=this.options,n=this.imageData,i=Fe(e),r=0,o=1,a=1;if(i>1){this.url=function(e,t){for(var n=[],i=new Uint8Array(e);i.length>0;)n.push(Be.apply(null,ue(i.subarray(0,8192)))),i=i.subarray(8192);return"data:".concat(t,";base64,").concat(btoa(n.join("")))}(e,Q);var s=function(e){var t=0,n=1,i=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:i=-1;break;case 5:t=90,i=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90}return{rotate:t,scaleX:n,scaleY:i}}(i);r=s.rotate,o=s.scaleX,a=s.scaleY}t.rotatable&&(n.rotate=r),t.scalable&&(n.scaleX=o,n.scaleY=a),this.clone()}},{key:"clone",value:function(){var e=this.element,t=this.url,n=e.crossOrigin,i=t;this.options.checkCrossOrigin&&Ce(t)&&(n||(n="anonymous"),i=Le(t)),this.crossOrigin=n,this.crossOriginUrl=i;var r=document.createElement("img");n&&(r.crossOrigin=n),r.src=i||t,r.alt=e.alt||"The image to crop",this.image=r,r.onload=this.start.bind(this),r.onerror=this.stop.bind(this),ve(r,M),e.parentNode.insertBefore(r,e.nextSibling)}},{key:"start",value:function(){var e=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var n=c.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(c.navigator.userAgent),i=function(t,n){fe(e.imageData,{naturalWidth:t,naturalHeight:n,aspectRatio:t/n}),e.initialImageData=fe({},e.imageData),e.sizing=!1,e.sized=!0,e.build()};if(!t.naturalWidth||n){var r=document.createElement("img"),o=document.body||document.documentElement;this.sizingImage=r,r.onload=function(){i(r.width,r.height),n||o.removeChild(r)},r.src=t.src,n||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",o.appendChild(r))}else i(t.naturalWidth,t.naturalHeight)}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var e=this.element,t=this.options,n=this.image,i=e.parentNode,r=document.createElement("div");r.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var o=r.querySelector(".".concat(f,"-container")),a=o.querySelector(".".concat(f,"-canvas")),s=o.querySelector(".".concat(f,"-drag-box")),l=o.querySelector(".".concat(f,"-crop-box")),c=l.querySelector(".".concat(f,"-face"));this.container=i,this.cropper=o,this.canvas=a,this.dragBox=s,this.cropBox=l,this.viewBox=o.querySelector(".".concat(f,"-view-box")),this.face=c,a.appendChild(n),ve(e,x),i.insertBefore(o,e.nextSibling),this.isImg||Ee(n,M),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,ve(l,x),t.guides||ve(l.getElementsByClassName("".concat(f,"-dashed")),x),t.center||ve(l.getElementsByClassName("".concat(f,"-center")),x),t.background&&ve(o,"".concat(f,"-bg")),t.highlight||ve(c,D),t.cropBoxMovable&&(ve(c,S),Ie(c,C,p)),t.cropBoxResizable||(ve(l.getElementsByClassName("".concat(f,"-line")),x),ve(l.getElementsByClassName("".concat(f,"-point")),x)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),le(t.ready)&&xe(e,j,t.ready,{once:!0}),Me(e,j)}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),Ee(this.element,x))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}])&&n(i.prototype,r),o&&n(i,o),e;var i,r,o}();return fe(Xe.prototype,ze,Ve,qe,He,je,Ye),Xe}()},978:(e,t,n)=>{(e.exports=n(252)(!1)).push([e.id,"/*!\n * Cropper.js v1.5.9\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2020-09-10T13:16:21.689Z\n */\n\n.cropper-container {\n  direction: ltr;\n  font-size: 0;\n  line-height: 0;\n  position: relative;\n  -ms-touch-action: none;\n  touch-action: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.cropper-container img {\n  display: block;\n  height: 100%;\n  image-orientation: 0deg;\n  max-height: none !important;\n  max-width: none !important;\n  min-height: 0 !important;\n  min-width: 0 !important;\n  width: 100%;\n}\n\n.cropper-wrap-box,\n.cropper-canvas,\n.cropper-drag-box,\n.cropper-crop-box,\n.cropper-modal {\n  bottom: 0;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.cropper-wrap-box,\n.cropper-canvas {\n  overflow: hidden;\n}\n\n.cropper-drag-box {\n  background-color: #fff;\n  opacity: 0;\n}\n\n.cropper-modal {\n  background-color: #000;\n  opacity: 0.5;\n}\n\n.cropper-view-box {\n  display: block;\n  height: 100%;\n  outline: 1px solid #39f;\n  outline-color: rgba(51, 153, 255, 0.75);\n  overflow: hidden;\n  width: 100%;\n}\n\n.cropper-dashed {\n  border: 0 dashed #eee;\n  display: block;\n  opacity: 0.5;\n  position: absolute;\n}\n\n.cropper-dashed.dashed-h {\n  border-bottom-width: 1px;\n  border-top-width: 1px;\n  height: calc(100% / 3);\n  left: 0;\n  top: calc(100% / 3);\n  width: 100%;\n}\n\n.cropper-dashed.dashed-v {\n  border-left-width: 1px;\n  border-right-width: 1px;\n  height: 100%;\n  left: calc(100% / 3);\n  top: 0;\n  width: calc(100% / 3);\n}\n\n.cropper-center {\n  display: block;\n  height: 0;\n  left: 50%;\n  opacity: 0.75;\n  position: absolute;\n  top: 50%;\n  width: 0;\n}\n\n.cropper-center::before,\n.cropper-center::after {\n  background-color: #eee;\n  content: ' ';\n  display: block;\n  position: absolute;\n}\n\n.cropper-center::before {\n  height: 1px;\n  left: -3px;\n  top: 0;\n  width: 7px;\n}\n\n.cropper-center::after {\n  height: 7px;\n  left: 0;\n  top: -3px;\n  width: 1px;\n}\n\n.cropper-face,\n.cropper-line,\n.cropper-point {\n  display: block;\n  height: 100%;\n  opacity: 0.1;\n  position: absolute;\n  width: 100%;\n}\n\n.cropper-face {\n  background-color: #fff;\n  left: 0;\n  top: 0;\n}\n\n.cropper-line {\n  background-color: #39f;\n}\n\n.cropper-line.line-e {\n  cursor: ew-resize;\n  right: -3px;\n  top: 0;\n  width: 5px;\n}\n\n.cropper-line.line-n {\n  cursor: ns-resize;\n  height: 5px;\n  left: 0;\n  top: -3px;\n}\n\n.cropper-line.line-w {\n  cursor: ew-resize;\n  left: -3px;\n  top: 0;\n  width: 5px;\n}\n\n.cropper-line.line-s {\n  bottom: -3px;\n  cursor: ns-resize;\n  height: 5px;\n  left: 0;\n}\n\n.cropper-point {\n  background-color: #39f;\n  height: 5px;\n  opacity: 0.75;\n  width: 5px;\n}\n\n.cropper-point.point-e {\n  cursor: ew-resize;\n  margin-top: -3px;\n  right: -3px;\n  top: 50%;\n}\n\n.cropper-point.point-n {\n  cursor: ns-resize;\n  left: 50%;\n  margin-left: -3px;\n  top: -3px;\n}\n\n.cropper-point.point-w {\n  cursor: ew-resize;\n  left: -3px;\n  margin-top: -3px;\n  top: 50%;\n}\n\n.cropper-point.point-s {\n  bottom: -3px;\n  cursor: s-resize;\n  left: 50%;\n  margin-left: -3px;\n}\n\n.cropper-point.point-ne {\n  cursor: nesw-resize;\n  right: -3px;\n  top: -3px;\n}\n\n.cropper-point.point-nw {\n  cursor: nwse-resize;\n  left: -3px;\n  top: -3px;\n}\n\n.cropper-point.point-sw {\n  bottom: -3px;\n  cursor: nesw-resize;\n  left: -3px;\n}\n\n.cropper-point.point-se {\n  bottom: -3px;\n  cursor: nwse-resize;\n  height: 20px;\n  opacity: 1;\n  right: -3px;\n  width: 20px;\n}\n\n@media (min-width: 768px) {\n  .cropper-point.point-se {\n    height: 15px;\n    width: 15px;\n  }\n}\n\n@media (min-width: 992px) {\n  .cropper-point.point-se {\n    height: 10px;\n    width: 10px;\n  }\n}\n\n@media (min-width: 1200px) {\n  .cropper-point.point-se {\n    height: 5px;\n    opacity: 0.75;\n    width: 5px;\n  }\n}\n\n.cropper-point.point-se::before {\n  background-color: #39f;\n  bottom: -50%;\n  content: ' ';\n  display: block;\n  height: 200%;\n  opacity: 0;\n  position: absolute;\n  right: -50%;\n  width: 200%;\n}\n\n.cropper-invisible {\n  opacity: 0;\n}\n\n.cropper-bg {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC');\n}\n\n.cropper-hide {\n  display: block;\n  height: 0;\n  position: absolute;\n  width: 0;\n}\n\n.cropper-hidden {\n  display: none !important;\n}\n\n.cropper-move {\n  cursor: move;\n}\n\n.cropper-crop {\n  cursor: crosshair;\n}\n\n.cropper-disabled .cropper-drag-box,\n.cropper-disabled .cropper-face,\n.cropper-disabled .cropper-line,\n.cropper-disabled .cropper-point {\n  cursor: not-allowed;\n}\n",""])},193:(e,t,n)=>{(e.exports=n(252)(!1)).push([e.id,"/*!\n * FilePondPluginImageEdit 1.6.1\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n.filepond--action-edit-item.filepond--action-edit-item {\n  width: 2em;\n  height: 2em;\n  padding: 0.1875em;\n}\n.filepond--action-edit-item.filepond--action-edit-item[data-align*='center'] {\n  margin-left: -0.1875em;\n}\n.filepond--action-edit-item.filepond--action-edit-item[data-align*='bottom'] {\n  margin-bottom: -0.1875em;\n}\n\n.filepond--action-edit-item-alt {\n  border: none;\n  line-height: inherit;\n  background: transparent;\n  font-family: inherit;\n  color: inherit;\n  outline: none;\n  padding: 0;\n  margin: 0 0 0 0.25em;\n  pointer-events: all;\n  position: absolute;\n}\n.filepond--action-edit-item-alt svg {\n  width: 1.3125em;\n  height: 1.3125em;\n}\n.filepond--action-edit-item-alt span {\n  font-size: 0;\n  opacity: 0;\n}\n\n.filepond--root[data-style-panel-layout~='circle'] .filepond--action-edit-item {\n  opacity: 1 !important;\n  visibility: visible !important;\n}\n",""])},288:(e,t,n)=>{(e.exports=n(252)(!1)).push([e.id,"/*!\n * FilePondPluginImagePreview 4.6.4\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n.filepond--image-preview-markup {\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n\n.filepond--image-preview-wrapper {\n  z-index: 2;\n}\n\n.filepond--image-preview-overlay {\n  display: block;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  min-height: 5rem;\n  max-height: 7rem;\n  margin: 0;\n  opacity: 0;\n  z-index: 2;\n  pointer-events: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.filepond--image-preview-overlay svg {\n  width: 100%;\n  height: auto;\n  color: inherit;\n  max-height: inherit;\n}\n\n.filepond--image-preview-overlay-idle {\n  mix-blend-mode: multiply;\n  color: rgba(40, 40, 40, 0.85);\n}\n\n.filepond--image-preview-overlay-success {\n  mix-blend-mode: normal;\n  color: #369763;\n}\n\n.filepond--image-preview-overlay-failure {\n  mix-blend-mode: normal;\n  color: #c44e47;\n}\n\n@supports (-webkit-marquee-repetition: infinite) and\n  ((-o-object-fit: fill) or (object-fit: fill)) {\n  .filepond--image-preview-overlay-idle {\n    mix-blend-mode: normal;\n  }\n}\n\n.filepond--image-preview-wrapper {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  height: 100%;\n  margin: 0;\n  border-radius: 0.45em;\n  overflow: hidden;\n  background: rgba(0, 0, 0, 0.01);\n}\n\n.filepond--image-preview {\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 1;\n  display: flex;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n  pointer-events: none;\n  background: #222;\n  will-change: transform, opacity;\n}\n\n.filepond--image-clip {\n  position: relative;\n  overflow: hidden;\n  margin: 0 auto;\n}\n.filepond--image-clip[data-transparency-indicator='grid'] img,\n.filepond--image-clip[data-transparency-indicator='grid'] canvas {\n  background-color: #fff;\n  background-image: url(\"data:image/svg+xml,%3Csvg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg' fill='%23eee'%3E%3Cpath d='M0 0 H50 V50 H0'/%3E%3Cpath d='M50 50 H100 V100 H50'/%3E%3C/svg%3E\");\n  background-size: 1.25em 1.25em;\n}\n\n.filepond--image-bitmap,\n.filepond--image-vector {\n  position: absolute;\n  left: 0;\n  top: 0;\n  will-change: transform;\n}\n\n.filepond--root[data-style-panel-layout~='integrated']\n  .filepond--image-preview-wrapper {\n  border-radius: 0;\n}\n\n.filepond--root[data-style-panel-layout~='integrated']\n  .filepond--image-preview {\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.filepond--root[data-style-panel-layout~='circle']\n  .filepond--image-preview-wrapper {\n  border-radius: 99999rem;\n}\n\n.filepond--root[data-style-panel-layout~='circle']\n  .filepond--image-preview-overlay {\n  top: auto;\n  bottom: 0;\n  -webkit-transform: scaleY(-1);\n  transform: scaleY(-1);\n}\n\n.filepond--root[data-style-panel-layout~='circle']\n  .filepond--file\n  .filepond--file-action-button[data-align*='bottom']:not([data-align*='center']) {\n  margin-bottom: 0.325em;\n}\n\n.filepond--root[data-style-panel-layout~='circle']\n  .filepond--file\n  [data-align*='left'] {\n  left: calc(50% - 3em);\n}\n\n.filepond--root[data-style-panel-layout~='circle']\n  .filepond--file\n  [data-align*='right'] {\n  right: calc(50% - 3em);\n}\n\n.filepond--root[data-style-panel-layout~='circle']\n  .filepond--progress-indicator[data-align*='bottom'][data-align*='left'],\n.filepond--root[data-style-panel-layout~='circle']\n  .filepond--progress-indicator[data-align*='bottom'][data-align*='right'] {\n  margin-bottom: calc(0.325em + 0.1875em);\n}\n\n.filepond--root[data-style-panel-layout~='circle']\n  .filepond--progress-indicator[data-align*='bottom'][data-align*='center'] {\n  margin-top: 0;\n  margin-bottom: 0.1875em;\n  margin-left: 0.1875em;\n}\n",""])},797:(e,t,n)=>{(e.exports=n(252)(!1)).push([e.id,'/*!\n * FilePond 4.23.1\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n.filepond--assistant{position:absolute;overflow:hidden;height:1px;width:1px;padding:0;border:0;clip:rect(1px,1px,1px,1px);-webkit-clip-path:inset(50%);clip-path:inset(50%);white-space:nowrap}.filepond--browser.filepond--browser{position:absolute;margin:0;padding:0;left:1em;top:1.75em;width:calc(100% - 2em);opacity:0;font-size:0}.filepond--data{position:absolute;width:0;height:0;padding:0;margin:0;border:none;visibility:hidden;pointer-events:none;contain:strict}.filepond--drip{position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden;opacity:.1;pointer-events:none;border-radius:.5em;background:rgba(0,0,0,.01)}.filepond--drip-blob{-webkit-transform-origin:center center;transform-origin:center center;width:8em;height:8em;margin-left:-4em;margin-top:-4em;background:#292625;border-radius:50%}.filepond--drip-blob,.filepond--drop-label{position:absolute;top:0;left:0;will-change:transform,opacity}.filepond--drop-label{right:0;margin:0;color:#4f4f4f;display:flex;justify-content:center;align-items:center;height:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.filepond--drop-label.filepond--drop-label label{display:block;margin:0;padding:.5em}.filepond--drop-label label{cursor:default;font-size:.875em;font-weight:400;text-align:center;line-height:1.5}.filepond--label-action{text-decoration:underline;-webkit-text-decoration-skip:ink;text-decoration-skip-ink:auto;-webkit-text-decoration-color:#a7a4a4;text-decoration-color:#a7a4a4;cursor:pointer}.filepond--root[data-disabled] .filepond--drop-label label{opacity:.5}.filepond--file-action-button.filepond--file-action-button{font-size:1em;width:1.625em;height:1.625em;font-family:inherit;line-height:inherit;margin:0;padding:0;border:none;outline:none;will-change:transform,opacity}.filepond--file-action-button.filepond--file-action-button span{position:absolute;overflow:hidden;height:1px;width:1px;padding:0;border:0;clip:rect(1px,1px,1px,1px);-webkit-clip-path:inset(50%);clip-path:inset(50%);white-space:nowrap}.filepond--file-action-button.filepond--file-action-button svg{width:100%;height:100%}.filepond--file-action-button.filepond--file-action-button:after{position:absolute;left:-.75em;right:-.75em;top:-.75em;bottom:-.75em;content:""}.filepond--file-action-button{cursor:auto;color:#fff;border-radius:50%;background-color:rgba(0,0,0,.5);background-image:none;box-shadow:0 0 0 0 hsla(0,0%,100%,0);transition:box-shadow .25s ease-in}.filepond--file-action-button:focus,.filepond--file-action-button:hover{box-shadow:0 0 0 .125em hsla(0,0%,100%,.9)}.filepond--file-action-button[disabled]{color:hsla(0,0%,100%,.5);background-color:rgba(0,0,0,.25)}.filepond--file-action-button[hidden]{display:none}.filepond--file-info{position:static;display:flex;flex-direction:column;align-items:flex-start;flex:1;margin:0 .5em 0 0;min-width:0;will-change:transform,opacity;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.filepond--file-info *{margin:0}.filepond--file-info .filepond--file-info-main{font-size:.75em;line-height:1.2;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:100%}.filepond--file-info .filepond--file-info-sub{font-size:.625em;opacity:.5;transition:opacity .25s ease-in-out;white-space:nowrap}.filepond--file-info .filepond--file-info-sub:empty{display:none}.filepond--file-status{position:static;display:flex;flex-direction:column;align-items:flex-end;flex-grow:0;flex-shrink:0;margin:0;min-width:2.25em;text-align:right;will-change:transform,opacity;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.filepond--file-status *{margin:0;white-space:nowrap}.filepond--file-status .filepond--file-status-main{font-size:.75em;line-height:1.2}.filepond--file-status .filepond--file-status-sub{font-size:.625em;opacity:.5;transition:opacity .25s ease-in-out}.filepond--file-wrapper.filepond--file-wrapper{border:none;margin:0;padding:0;min-width:0;height:100%}.filepond--file-wrapper.filepond--file-wrapper>legend{position:absolute;overflow:hidden;height:1px;width:1px;padding:0;border:0;clip:rect(1px,1px,1px,1px);-webkit-clip-path:inset(50%);clip-path:inset(50%);white-space:nowrap}.filepond--file{position:static;display:flex;height:100%;align-items:flex-start;padding:.5625em;color:#fff;border-radius:.5em}.filepond--file .filepond--file-status{margin-left:auto;margin-right:2.25em}.filepond--file .filepond--processing-complete-indicator{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:3}.filepond--file .filepond--file-action-button,.filepond--file .filepond--processing-complete-indicator,.filepond--file .filepond--progress-indicator{position:absolute}.filepond--file [data-align*=left]{left:.5625em}.filepond--file [data-align*=right]{right:.5625em}.filepond--file [data-align*=center]{left:calc(50% - .8125em)}.filepond--file [data-align*=bottom]{bottom:1.125em}.filepond--file [data-align=center]{top:calc(50% - .8125em)}.filepond--file .filepond--progress-indicator{margin-top:.1875em}.filepond--file .filepond--progress-indicator[data-align*=right]{margin-right:.1875em}.filepond--file .filepond--progress-indicator[data-align*=left]{margin-left:.1875em}[data-filepond-item-state*=error] .filepond--file-info,[data-filepond-item-state*=invalid] .filepond--file-info,[data-filepond-item-state=cancelled] .filepond--file-info{margin-right:2.25em}[data-filepond-item-state~=processing] .filepond--file-status-sub{opacity:0}[data-filepond-item-state~=processing] .filepond--action-abort-item-processing~.filepond--file-status .filepond--file-status-sub{opacity:.5}[data-filepond-item-state=processing-error] .filepond--file-status-sub{opacity:0}[data-filepond-item-state=processing-error] .filepond--action-retry-item-processing~.filepond--file-status .filepond--file-status-sub{opacity:.5}[data-filepond-item-state=processing-complete] .filepond--action-revert-item-processing svg{-webkit-animation:fall .5s linear .125s both;animation:fall .5s linear .125s both}[data-filepond-item-state=processing-complete] .filepond--file-status-sub{opacity:.5}[data-filepond-item-state=processing-complete] .filepond--file-info-sub,[data-filepond-item-state=processing-complete] .filepond--processing-complete-indicator:not([style*=hidden])~.filepond--file-status .filepond--file-status-sub{opacity:0}[data-filepond-item-state=processing-complete] .filepond--action-revert-item-processing~.filepond--file-info .filepond--file-info-sub{opacity:.5}[data-filepond-item-state*=error] .filepond--file-wrapper,[data-filepond-item-state*=error] .filepond--panel,[data-filepond-item-state*=invalid] .filepond--file-wrapper,[data-filepond-item-state*=invalid] .filepond--panel{-webkit-animation:shake .65s linear both;animation:shake .65s linear both}[data-filepond-item-state*=busy] .filepond--progress-indicator svg{-webkit-animation:spin 1s linear infinite;animation:spin 1s linear infinite}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes shake{10%,90%{-webkit-transform:translateX(-.0625em);transform:translateX(-.0625em)}20%,80%{-webkit-transform:translateX(.125em);transform:translateX(.125em)}30%,50%,70%{-webkit-transform:translateX(-.25em);transform:translateX(-.25em)}40%,60%{-webkit-transform:translateX(.25em);transform:translateX(.25em)}}@keyframes shake{10%,90%{-webkit-transform:translateX(-.0625em);transform:translateX(-.0625em)}20%,80%{-webkit-transform:translateX(.125em);transform:translateX(.125em)}30%,50%,70%{-webkit-transform:translateX(-.25em);transform:translateX(-.25em)}40%,60%{-webkit-transform:translateX(.25em);transform:translateX(.25em)}}@-webkit-keyframes fall{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}70%{opacity:1;-webkit-transform:scale(1.1);transform:scale(1.1);-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}to{-webkit-transform:scale(1);transform:scale(1);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}}@keyframes fall{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}70%{opacity:1;-webkit-transform:scale(1.1);transform:scale(1.1);-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}to{-webkit-transform:scale(1);transform:scale(1);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}}.filepond--hopper[data-hopper-state=drag-over]>*{pointer-events:none}.filepond--hopper[data-hopper-state=drag-over]:after{content:"";position:absolute;left:0;top:0;right:0;bottom:0;z-index:100}.filepond--progress-indicator{z-index:103}.filepond--file-action-button{z-index:102}.filepond--file-status{z-index:101}.filepond--file-info{z-index:100}.filepond--item{position:absolute;top:0;left:0;right:0;z-index:1;padding:0;margin:.25em;will-change:transform,opacity}.filepond--item>.filepond--panel{z-index:-1}.filepond--item>.filepond--panel .filepond--panel-bottom{box-shadow:0 .0625em .125em -.0625em rgba(0,0,0,.25)}.filepond--item>.filepond--file-wrapper,.filepond--item>.filepond--panel{transition:opacity .15s ease-out}.filepond--item[data-drag-state]{cursor:-webkit-grab;cursor:grab}.filepond--item[data-drag-state]>.filepond--panel{transition:box-shadow .125s ease-in-out;box-shadow:0 0 0 transparent}.filepond--item[data-drag-state=drag]{cursor:-webkit-grabbing;cursor:grabbing}.filepond--item[data-drag-state=drag]>.filepond--panel{box-shadow:0 .125em .3125em rgba(0,0,0,.325)}.filepond--item[data-drag-state]:not([data-drag-state=idle]){z-index:2}.filepond--item-panel{background-color:#64605e}[data-filepond-item-state=processing-complete] .filepond--item-panel{background-color:#369763}[data-filepond-item-state*=error] .filepond--item-panel,[data-filepond-item-state*=invalid] .filepond--item-panel{background-color:#c44e47}.filepond--item-panel{border-radius:.5em;transition:background-color .25s}.filepond--list-scroller{position:absolute;top:0;left:0;right:0;margin:0;will-change:transform}.filepond--list-scroller[data-state=overflow]{overflow-y:scroll;overflow-x:hidden;-webkit-overflow-scrolling:touch;-webkit-mask:linear-gradient(180deg,#000 calc(100% - .5em),transparent);mask:linear-gradient(180deg,#000 calc(100% - .5em),transparent)}.filepond--list-scroller[data-state=overflow] .filepond--list{bottom:0;right:0}.filepond--list-scroller::-webkit-scrollbar{background:transparent}.filepond--list-scroller::-webkit-scrollbar:vertical{width:1em}.filepond--list-scroller::-webkit-scrollbar:horizontal{height:0}.filepond--list-scroller::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.3);border-radius:99999px;border:.3125em solid transparent;background-clip:content-box}.filepond--list.filepond--list{position:absolute;top:0;margin:0;padding:0;list-style-type:none;will-change:transform}.filepond--list{left:.75em;right:.75em}.filepond--root[data-style-panel-layout~=integrated]{width:100%;height:100%;max-width:none;margin:0}.filepond--root[data-style-panel-layout~=circle] .filepond--panel-root,.filepond--root[data-style-panel-layout~=integrated] .filepond--panel-root{border-radius:0}.filepond--root[data-style-panel-layout~=circle] .filepond--panel-root>*,.filepond--root[data-style-panel-layout~=integrated] .filepond--panel-root>*{display:none}.filepond--root[data-style-panel-layout~=circle] .filepond--drop-label,.filepond--root[data-style-panel-layout~=integrated] .filepond--drop-label{bottom:0;height:auto;display:flex;justify-content:center;align-items:center;z-index:7}.filepond--root[data-style-panel-layout~=circle] .filepond--item-panel,.filepond--root[data-style-panel-layout~=integrated] .filepond--item-panel{display:none}.filepond--root[data-style-panel-layout~=compact] .filepond--list-scroller,.filepond--root[data-style-panel-layout~=integrated] .filepond--list-scroller{overflow:hidden;height:100%;margin-top:0;margin-bottom:0}.filepond--root[data-style-panel-layout~=compact] .filepond--list,.filepond--root[data-style-panel-layout~=integrated] .filepond--list{left:0;right:0;height:100%}.filepond--root[data-style-panel-layout~=compact] .filepond--item,.filepond--root[data-style-panel-layout~=integrated] .filepond--item{margin:0}.filepond--root[data-style-panel-layout~=compact] .filepond--file-wrapper,.filepond--root[data-style-panel-layout~=integrated] .filepond--file-wrapper{height:100%}.filepond--root[data-style-panel-layout~=compact] .filepond--drop-label,.filepond--root[data-style-panel-layout~=integrated] .filepond--drop-label{z-index:7}.filepond--root[data-style-panel-layout~=circle]{border-radius:99999rem;overflow:hidden}.filepond--root[data-style-panel-layout~=circle]>.filepond--panel{border-radius:inherit}.filepond--root[data-style-panel-layout~=circle] .filepond--file-info,.filepond--root[data-style-panel-layout~=circle] .filepond--file-status,.filepond--root[data-style-panel-layout~=circle]>.filepond--panel>*{display:none}@media not all and (min-resolution:0.001dpcm){@supports (-webkit-appearance:none) and (stroke-color:transparent){.filepond--root[data-style-panel-layout~=circle]{will-change:transform}}}.filepond--panel-root{border-radius:.5em;background-color:#f1f0ef}.filepond--panel{position:absolute;left:0;top:0;right:0;margin:0;height:100%!important;pointer-events:none}.filepond-panel:not([data-scalable=false]){height:auto!important}.filepond--panel[data-scalable=false]>div{display:none}.filepond--panel[data-scalable=true]{-webkit-transform-style:preserve-3d;transform-style:preserve-3d;background-color:transparent!important;border:none!important}.filepond--panel-bottom,.filepond--panel-center,.filepond--panel-top{position:absolute;left:0;top:0;right:0;margin:0;padding:0}.filepond--panel-bottom,.filepond--panel-top{height:.5em}.filepond--panel-top{border-bottom-left-radius:0!important;border-bottom-right-radius:0!important;border-bottom:none!important}.filepond--panel-top:after{content:"";position:absolute;height:2px;left:0;right:0;bottom:-1px;background-color:inherit}.filepond--panel-bottom,.filepond--panel-center{will-change:transform;-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-transform-origin:left top;transform-origin:left top;-webkit-transform:translate3d(0,.5em,0);transform:translate3d(0,.5em,0)}.filepond--panel-bottom{border-top-left-radius:0!important;border-top-right-radius:0!important;border-top:none!important}.filepond--panel-bottom:before{content:"";position:absolute;height:2px;left:0;right:0;top:-1px;background-color:inherit}.filepond--panel-center{height:100px!important;border-top:none!important;border-bottom:none!important;border-radius:0!important}.filepond--panel-center:not([style]){visibility:hidden}.filepond--progress-indicator{position:static;width:1.25em;height:1.25em;color:#fff;margin:0;pointer-events:none;will-change:transform,opacity}.filepond--progress-indicator svg{width:100%;height:100%;vertical-align:top;transform-box:fill-box}.filepond--progress-indicator path{fill:none;stroke:currentColor}.filepond--list-scroller{z-index:6}.filepond--drop-label{z-index:5}.filepond--drip{z-index:3}.filepond--root>.filepond--panel{z-index:2}.filepond--browser{z-index:1}.filepond--root{box-sizing:border-box;position:relative;margin-bottom:1em;font-size:1rem;line-height:normal;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-weight:450;text-align:left;text-rendering:optimizeLegibility;direction:ltr;contain:layout style size}.filepond--root *{box-sizing:inherit;line-height:inherit}.filepond--root :not(text){font-size:inherit}.filepond--root[data-disabled]{pointer-events:none}.filepond--root[data-disabled] .filepond--list-scroller{pointer-events:all}.filepond--root[data-disabled] .filepond--list{pointer-events:none}.filepond--root .filepond--drop-label{min-height:4.75em}.filepond--root .filepond--list-scroller{margin-top:1em;margin-bottom:1em}.filepond--root .filepond--credits{position:absolute;right:0;opacity:.175;line-height:.85;font-size:11px;color:inherit;text-decoration:none;z-index:3;bottom:-14px}.filepond--root .filepond--credits[style]{top:0;bottom:auto;margin-top:14px}',""])},436:(e,t,n)=>{(e.exports=n(252)(!1)).push([e.id,'/* ----------------------------------------------------------- */\n/* == tingle v0.15.2 */\n/* ----------------------------------------------------------- */\n\n.tingle-modal * {\n  box-sizing: border-box;\n}\n\n.tingle-modal {\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1000;\n  display: flex;\n  visibility: hidden;\n  flex-direction: column;\n  align-items: center;\n  overflow: hidden;\n  -webkit-overflow-scrolling: touch;\n  background: rgba(0, 0, 0, .85);\n  opacity: 0;\n  user-select: none;\n  cursor: pointer;\n}\n\n/* confirm and alerts\n-------------------------------------------------------------- */\n\n.tingle-modal--confirm .tingle-modal-box {\n  text-align: center;\n}\n\n/* modal\n-------------------------------------------------------------- */\n\n.tingle-modal--noOverlayClose {\n  cursor: default;\n}\n\n.tingle-modal--noClose .tingle-modal__close {\n  display: none;\n}\n\n.tingle-modal__close {\n  position: fixed;\n  top: 2.5rem;\n  right: 2.5rem;\n  z-index: 1000;\n  padding: 0;\n  width: 2rem;\n  height: 2rem;\n  border: none;\n  background-color: transparent;\n  color: #fff;\n  cursor: pointer;\n}\n\n.tingle-modal__close svg * {\n  fill: currentColor;\n}\n\n.tingle-modal__closeLabel {\n  display: none;\n}\n\n.tingle-modal__close:hover {\n  color: #fff;\n}\n\n.tingle-modal-box {\n  position: relative;\n  flex-shrink: 0;\n  margin-top: auto;\n  margin-bottom: auto;\n  width: 60%;\n  border-radius: 4px;\n  background: #fff;\n  opacity: 1;\n  cursor: auto;\n  will-change: transform, opacity;\n}\n\n.tingle-modal-box__content {\n  padding: 1rem 0;\n}\n\n.tingle-modal-box__footer {\n  padding: 1.5rem 2rem;\n  width: auto;\n  border-bottom-right-radius: 4px;\n  border-bottom-left-radius: 4px;\n  background-color: #f5f5f5;\n  cursor: auto;\n}\n\n.tingle-modal-box__footer::after {\n  display: table;\n  clear: both;\n  content: "";\n}\n\n.tingle-modal-box__footer--sticky {\n  position: fixed;\n  bottom: -200px; /* TODO : find a better way */\n  z-index: 10001;\n  opacity: 1;\n  transition: bottom .3s ease-in-out .3s;\n}\n\n/* state\n-------------------------------------------------------------- */\n\n.tingle-enabled {\n  position: fixed;\n  right: 0;\n  left: 0;\n  overflow: hidden;\n}\n\n.tingle-modal--visible .tingle-modal-box__footer {\n  bottom: 0;\n}\n\n.tingle-enabled .tingle-content-wrapper {\n  filter: blur(8px);\n}\n\n.tingle-modal--visible {\n  visibility: visible;\n  opacity: 1;\n}\n\n.tingle-modal--visible .tingle-modal-box {\n  animation: scale .2s cubic-bezier(.68, -.55, .265, 1.55) forwards;\n}\n\n.tingle-modal--overflow {\n  overflow-y: scroll;\n  padding-top: 8vh;\n}\n\n/* btn\n-------------------------------------------------------------- */\n\n.tingle-btn {\n  display: inline-block;\n  margin: 0 .5rem;\n  padding: 1rem 2rem;\n  border: none;\n  background-color: grey;\n  box-shadow: none;\n  color: #fff;\n  vertical-align: middle;\n  text-decoration: none;\n  font-size: inherit;\n  font-family: inherit;\n  line-height: normal;\n  cursor: pointer;\n  transition: background-color .4s ease;\n}\n\n.tingle-btn--primary {\n  background-color: #3498db;\n}\n\n.tingle-btn--danger {\n  background-color: #e74c3c;\n}\n\n.tingle-btn--default {\n  background-color: #34495e;\n}\n\n.tingle-btn--pull-left {\n  float: left;\n}\n\n.tingle-btn--pull-right {\n  float: right;\n}\n\n/* responsive\n-------------------------------------------------------------- */\n\n@media (max-width : 540px) {\n  .tingle-modal {\n    top: 0px;\n    display: block;\n    padding-top: 60px;\n    width: 100%;\n  }\n\n  .tingle-modal-box {\n    width: auto;\n    border-radius: 0;\n  }\n\n  .tingle-modal-box__content {\n    overflow-y: scroll;\n  }\n\n  .tingle-modal--noClose {\n    top: 0;\n  }\n\n  .tingle-modal--noOverlayClose {\n    padding-top: 0;\n  }\n\n  .tingle-modal-box__footer .tingle-btn {\n    display: block;\n    float: none;\n    margin-bottom: 1rem;\n    width: 100%;\n  }\n\n  .tingle-modal__close {\n    top: 0;\n    right: 0;\n    left: 0;\n    display: block;\n    width: 100%;\n    height: 60px;\n    border: none;\n    background-color: #2c3e50;\n    box-shadow: none;\n    color: #fff;\n  }\n\n  .tingle-modal__closeLabel {\n    display: inline-block;\n    vertical-align: middle;\n    font-size: 1.6rem;\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;\n  }\n\n  .tingle-modal__closeIcon {\n    display: inline-block;\n    margin-right: .8rem;\n    width: 1.6rem;\n    vertical-align: middle;\n    font-size: 0;\n  }\n}\n\n@supports (backdrop-filter: blur(12px)) {\n  .tingle-modal:before {\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    content: "";\n    backdrop-filter: blur(18px);\n    pointer-events: none;\n  }\n\n  .tingle-enabled .tingle-content-wrapper {\n    filter: none;\n  }\n}\n\n/* animations\n-------------------------------------------------------------- */\n\n@keyframes scale {\n  0% {\n    opacity: 0;\n    transform: scale(.9);\n  }\n  100% {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n',""])},252:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,i=e[1]||"",r=e[3];if(!r)return i;if(t&&"function"==typeof btoa){var o=(n=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),a=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[i].concat(a).concat([o]).join("\n")}return[i].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},865:function(e){e.exports=function(){"use strict";var e=function(e){return/^image/.test(e.type)},t=function(t){var n=t.addFilter,i=t.utils,r=t.views,o=i.Type,a=i.createRoute,s=i.createItemAPI,l=void 0===s?function(e){return e}:s,c=r.fileActionButton;n("SHOULD_REMOVE_ON_REVERT",(function(t,n){var i=n.item,r=n.query;return new Promise((function(t){var n=i.file;t(!(r("GET_ALLOW_IMAGE_EDIT")&&r("GET_IMAGE_EDIT_ALLOW_EDIT")&&e(n)))}))})),n("DID_LOAD_ITEM",(function(t,n){var i=n.query,r=n.dispatch;return new Promise((function(n,o){if(t.origin>1)n(t);else{var a=t.file;if(i("GET_ALLOW_IMAGE_EDIT")&&i("GET_IMAGE_EDIT_INSTANT_EDIT"))if(e(a)){var s=function(e,t,n){return function(i){u.shift(),i?t(e):n(e),r("KICK"),l()}},l=function(){if(u.length){var e=u[0],t=e.item,n=e.resolve,i=e.reject;r("EDIT_ITEM",{id:t.id,handleEditorResponse:s(t,n,i)})}};d({item:t,resolve:n,reject:o}),1===u.length&&l()}else n(t);else n(t)}}))})),n("DID_CREATE_ITEM",(function(e,t){t.query;var n=t.dispatch;e.extend("edit",(function(){n("EDIT_ITEM",{id:e.id})}))}));var u=[],d=function(e){return u.push(e),e};return n("CREATE_VIEW",(function(t){var n=t.is,i=t.view,r=t.query;if(r("GET_ALLOW_IMAGE_EDIT")){var o=r("GET_ALLOW_IMAGE_PREVIEW");if(n("file-info")&&!o||n("file")&&o){var s=r("GET_IMAGE_EDIT_EDITOR");if(s){s.filepondCallbackBridge||(s.outputData=!0,s.outputFile=!1,s.filepondCallbackBridge={onconfirm:s.onconfirm||function(){},oncancel:s.oncancel||function(){}});i.registerDestroyer((function(e){var t=e.root;t.ref.buttonEditItem&&t.ref.buttonEditItem.off("click",t.ref.handleEdit),t.ref.editButton&&t.ref.editButton.removeEventListener("click",t.ref.handleEdit)}));var u={EDIT_ITEM:function(e){var t=e.root,n=e.props,i=e.action,r=n.id,o=i.handleEditorResponse;s.cropAspectRatio=t.query("GET_IMAGE_CROP_ASPECT_RATIO")||s.cropAspectRatio,s.outputCanvasBackgroundColor=t.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR")||s.outputCanvasBackgroundColor;var a=t.query("GET_ITEM",r);if(a){var c=a.file,u=a.getMetadata("crop"),d=a.getMetadata("resize"),f=a.getMetadata("filter")||null,p=a.getMetadata("filters")||null,h=a.getMetadata("colors")||null,m=a.getMetadata("markup")||null,g={crop:u||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},size:d?{upscale:d.upscale,mode:d.mode,width:d.size.width,height:d.size.height}:null,filter:p?p.id||p.matrix:f,color:h,markup:m};s.onconfirm=function(e){var t=e.data,n=t.crop,i=t.size,r=t.filter,c=t.color,u=t.colorMatrix,d=t.markup,f={};if(n&&(f.crop=n),i){var p=(a.getMetadata("resize")||{}).size,h={width:i.width,height:i.height};h.width&&h.height||!p||(h.width=p.width,h.height=p.height),(h.width||h.height)&&(f.resize={upscale:i.upscale,mode:i.mode,size:h})}d&&(f.markup=d),f.colors=c,f.filters=r,f.filter=u,a.setMetadata(f),s.filepondCallbackBridge.onconfirm(t,l(a)),o&&(s.onclose=function(){o(!0),s.onclose=null})},s.oncancel=function(){s.filepondCallbackBridge.oncancel(l(a)),o&&(s.onclose=function(){o(!1),s.onclose=null})},s.open(c,g)}},DID_LOAD_ITEM:function(t){var n=t.root,a=t.props;if(r("GET_IMAGE_EDIT_ALLOW_EDIT")){var s=a.id,l=r("GET_ITEM",s);if(l){var u=l.file;if(e(u))if(n.ref.handleEdit=function(e){e.stopPropagation(),n.dispatch("EDIT_ITEM",{id:s})},o){var d=i.createChildView(c,{label:"edit",icon:r("GET_IMAGE_EDIT_ICON_EDIT"),opacity:0});d.element.classList.add("filepond--action-edit-item"),d.element.dataset.align=r("GET_STYLE_IMAGE_EDIT_BUTTON_EDIT_ITEM_POSITION"),d.on("click",n.ref.handleEdit),n.ref.buttonEditItem=i.appendChildView(d)}else{var f=i.element.querySelector(".filepond--file-info-main"),p=document.createElement("button");p.className="filepond--action-edit-item-alt",p.innerHTML=r("GET_IMAGE_EDIT_ICON_EDIT")+"<span>edit</span>",p.addEventListener("click",n.ref.handleEdit),f.appendChild(p),n.ref.editButton=p}}}}};if(o){u.DID_IMAGE_PREVIEW_SHOW=function(e){var t=e.root;t.ref.buttonEditItem&&(t.ref.buttonEditItem.opacity=1)}}i.registerWriter(a(u))}}}})),{options:{allowImageEdit:[!0,o.BOOLEAN],styleImageEditButtonEditItemPosition:["bottom center",o.STRING],imageEditInstantEdit:[!1,o.BOOLEAN],imageEditAllowEdit:[!0,o.BOOLEAN],imageEditIconEdit:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path d="M8.5 17h1.586l7-7L15.5 8.414l-7 7V17zm-1.707-2.707l8-8a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-8 8A1 1 0 0 1 10.5 19h-3a1 1 0 0 1-1-1v-3a1 1 0 0 1 .293-.707z" fill="currentColor" fill-rule="nonzero"/></svg>',o.STRING],imageEditEditor:[null,o.OBJECT]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:t})),t}()},965:function(e){e.exports=function(){"use strict";function e(e){this.wrapped=e}function t(t){var n,i;function r(n,i){try{var a=t[n](i),s=a.value,l=s instanceof e;Promise.resolve(l?s.wrapped:s).then((function(e){l?r("next",e):o(a.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){o("throw",e)}}function o(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?r(n.key,n.arg):i=null}this._invoke=function(e,t){return new Promise((function(o,a){var s={key:e,arg:t,resolve:o,reject:a,next:null};i?i=i.next=s:(n=i=s,r(e,t))}))},"function"!=typeof t.return&&(this.return=void 0)}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)};var i=function(e,t){return a(e.x*t,e.y*t)},r=function(e,t){return a(e.x+t.x,e.y+t.y)},o=function(e,t,n){var i=Math.cos(t),r=Math.sin(t),o=a(e.x-n.x,e.y-n.y);return a(n.x+i*o.x-r*o.y,n.y+r*o.x+i*o.y)},a=function(){return{x:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}},s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0;return"string"==typeof e?parseFloat(e)*n:"number"==typeof e?e*(i?t[i]:Math.min(t.width,t.height)):void 0},l=function(e){return null!=e},c=function(e,t){return Object.keys(t).forEach((function(n){return e.setAttribute(n,t[n])}))},u=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg",e);return t&&c(n,t),n},d={contain:"xMidYMid meet",cover:"xMidYMid slice"},f={left:"start",center:"middle",right:"end"},p=function(e){return function(t){return u(e,{id:t.id})}},h={image:function(e){var t=u("image",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return t.onload=function(){t.setAttribute("opacity",e.opacity||1)},t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.src),t},rect:p("rect"),ellipse:p("ellipse"),text:p("text"),path:p("path"),line:function(e){var t=u("g",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round"}),n=u("line");t.appendChild(n);var i=u("path");t.appendChild(i);var r=u("path");return t.appendChild(r),t}},m={rect:function(e){return c(e,Object.assign({},e.rect,e.styles))},ellipse:function(e){var t=e.rect.x+.5*e.rect.width,n=e.rect.y+.5*e.rect.height,i=.5*e.rect.width,r=.5*e.rect.height;return c(e,Object.assign({cx:t,cy:n,rx:i,ry:r},e.styles))},image:function(e,t){c(e,Object.assign({},e.rect,e.styles,{preserveAspectRatio:d[t.fit]||"none"}))},text:function(e,t,n,i){var r=s(t.fontSize,n,i),o=t.fontFamily||"sans-serif",a=t.fontWeight||"normal",l=f[t.textAlign]||"start";c(e,Object.assign({},e.rect,e.styles,{"stroke-width":0,"font-weight":a,"font-size":r,"font-family":o,"text-anchor":l})),e.text!==t.text&&(e.text=t.text,e.textContent=t.text.length?t.text:" ")},path:function(e,t,n,i){var r;c(e,Object.assign({},e.styles,{fill:"none",d:(r=t.points.map((function(e){return{x:s(e.x,n,i,"width"),y:s(e.y,n,i,"height")}})),r.map((function(e,t){return"".concat(0===t?"M":"L"," ").concat(e.x," ").concat(e.y)})).join(" "))}))},line:function(e,t,n,l){c(e,Object.assign({},e.rect,e.styles,{fill:"none"}));var u=e.childNodes[0],d=e.childNodes[1],f=e.childNodes[2],p=e.rect,h={x:e.rect.x+e.rect.width,y:e.rect.y+e.rect.height};if(c(u,{x1:p.x,y1:p.y,x2:h.x,y2:h.y}),t.lineDecoration){d.style.display="none",f.style.display="none";var m=function(e){var t=Math.sqrt(e.x*e.x+e.y*e.y);return 0===t?{x:0,y:0}:a(e.x/t,e.y/t)}({x:h.x-p.x,y:h.y-p.y}),g=s(.05,n,l);if(-1!==t.lineDecoration.indexOf("arrow-begin")){var v=i(m,g),E=r(p,v),y=o(p,2,E),_=o(p,-2,E);c(d,{style:"display:block;",d:"M".concat(y.x,",").concat(y.y," L").concat(p.x,",").concat(p.y," L").concat(_.x,",").concat(_.y)})}if(-1!==t.lineDecoration.indexOf("arrow-end")){var T=i(m,-g),b=r(h,T),I=o(h,2,b),w=o(h,-2,b);c(f,{style:"display:block;",d:"M".concat(I.x,",").concat(I.y," L").concat(h.x,",").concat(h.y," L").concat(w.x,",").concat(w.y)})}}}},g=function(e,t,n,i,r){"path"!==t&&(e.rect=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=s(e.x,t,n,"width")||s(e.left,t,n,"width"),r=s(e.y,t,n,"height")||s(e.top,t,n,"height"),o=s(e.width,t,n,"width"),a=s(e.height,t,n,"height"),c=s(e.right,t,n,"width"),u=s(e.bottom,t,n,"height");return l(r)||(r=l(a)&&l(u)?t.height-a-u:u),l(i)||(i=l(o)&&l(c)?t.width-o-c:c),l(o)||(o=l(i)&&l(c)?t.width-i-c:0),l(a)||(a=l(r)&&l(u)?t.height-r-u:0),{x:i||0,y:r||0,width:o||0,height:a||0}}(n,i,r)),e.styles=function(e,t,n){var i=e.borderStyle||e.lineStyle||"solid",r=e.backgroundColor||e.fontColor||"transparent",o=e.borderColor||e.lineColor||"transparent",a=s(e.borderWidth||e.lineWidth,t,n);return{"stroke-linecap":e.lineCap||"round","stroke-linejoin":e.lineJoin||"round","stroke-width":a||0,"stroke-dasharray":"string"==typeof i?"":i.map((function(e){return s(e,t,n)})).join(","),stroke:o,fill:r,opacity:e.opacity||1}}(n,i,r),m[t](e,n,i,r)},v=["x","y","left","top","right","bottom","width","height"],E=function(e){var t=n(e,2),i=t[0],r=t[1],o=r.points?{}:v.reduce((function(e,t){return e[t]="string"==typeof(n=r[t])&&/%/.test(n)?parseFloat(n)/100:n,e;var n}),{});return[i,Object.assign({zIndex:0},r,o)]},y=function(e,t){return e[1].zIndex>t[1].zIndex?1:e[1].zIndex<t[1].zIndex?-1:0},_=function(e){return e.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:function(e){var t=e.root,i=e.props;if(i.dirty){var r=i.crop,o=i.resize,a=i.markup,s=i.width,l=i.height,c=r.width,u=r.height;if(o){var d=o.size,f=d&&d.width,p=d&&d.height,m=o.mode,v=o.upscale;f&&!p&&(p=f),p&&!f&&(f=p);var _=c<f&&u<p;if(!_||_&&v){var T,b=f/c,I=p/u;"force"===m?(c=f,u=p):("cover"===m?T=Math.max(b,I):"contain"===m&&(T=Math.min(b,I)),c*=T,u*=T)}}var w={width:s,height:l};t.element.setAttribute("width",w.width),t.element.setAttribute("height",w.height);var R=Math.min(s/c,l/u);t.element.innerHTML="";var O=t.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");a.filter(O).map(E).sort(y).forEach((function(e){var i=n(e,2),r=i[0],o=i[1],a=function(e,t){return h[e](t)}(r,o);g(a,r,o,w,R),t.element.appendChild(a)}))}}})},T=function(e,t){return{x:e,y:t}},b=function(e,t){return T(e.x-t.x,e.y-t.y)},I=function(e,t){return Math.sqrt(function(e,t){return function(e,t){return e.x*t.x+e.y*t.y}(b(e,t),b(e,t))}(e,t))},w=function(e,t){var n=e,i=t,r=1.5707963267948966-t,o=Math.sin(1.5707963267948966),a=Math.sin(i),s=Math.sin(r),l=Math.cos(r),c=n/o;return T(l*(c*a),l*(c*s))},R=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=e.height/e.width,r=1,o=t,a=1,s=i;s>o&&(a=(s=o)/i);var l=Math.max(r/a,o/s),c=e.width/(n*l*a);return{width:c,height:c*t}},O=function(e,t,n,i){var r=i.x>.5?1-i.x:i.x,o=i.y>.5?1-i.y:i.y,a=2*r*e.width,s=2*o*e.height,l=function(e,t){var n=e.width,i=e.height,r=w(n,t),o=w(i,t),a=T(e.x+Math.abs(r.x),e.y-Math.abs(r.y)),s=T(e.x+e.width+Math.abs(o.y),e.y+Math.abs(o.x)),l=T(e.x-Math.abs(o.y),e.y+e.height-Math.abs(o.x));return{width:I(a,s),height:I(a,l)}}(t,n);return Math.max(l.width/a,l.height/s)},x=function(e,t){var n=e.width,i=n*t;return i>e.height&&(n=(i=e.height)/t),{x:.5*(e.width-n),y:.5*(e.height-i),width:n,height:i}},M={type:"spring",stiffness:.5,damping:.45,mass:10},D=function(e){return e.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function(e){var t=e.root,n=e.props;n.background&&(t.element.style.backgroundColor=n.background)},create:function(t){var n=t.root,i=t.props;n.ref.image=n.appendChildView(n.createChildView(function(e){return e.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:M,originY:M,scaleX:M,scaleY:M,translateX:M,translateY:M,rotateZ:M}},create:function(t){var n=t.root,i=t.props;i.width=i.image.width,i.height=i.image.height,n.ref.bitmap=n.appendChildView(n.createChildView(function(e){return e.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:function(e){var t=e.root,n=e.props;t.appendChild(n.image)}})}(e),{image:i.image}))},write:function(e){var t=e.root,n=e.props.crop.flip,i=t.ref.bitmap;i.scaleX=n.horizontal?-1:1,i.scaleY=n.vertical?-1:1}})}(e),Object.assign({},i))),n.ref.createMarkup=function(){n.ref.markup||(n.ref.markup=n.appendChildView(n.createChildView(_(e),Object.assign({},i))))},n.ref.destroyMarkup=function(){n.ref.markup&&(n.removeChildView(n.ref.markup),n.ref.markup=null)};var r=n.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");null!==r&&(n.element.dataset.transparencyIndicator="grid"===r?r:"color")},write:function(e){var t=e.root,n=e.props,i=e.shouldOptimize,r=n.crop,o=n.markup,a=n.resize,s=n.dirty,l=n.width,c=n.height;t.ref.image.crop=r;var u={x:0,y:0,width:l,height:c,center:{x:.5*l,y:.5*c}},d={width:t.ref.image.width,height:t.ref.image.height},f={x:r.center.x*d.width,y:r.center.y*d.height},p={x:u.center.x-d.width*r.center.x,y:u.center.y-d.height*r.center.y},h=2*Math.PI+r.rotation%(2*Math.PI),m=r.aspectRatio||d.height/d.width,g=void 0===r.scaleToFit||r.scaleToFit,v=O(d,x(u,m),h,g?r.center:{x:.5,y:.5}),E=r.zoom*v;o&&o.length?(t.ref.createMarkup(),t.ref.markup.width=l,t.ref.markup.height=c,t.ref.markup.resize=a,t.ref.markup.dirty=s,t.ref.markup.markup=o,t.ref.markup.crop=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.zoom,i=t.rotation,r=t.center,o=t.aspectRatio;o||(o=e.height/e.width);var a=R(e,o,n),s={x:.5*a.width,y:.5*a.height},l={x:0,y:0,width:a.width,height:a.height,center:s},c=void 0===t.scaleToFit||t.scaleToFit,u=n*O(e,x(l,o),i,c?r:{x:.5,y:.5});return{widthFloat:a.width/u,heightFloat:a.height/u,width:Math.round(a.width/u),height:Math.round(a.height/u)}}(d,r)):t.ref.markup&&t.ref.destroyMarkup();var y=t.ref.image;if(i)return y.originX=null,y.originY=null,y.translateX=null,y.translateY=null,y.rotateZ=null,y.scaleX=null,void(y.scaleY=null);y.originX=f.x,y.originY=f.y,y.translateX=p.x,y.translateY=p.y,y.rotateZ=h,y.scaleX=E,y.scaleY=E}})},A='<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">\n    <defs>\n        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">\n            <stop offset=\'50%\' stop-color=\'#000000\'/>\n            <stop offset=\'56%\' stop-color=\'#0a0a0a\'/>\n            <stop offset=\'63%\' stop-color=\'#262626\'/>\n            <stop offset=\'69%\' stop-color=\'#4f4f4f\'/>\n            <stop offset=\'75%\' stop-color=\'#808080\'/>\n            <stop offset=\'81%\' stop-color=\'#b1b1b1\'/>\n            <stop offset=\'88%\' stop-color=\'#dadada\'/>\n            <stop offset=\'94%\' stop-color=\'#f6f6f6\'/>\n            <stop offset=\'100%\' stop-color=\'#ffffff\'/>\n        </radialGradient>\n        <mask id="mask-__UID__">\n            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>\n        </mask>\n    </defs>\n    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>\n</svg>',S=!1,C=0,L=function(){self.onmessage=function(e){createImageBitmap(e.data.message.file).then((function(t){self.postMessage({id:e.data.id,message:t},[t])}))}},P=function(){self.onmessage=function(e){for(var t=e.data.message.imageData,n=e.data.message.colorMatrix,i=t.data,r=i.length,o=n[0],a=n[1],s=n[2],l=n[3],c=n[4],u=n[5],d=n[6],f=n[7],p=n[8],h=n[9],m=n[10],g=n[11],v=n[12],E=n[13],y=n[14],_=n[15],T=n[16],b=n[17],I=n[18],w=n[19],R=0,O=0,x=0,M=0,D=0;R<r;R+=4)O=i[R]/255,x=i[R+1]/255,M=i[R+2]/255,D=i[R+3]/255,i[R]=Math.max(0,Math.min(255*(O*o+x*a+M*s+D*l+c),255)),i[R+1]=Math.max(0,Math.min(255*(O*u+x*d+M*f+D*p+h),255)),i[R+2]=Math.max(0,Math.min(255*(O*m+x*g+M*v+D*E+y),255)),i[R+3]=Math.max(0,Math.min(255*(O*_+x*T+M*b+D*I+w),255));self.postMessage({id:e.data.id,message:t},[t.data.buffer])}},N={1:function(){return[1,0,0,1,0,0]},2:function(e){return[-1,0,0,1,e,0]},3:function(e,t){return[-1,0,0,-1,e,t]},4:function(e,t){return[1,0,0,-1,0,t]},5:function(){return[0,1,1,0,0,0]},6:function(e,t){return[0,1,-1,0,t,0]},7:function(e,t){return[0,-1,-1,0,t,e]},8:function(e){return[0,-1,1,0,0,e]}},G=function(e,t,n,i){t=Math.round(t),n=Math.round(n);var r=document.createElement("canvas");r.width=t,r.height=n;var o=r.getContext("2d");if(i>=5&&i<=8){var a=[n,t];t=a[0],n=a[1]}return function(e,t,n,i){-1!==i&&e.transform.apply(e,N[i](t,n))}(o,t,n,i),o.drawImage(e,0,0,t,n),r},k=function(e){return/^image/.test(e.type)&&!/svg/.test(e.type)},B=function(e){var t=Math.min(10/e.width,10/e.height),n=document.createElement("canvas"),i=n.getContext("2d"),r=n.width=Math.ceil(e.width*t),o=n.height=Math.ceil(e.height*t);i.drawImage(e,0,0,r,o);var a=null;try{a=i.getImageData(0,0,r,o).data}catch(e){return null}for(var s=a.length,l=0,c=0,u=0,d=0;d<s;d+=4)l+=a[d]*a[d],c+=a[d+1]*a[d+1],u+=a[d+2]*a[d+2];return{r:l=U(l,s),g:c=U(c,s),b:u=U(u,s)}},U=function(e,t){return Math.floor(Math.sqrt(e/(t/4)))},F=function(e){var t=e.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:function(e){var t=e.root,n=e.props;!S&&document.querySelector("base")&&(A=A.replace(/url\(\#/g,"url("+window.location.href.replace(window.location.hash,"")+"#"),S=!0),C++,t.element.classList.add("filepond--image-preview-overlay-".concat(n.status)),t.element.innerHTML=A.replace(/__UID__/g,C)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),n=function(e){return e.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:M,scaleY:M,translateY:M,opacity:{type:"tween",duration:400}}},create:function(t){var n=t.root,i=t.props;n.ref.clip=n.appendChildView(n.createChildView(D(e),{id:i.id,image:i.image,crop:i.crop,markup:i.markup,resize:i.resize,dirty:i.dirty,background:i.background}))},write:function(e){var t=e.root,n=e.props,i=e.shouldOptimize,r=t.ref.clip,o=n.image,a=n.crop,s=n.markup,l=n.resize,c=n.dirty;if(r.crop=a,r.markup=s,r.resize=l,r.dirty=c,r.opacity=i?0:1,!i&&!t.rect.element.hidden){var u=o.height/o.width,d=a.aspectRatio||u,f=t.rect.inner.width,p=t.rect.inner.height,h=t.query("GET_IMAGE_PREVIEW_HEIGHT"),m=t.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),g=t.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),v=t.query("GET_PANEL_ASPECT_RATIO"),E=t.query("GET_ALLOW_MULTIPLE");v&&!E&&(h=f*v,d=v);var y=null!==h?h:Math.max(m,Math.min(f*d,g)),_=y/d;_>f&&(y=(_=f)*d),y>p&&(y=p,_=p/d),r.width=_,r.height=y}}})}(e),i=e.utils.createWorker,r=function(e,t,n){return new Promise((function(r){e.ref.imageData||(e.ref.imageData=n.getContext("2d").getImageData(0,0,n.width,n.height));var o=function(e){var t;try{t=new ImageData(e.width,e.height)}catch(n){t=document.createElement("canvas").getContext("2d").createImageData(e.width,e.height)}return t.data.set(new Uint8ClampedArray(e.data)),t}(e.ref.imageData);if(!t||20!==t.length)return n.getContext("2d").putImageData(o,0,0),r();var a=i(P);a.post({imageData:o,colorMatrix:t},(function(e){n.getContext("2d").putImageData(e,0,0),a.terminate(),r()}),[o.data.buffer])}))},o=function(e){var t=e.root,i=e.props,r=e.image,o=i.id,a=t.query("GET_ITEM",{id:o});if(a){var s,l,c=a.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},u=t.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),d=!1;t.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(s=a.getMetadata("markup")||[],l=a.getMetadata("resize"),d=!0);var f=t.appendChildView(t.createChildView(n,{id:o,image:r,crop:c,resize:l,markup:s,dirty:d,background:u,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),t.childViews.length);t.ref.images.push(f),f.opacity=1,f.scaleX=1,f.scaleY=1,f.translateY=0,setTimeout((function(){t.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:o})}),250)}},a=function(e){var t=e.root;t.ref.overlayShadow.opacity=1,t.ref.overlayError.opacity=0,t.ref.overlaySuccess.opacity=0},s=function(e){var t=e.root;t.ref.overlayShadow.opacity=.25,t.ref.overlayError.opacity=1};return e.utils.createView({name:"image-preview-wrapper",create:function(e){var n=e.root;n.ref.images=[],n.ref.imageData=null,n.ref.imageViewBin=[],n.ref.overlayShadow=n.appendChildView(n.createChildView(t,{opacity:0,status:"idle"})),n.ref.overlaySuccess=n.appendChildView(n.createChildView(t,{opacity:0,status:"success"})),n.ref.overlayError=n.appendChildView(n.createChildView(t,{opacity:0,status:"failure"}))},styles:["height"],apis:["height"],destroy:function(e){e.root.ref.images.forEach((function(e){e.image.width=1,e.image.height=1}))},didWriteView:function(e){e.root.ref.images.forEach((function(e){e.dirty=!1}))},write:e.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:function(e){var t=e.root,n=t.ref.images[t.ref.images.length-1];n.translateY=0,n.scaleX=1,n.scaleY=1,n.opacity=1},DID_IMAGE_PREVIEW_CONTAINER_CREATE:function(e){var t,n,i,r=e.root,o=e.props.id,a=r.query("GET_ITEM",o);if(a){var s=URL.createObjectURL(a.file);t=s,n=function(e,t){r.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:o,width:e,height:t})},(i=new Image).onload=function(){var e=i.naturalWidth,t=i.naturalHeight;i=null,n(e,t)},i.src=t}},DID_FINISH_CALCULATE_PREVIEWSIZE:function(e){var t,n,a=e.root,s=e.props,l=s.id,c=a.query("GET_ITEM",l);if(c){var u=URL.createObjectURL(c.file),d=function(){var e;(e=u,new Promise((function(t,n){var i=new Image;i.crossOrigin="Anonymous",i.onload=function(){t(i)},i.onerror=function(e){n(e)},i.src=e}))).then(f)},f=function(e){URL.revokeObjectURL(u);var t=(c.getMetadata("exif")||{}).orientation||-1,n=e.width,i=e.height;if(t>=5&&t<=8){var l=[i,n];n=l[0],i=l[1]}var d=Math.max(1,.75*window.devicePixelRatio),f=a.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*d,p=i/n,h=a.rect.element.width,m=a.rect.element.height,g=h,v=g*p;p>1?v=(g=Math.min(n,h*f))*p:g=(v=Math.min(i,m*f))/p;var E=G(e,g,v,t),y=function(){var t=a.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?B(data):null;c.setMetadata("color",t,!0),"close"in e&&e.close(),a.ref.overlayShadow.opacity=1,o({root:a,props:s,image:E})},_=c.getMetadata("filter");_?r(a,_,E).then(y):y()};if(t=c.file,((n=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./))?parseInt(n[1]):null)<=58||!("createImageBitmap"in window)||!k(t))d();else{var p=i(L);p.post({file:c.file},(function(e){p.terminate(),e?f(e):d()}))}}},DID_UPDATE_ITEM_METADATA:function(e){var t,n,i=e.root,a=e.props,s=e.action;if(/crop|filter|markup|resize/.test(s.change.key)&&i.ref.images.length){var l=i.query("GET_ITEM",{id:a.id});if(l)if(/filter/.test(s.change.key)){var c=i.ref.images[i.ref.images.length-1];r(i,s.change.value,c.image)}else if(/crop|markup|resize/.test(s.change.key)){var u=l.getMetadata("crop"),d=i.ref.images[i.ref.images.length-1];if(Math.abs(u.aspectRatio-d.crop.aspectRatio)>1e-5){var f=function(e){var t=e.root,n=t.ref.images.shift();return n.opacity=0,n.translateY=-15,t.ref.imageViewBin.push(n),n}({root:i});o({root:i,props:a,image:(t=f.image,(n=n||document.createElement("canvas")).width=t.width,n.height=t.height,n.getContext("2d").drawImage(t,0,0),n)})}else!function(e){var t=e.root,n=e.props,i=t.query("GET_ITEM",{id:n.id});if(i){var r=t.ref.images[t.ref.images.length-1];r.crop=i.getMetadata("crop"),r.background=t.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),t.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(r.dirty=!0,r.resize=i.getMetadata("resize"),r.markup=i.getMetadata("markup"))}}({root:i,props:a})}}},DID_THROW_ITEM_LOAD_ERROR:s,DID_THROW_ITEM_PROCESSING_ERROR:s,DID_THROW_ITEM_INVALID:s,DID_COMPLETE_ITEM_PROCESSING:function(e){var t=e.root;t.ref.overlayShadow.opacity=.25,t.ref.overlaySuccess.opacity=1},DID_START_ITEM_PROCESSING:a,DID_REVERT_ITEM_PROCESSING:a},(function(e){var t=e.root,n=t.ref.imageViewBin.filter((function(e){return 0===e.opacity}));t.ref.imageViewBin=t.ref.imageViewBin.filter((function(e){return e.opacity>0})),n.forEach((function(e){return function(e,t){e.removeChildView(t),t.image.width=1,t.image.height=1,t._destroy()}(t,e)})),n.length=0}))})},z=function(e){var t=e.addFilter,n=e.utils,i=n.Type,r=n.createRoute,o=n.isFile,a=F(e);return t("CREATE_VIEW",(function(e){var t=e.is,n=e.view,i=e.query;if(t("file")&&i("GET_ALLOW_IMAGE_PREVIEW")){var s=function(e){e.root.ref.shouldRescale=!0};n.registerWriter(r({DID_RESIZE_ROOT:s,DID_STOP_RESIZE:s,DID_LOAD_ITEM:function(e){var t=e.root,r=e.props.id,s=i("GET_ITEM",r);if(s&&o(s.file)&&!s.archived){var l=s.file;if(function(e){return/^image/.test(e.type)}(l)&&i("GET_IMAGE_PREVIEW_FILTER_ITEM")(s)){var c="createImageBitmap"in(window||{}),u=i("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!(!c&&u&&l.size>u)){t.ref.imagePreview=n.appendChildView(n.createChildView(a,{id:r}));var d=t.query("GET_IMAGE_PREVIEW_HEIGHT");d&&t.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:s.id,height:d});var f=!c&&l.size>i("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");t.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:r},f)}}}},DID_IMAGE_PREVIEW_CALCULATE_SIZE:function(e){var t=e.root,n=e.action;t.ref.imageWidth=n.width,t.ref.imageHeight=n.height,t.ref.shouldRescale=!0,t.ref.shouldDrawPreview=!0,t.dispatch("KICK")},DID_UPDATE_ITEM_METADATA:function(e){var t=e.root;"crop"===e.action.change.key&&(t.ref.shouldRescale=!0)}},(function(e){var t=e.root,n=e.props;t.ref.imagePreview&&(t.rect.element.hidden||(t.ref.shouldRescale&&(function(e,t){if(e.ref.imagePreview){var n=t.id,i=e.query("GET_ITEM",{id:n});if(i){var r=e.query("GET_PANEL_ASPECT_RATIO"),o=e.query("GET_ITEM_PANEL_ASPECT_RATIO"),a=e.query("GET_IMAGE_PREVIEW_HEIGHT");if(!(r||o||a)){var s=e.ref,l=s.imageWidth,c=s.imageHeight;if(l&&c){var u=e.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),d=e.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),f=(i.getMetadata("exif")||{}).orientation||-1;if(f>=5&&f<=8){var p=[c,l];l=p[0],c=p[1]}if(!k(i.file)||e.query("GET_IMAGE_PREVIEW_UPSCALE")){var h=2048/l;l*=h,c*=h}var m=c/l,g=(i.getMetadata("crop")||{}).aspectRatio||m,v=Math.max(u,Math.min(c,d)),E=e.rect.element.width,y=Math.min(E*g,v);e.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:i.id,height:y})}}}}}(t,n),t.ref.shouldRescale=!1),t.ref.shouldDrawPreview&&(requestAnimationFrame((function(){t.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:n.id})})),t.ref.shouldDrawPreview=!1)))})))}})),{options:{allowImagePreview:[!0,i.BOOLEAN],imagePreviewFilterItem:[function(){return!0},i.FUNCTION],imagePreviewHeight:[null,i.INT],imagePreviewMinHeight:[44,i.INT],imagePreviewMaxHeight:[256,i.INT],imagePreviewMaxFileSize:[null,i.INT],imagePreviewZoomFactor:[2,i.INT],imagePreviewUpscale:[!1,i.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,i.INT],imagePreviewTransparencyIndicator:[null,i.STRING],imagePreviewCalculateAverageImageColor:[!1,i.BOOLEAN],imagePreviewMarkupShow:[!0,i.BOOLEAN],imagePreviewMarkupFilter:[function(){return!0},i.FUNCTION]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:z})),z}()},567:function(e){e.exports=function(){"use strict";var e=function(e){var t=e.addFilter,n=e.utils.Type;return t("DID_LOAD_ITEM",(function(e,t){var n=t.query;return new Promise((function(t,i){var r=e.file;if(!function(e){return/^image/.test(e.type)}(r)||!n("GET_ALLOW_IMAGE_RESIZE"))return t(e);var o=n("GET_IMAGE_RESIZE_MODE"),a=n("GET_IMAGE_RESIZE_TARGET_WIDTH"),s=n("GET_IMAGE_RESIZE_TARGET_HEIGHT"),l=n("GET_IMAGE_RESIZE_UPSCALE");if(null===a&&null===s)return t(e);var c,u,d,f=null===a?s:a,p=null===s?f:s,h=URL.createObjectURL(r);c=h,u=function(n){if(URL.revokeObjectURL(h),!n)return t(e);var i=n.width,r=n.height,a=(e.getMetadata("exif")||{}).orientation||-1;if(a>=5&&a<=8){var s=[r,i];i=s[0],r=s[1]}return i===f&&r===p||i<=f&&r<=p&&!l?t(e):(e.setMetadata("resize",{mode:o,upscale:l,size:{width:f,height:p}}),void t(e))},(d=new Image).onload=function(){var e=d.naturalWidth,t=d.naturalHeight;d=null,u({width:e,height:t})},d.onerror=function(){return u(null)},d.src=c}))})),{options:{allowImageResize:[!0,n.BOOLEAN],imageResizeMode:["cover",n.STRING],imageResizeUpscale:[!0,n.BOOLEAN],imageResizeTargetWidth:[null,n.INT],imageResizeTargetHeight:[null,n.INT]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e}()},863:function(e){e.exports=function(){"use strict";var e={jpeg:"jpg","svg+xml":"svg"},t=function(e){return/^image/.test(e.type)},n={1:function(){return[1,0,0,1,0,0]},2:function(e){return[-1,0,0,1,e,0]},3:function(e,t){return[-1,0,0,-1,e,t]},4:function(e,t){return[1,0,0,-1,0,t]},5:function(){return[0,1,1,0,0,0]},6:function(e,t){return[0,1,-1,0,t,0]},7:function(e,t){return[0,-1,-1,0,t,e]},8:function(e){return[0,-1,1,0,0,e]}},i=function(e,t){return{x:e,y:t}},r=function(e,t){return i(e.x-t.x,e.y-t.y)},o=function(e,t){return Math.sqrt(function(e,t){return function(e,t){return e.x*t.x+e.y*t.y}(r(e,t),r(e,t))}(e,t))},a=function(e,t){var n=e,r=t,o=1.5707963267948966-t,a=Math.sin(1.5707963267948966),s=Math.sin(r),l=Math.sin(o),c=Math.cos(o),u=n/a;return i(c*(u*s),c*(u*l))},s=function(e,t){var n=e.width,r=e.height,s=a(n,t),l=a(r,t),c=i(e.x+Math.abs(s.x),e.y-Math.abs(s.y)),u=i(e.x+e.width+Math.abs(l.y),e.y+Math.abs(l.x)),d=i(e.x-Math.abs(l.y),e.y+e.height-Math.abs(l.x));return{width:o(c,u),height:o(c,d)}},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{x:.5,y:.5},r=i.x>.5?1-i.x:i.x,o=i.y>.5?1-i.y:i.y,a=2*r*e.width,l=2*o*e.height,c=s(t,n);return Math.max(c.width/a,c.height/l)},c=function(e,t){var n=e.width,i=n*t;return i>e.height&&(n=(i=e.height)/t),{x:.5*(e.width-n),y:.5*(e.height-i),width:n,height:i}},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=e.height/e.width,r=1,o=t,a=1,s=i;s>o&&(a=(s=o)/i);var l=Math.max(r/a,o/s),c=e.width/(n*l*a);return{width:c,height:c*t}},d=function(e){e.width=1,e.height=1,e.getContext("2d").clearRect(0,0,1,1)},f=function(e){return e&&(e.horizontal||e.vertical)},p=function(e,t,i){if(t<=1&&!f(i))return e.width=e.naturalWidth,e.height=e.naturalHeight,e;var r=document.createElement("canvas"),o=e.naturalWidth,a=e.naturalHeight,s=t>=5&&t<=8;s?(r.width=a,r.height=o):(r.width=o,r.height=a);var l=r.getContext("2d");if(t&&l.transform.apply(l,function(e,t,i){return-1===i&&(i=1),n[i](e,t)}(o,a,t)),f(i)){var c=[1,0,0,1,0,0];(!s&&i.horizontal||s&i.vertical)&&(c[0]=-1,c[4]=o),(!s&&i.vertical||s&&i.horizontal)&&(c[3]=-1,c[5]=a),l.transform.apply(l,c)}return l.drawImage(e,0,0,o,a),r},h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i.canvasMemoryLimit,o=i.background,a=void 0===o?null:o,s=n.zoom||1,f=p(e,t,n.flip),h={width:f.width,height:f.height},m=n.aspectRatio||h.height/h.width,g=u(h,m,s);if(r){var v=g.width*g.height;if(v>r){var E=Math.sqrt(r)/Math.sqrt(v);h.width=Math.floor(h.width*E),h.height=Math.floor(h.height*E),g=u(h,m,s)}}var y=document.createElement("canvas"),_={x:.5*g.width,y:.5*g.height},T={x:0,y:0,width:g.width,height:g.height,center:_},b=void 0===n.scaleToFit||n.scaleToFit,I=s*l(h,c(T,m),n.rotation,b?n.center:{x:.5,y:.5});y.width=Math.round(g.width/I),y.height=Math.round(g.height/I),_.x/=I,_.y/=I;var w={x:_.x-h.width*(n.center?n.center.x:.5),y:_.y-h.height*(n.center?n.center.y:.5)},R=y.getContext("2d");a&&(R.fillStyle=a,R.fillRect(0,0,y.width,y.height)),R.translate(_.x,_.y),R.rotate(n.rotation||0),R.drawImage(f,w.x-_.x,w.y-_.y,h.width,h.height);var O=R.getImageData(0,0,y.width,y.height);return d(y),O};"undefined"!=typeof window&&void 0!==window.document&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){var i=this.toDataURL(t,n).split(",")[1];setTimeout((function(){for(var n=atob(i),r=n.length,o=new Uint8Array(r),a=0;a<r;a++)o[a]=n.charCodeAt(a);e(new Blob([o],{type:t||"image/png"}))}))}}));var m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise((function(i){var r=n?n(e):e;Promise.resolve(r).then((function(e){e.toBlob(i,t.type,t.quality)}))}))},g=function(e,t){return _(e.x*t,e.y*t)},v=function(e,t){return _(e.x+t.x,e.y+t.y)},E=function(e){var t=Math.sqrt(e.x*e.x+e.y*e.y);return 0===t?{x:0,y:0}:_(e.x/t,e.y/t)},y=function(e,t,n){var i=Math.cos(t),r=Math.sin(t),o=_(e.x-n.x,e.y-n.y);return _(n.x+i*o.x-r*o.y,n.y+r*o.x+i*o.y)},_=function(){return{x:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}},T=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0;return"string"==typeof e?parseFloat(e)*n:"number"==typeof e?e*(i?t[i]:Math.min(t.width,t.height)):void 0},b=function(e,t,n){var i=e.borderStyle||e.lineStyle||"solid",r=e.backgroundColor||e.fontColor||"transparent",o=e.borderColor||e.lineColor||"transparent",a=T(e.borderWidth||e.lineWidth,t,n);return{"stroke-linecap":e.lineCap||"round","stroke-linejoin":e.lineJoin||"round","stroke-width":a||0,"stroke-dasharray":"string"==typeof i?"":i.map((function(e){return T(e,t,n)})).join(","),stroke:o,fill:r,opacity:e.opacity||1}},I=function(e){return null!=e},w=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=T(e.x,t,n,"width")||T(e.left,t,n,"width"),r=T(e.y,t,n,"height")||T(e.top,t,n,"height"),o=T(e.width,t,n,"width"),a=T(e.height,t,n,"height"),s=T(e.right,t,n,"width"),l=T(e.bottom,t,n,"height");return I(r)||(r=I(a)&&I(l)?t.height-a-l:l),I(i)||(i=I(o)&&I(s)?t.width-o-s:s),I(o)||(o=I(i)&&I(s)?t.width-i-s:0),I(a)||(a=I(r)&&I(l)?t.height-r-l:0),{x:i||0,y:r||0,width:o||0,height:a||0}},R=function(e,t){return Object.keys(t).forEach((function(n){return e.setAttribute(n,t[n])}))},O=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg",e);return t&&R(n,t),n},x={contain:"xMidYMid meet",cover:"xMidYMid slice"},M={left:"start",center:"middle",right:"end"},D=function(e){return function(t){return O(e,{id:t.id})}},A={image:function(e){var t=O("image",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return t.onload=function(){t.setAttribute("opacity",e.opacity||1)},t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.src),t},rect:D("rect"),ellipse:D("ellipse"),text:D("text"),path:D("path"),line:function(e){var t=O("g",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round"}),n=O("line");t.appendChild(n);var i=O("path");t.appendChild(i);var r=O("path");return t.appendChild(r),t}},S={rect:function(e){return R(e,Object.assign({},e.rect,e.styles))},ellipse:function(e){var t=e.rect.x+.5*e.rect.width,n=e.rect.y+.5*e.rect.height,i=.5*e.rect.width,r=.5*e.rect.height;return R(e,Object.assign({cx:t,cy:n,rx:i,ry:r},e.styles))},image:function(e,t){R(e,Object.assign({},e.rect,e.styles,{preserveAspectRatio:x[t.fit]||"none"}))},text:function(e,t,n,i){var r=T(t.fontSize,n,i),o=t.fontFamily||"sans-serif",a=t.fontWeight||"normal",s=M[t.textAlign]||"start";R(e,Object.assign({},e.rect,e.styles,{"stroke-width":0,"font-weight":a,"font-size":r,"font-family":o,"text-anchor":s})),e.text!==t.text&&(e.text=t.text,e.textContent=t.text.length?t.text:" ")},path:function(e,t,n,i){var r;R(e,Object.assign({},e.styles,{fill:"none",d:(r=t.points.map((function(e){return{x:T(e.x,n,i,"width"),y:T(e.y,n,i,"height")}})),r.map((function(e,t){return"".concat(0===t?"M":"L"," ").concat(e.x," ").concat(e.y)})).join(" "))}))},line:function(e,t,n,i){R(e,Object.assign({},e.rect,e.styles,{fill:"none"}));var r=e.childNodes[0],o=e.childNodes[1],a=e.childNodes[2],s=e.rect,l={x:e.rect.x+e.rect.width,y:e.rect.y+e.rect.height};if(R(r,{x1:s.x,y1:s.y,x2:l.x,y2:l.y}),t.lineDecoration){o.style.display="none",a.style.display="none";var c=E({x:l.x-s.x,y:l.y-s.y}),u=T(.05,n,i);if(-1!==t.lineDecoration.indexOf("arrow-begin")){var d=g(c,u),f=v(s,d),p=y(s,2,f),h=y(s,-2,f);R(o,{style:"display:block;",d:"M".concat(p.x,",").concat(p.y," L").concat(s.x,",").concat(s.y," L").concat(h.x,",").concat(h.y)})}if(-1!==t.lineDecoration.indexOf("arrow-end")){var m=g(c,-u),_=v(l,m),b=y(l,2,_),I=y(l,-2,_);R(a,{style:"display:block;",d:"M".concat(b.x,",").concat(b.y," L").concat(l.x,",").concat(l.y," L").concat(I.x,",").concat(I.y)})}}}},C=function(e,t){return A[e](t)},L=function(e,t,n,i,r){"path"!==t&&(e.rect=w(n,i,r)),e.styles=b(n,i,r),S[t](e,n,i,r)},P=function(e,t){return e[1].zIndex>t[1].zIndex?1:e[1].zIndex<t[1].zIndex?-1:0},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return new Promise((function(r){var o=i.background,a=void 0===o?null:o,s=new FileReader;s.onloadend=function(){var e=s.result,i=document.createElement("div");i.style.cssText="position:absolute;pointer-events:none;width:0;height:0;visibility:hidden;",i.innerHTML=e;var o=i.querySelector("svg");document.body.appendChild(i);var u=o.getBBox();i.parentNode.removeChild(i);var d=i.querySelector("title"),f=o.getAttribute("viewBox")||"",p=o.getAttribute("width")||"",h=o.getAttribute("height")||"",m=parseFloat(p)||null,g=parseFloat(h)||null,v=(p.match(/[a-z]+/)||[])[0]||"",E=(h.match(/[a-z]+/)||[])[0]||"",y=f.split(" ").map(parseFloat),_=y.length?{x:y[0],y:y[1],width:y[2],height:y[3]}:u,T=null!=m?m:_.width,b=null!=g?g:_.height;o.style.overflow="visible",o.setAttribute("width",T),o.setAttribute("height",b);var I="";if(n&&n.length){var w={width:T,height:b};I=n.sort(P).reduce((function(e,t){var n=C(t[0],t[1]);return L(n,t[0],t[1],w),n.removeAttribute("id"),1===n.getAttribute("opacity")&&n.removeAttribute("opacity"),e+"\n"+n.outerHTML+"\n"}),""),I="\n\n<g>".concat(I.replace(/&nbsp;/g," "),"</g>\n\n")}var R=t.aspectRatio||b/T,O=T,x=O*R,M=void 0===t.scaleToFit||t.scaleToFit,D=t.center?t.center.x:.5,A=t.center?t.center.y:.5,S=l({width:T,height:b},c({width:O,height:x},R),t.rotation,M?{x:D,y:A}:{x:.5,y:.5}),N=t.zoom*S,G=t.rotation*(180/Math.PI),k={x:.5*O,y:.5*x},B={x:k.x-T*D,y:k.y-b*A},U=["rotate(".concat(G," ").concat(k.x," ").concat(k.y,")"),"translate(".concat(k.x," ").concat(k.y,")"),"scale(".concat(N,")"),"translate(".concat(-k.x," ").concat(-k.y,")"),"translate(".concat(B.x," ").concat(B.y,")")],F=t.flip&&t.flip.horizontal,z=t.flip&&t.flip.vertical,V=["scale(".concat(F?-1:1," ").concat(z?-1:1,")"),"translate(".concat(F?-T:0," ").concat(z?-b:0,")")],q='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="'.concat(O).concat(v,'" height="').concat(x).concat(E,'" \nviewBox="0 0 ').concat(O," ").concat(x,'" ').concat(a?'style="background:'+a+'" ':"",'\npreserveAspectRatio="xMinYMin"\nxmlns:xlink="http://www.w3.org/1999/xlink"\nxmlns="http://www.w3.org/2000/svg">\n\x3c!-- Generated by PQINA - https://pqina.nl/ --\x3e\n<title>').concat(d?d.textContent:"",'</title>\n<g transform="').concat(U.join(" "),'">\n<g transform="').concat(V.join(" "),'">\n').concat(o.outerHTML).concat(I,"\n</g>\n</g>\n</svg>");r(q)},s.readAsText(e)}))},G=function(e){var t;try{t=new ImageData(e.width,e.height)}catch(n){t=document.createElement("canvas").getContext("2d").createImageData(e.width,e.height)}return t.data.set(e.data),t},k=function(){var e={resize:function(e,t){var i=t.mode,a=void 0===i?"contain":i,s=t.upscale,l=void 0!==s&&s,c=t.width,u=t.height,d=t.matrix;if(d=!d||r(d)?null:d,!c&&!u)return o(e,d);if(null===c?c=u:null===u&&(u=c),"force"!==a){var f=c/e.width,p=u/e.height,h=1;if("cover"===a?h=Math.max(f,p):"contain"===a&&(h=Math.min(f,p)),h>1&&!1===l)return o(e,d);c=e.width*h,u=e.height*h}for(var m=e.width,g=e.height,v=Math.round(c),E=Math.round(u),y=e.data,_=new Uint8ClampedArray(v*E*4),T=m/v,b=g/E,I=Math.ceil(.5*T),w=Math.ceil(.5*b),R=0;R<E;R++)for(var O=0;O<v;O++){for(var x=4*(O+R*v),M=0,D=0,A=0,S=0,C=0,L=0,P=0,N=(R+.5)*b,G=Math.floor(R*b);G<(R+1)*b;G++)for(var k=Math.abs(N-(G+.5))/w,B=(O+.5)*T,U=k*k,F=Math.floor(O*T);F<(O+1)*T;F++){var z=Math.abs(B-(F+.5))/I,V=Math.sqrt(U+z*z);if(V>=-1&&V<=1&&(M=2*V*V*V-3*V*V+1)>0){var q=y[3+(z=4*(F+G*m))];P+=M*q,A+=M,q<255&&(M=M*q/250),S+=M*y[z],C+=M*y[z+1],L+=M*y[z+2],D+=M}}_[x]=S/D,_[x+1]=C/D,_[x+2]=L/D,_[x+3]=P/A,d&&n(x,_,d)}return{data:_,width:v,height:E}},filter:o},t=function(t,n){var i=t.transforms,r=null;if(i.forEach((function(e){"filter"===e.type&&(r=e)})),r){var o=null;i.forEach((function(e){"resize"===e.type&&(o=e)})),o&&(o.data.matrix=r.data,i=i.filter((function(e){return"filter"!==e.type})))}n(function(t,n){return t.forEach((function(t){n=e[t.type](n,t.data)})),n}(i,t.imageData))};self.onmessage=function(e){t(e.data.message,(function(t){self.postMessage({id:e.data.id,message:t},[t.data.buffer])}))};function n(e,t,n){var i=t[e]/255,r=t[e+1]/255,o=t[e+2]/255,a=t[e+3]/255,s=i*n[0]+r*n[1]+o*n[2]+a*n[3]+n[4],l=i*n[5]+r*n[6]+o*n[7]+a*n[8]+n[9],c=i*n[10]+r*n[11]+o*n[12]+a*n[13]+n[14],u=i*n[15]+r*n[16]+o*n[17]+a*n[18]+n[19],d=Math.max(0,s*u)+1*(1-u),f=Math.max(0,l*u)+1*(1-u),p=Math.max(0,c*u)+1*(1-u);t[e]=255*Math.max(0,Math.min(1,d)),t[e+1]=255*Math.max(0,Math.min(1,f)),t[e+2]=255*Math.max(0,Math.min(1,p))}var i=self.JSON.stringify([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]);function r(e){return self.JSON.stringify(e||[])===i}function o(e,t){if(!t||r(t))return e;for(var n=e.data,i=n.length,o=t[0],a=t[1],s=t[2],l=t[3],c=t[4],u=t[5],d=t[6],f=t[7],p=t[8],h=t[9],m=t[10],g=t[11],v=t[12],E=t[13],y=t[14],_=t[15],T=t[16],b=t[17],I=t[18],w=t[19],R=0,O=0,x=0,M=0,D=0,A=0,S=0,C=0,L=0,P=0,N=0,G=0;R<i;R+=4)A=(O=n[R]/255)*o+(x=n[R+1]/255)*a+(M=n[R+2]/255)*s+(D=n[R+3]/255)*l+c,S=O*u+x*d+M*f+D*p+h,C=O*m+x*g+M*v+D*E+y,L=O*_+x*T+M*b+D*I+w,P=Math.max(0,A*L)+1*(1-L),N=Math.max(0,S*L)+1*(1-L),G=Math.max(0,C*L)+1*(1-L),n[R]=255*Math.max(0,Math.min(1,P)),n[R+1]=255*Math.max(0,Math.min(1,N)),n[R+2]=255*Math.max(0,Math.min(1,G));return e}},B=function(e,t){if(1165519206===e.getUint32(t+4,!1)){t+=4;var n=18761===e.getUint16(t+=6,!1);t+=e.getUint32(t+4,n);var i=e.getUint16(t,n);t+=2;for(var r=0;r<i;r++)if(274===e.getUint16(t+12*r,n))return e.setUint16(t+12*r+8,1,n),!0;return!1}},U=function(e){return new Promise((function(t){var n=new FileReader;n.onload=function(){return t(function(e){var t=new DataView(e);if(65496!==t.getUint16(0))return null;for(var n,i,r=2,o=!1;r<t.byteLength&&(n=t.getUint16(r,!1),i=t.getUint16(r+2,!1)+2,n>=65504&&n<=65519||65534===n)&&(o||(o=B(t,r)),!(r+i>t.byteLength));)r+=i;return e.slice(0,r)}(n.result)||null)},n.readAsArrayBuffer(e.slice(0,262144))}))},F=function(e,t){var n=window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(n){var i=new n;return i.append(e),i.getBlob(t)}return new Blob([e],{type:t})},z=function(e){var t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(t),i=new Worker(n),r=[];return{transfer:function(){},post:function(e,t,n){var o=Math.random().toString(36).substr(2,9);r[o]=t,i.onmessage=function(e){var t=r[e.data.id];t&&(t(e.data.message),delete r[e.data.id])},i.postMessage({id:o,message:e},n)},terminate:function(){i.terminate(),URL.revokeObjectURL(n)}}},V=function(e){return new Promise((function(t,n){var i=new Image;i.onload=function(){t(i)},i.onerror=function(e){n(e)},i.src=e}))},q=function(e,t){return new Promise((function(n){var i,r={width:e.width,height:e.height},o=e.getContext("2d"),a=t.sort(P).map((function(e){return function(){return new Promise((function(t){Y[e[0]](o,r,e[1],t)&&t()}))}}));(i=a,i.reduce((function(e,t){return e.then((function(e){return t().then(Array.prototype.concat.bind(e))}))}),Promise.resolve([]))).then((function(){return n(e)}))}))},H=function(e,t){e.beginPath(),e.lineCap=t["stroke-linecap"],e.lineJoin=t["stroke-linejoin"],e.lineWidth=t["stroke-width"],t["stroke-dasharray"].length&&e.setLineDash(t["stroke-dasharray"].split(",")),e.fillStyle=t.fill,e.strokeStyle=t.stroke,e.globalAlpha=t.opacity||1},j=function(e){e.fill(),e.stroke(),e.globalAlpha=1},Y={rect:function(e,t,n){var i=w(n,t),r=b(n,t);return H(e,r),e.rect(i.x,i.y,i.width,i.height),j(e),!0},ellipse:function(e,t,n){var i=w(n,t),r=b(n,t);H(e,r);var o=i.x,a=i.y,s=i.width,l=i.height,c=.5522848,u=s/2*c,d=l/2*c,f=o+s,p=a+l,h=o+s/2,m=a+l/2;return e.moveTo(o,m),e.bezierCurveTo(o,m-d,h-u,a,h,a),e.bezierCurveTo(h+u,a,f,m-d,f,m),e.bezierCurveTo(f,m+d,h+u,p,h,p),e.bezierCurveTo(h-u,p,o,m+d,o,m),j(e),!0},image:function(e,t,n,i){var r=w(n,t),o=b(n,t);H(e,o);var a=new Image;new URL(n.src,window.location.href).origin!==window.location.origin&&(a.crossOrigin=""),a.onload=function(){if("cover"===n.fit){var t=r.width/r.height,o=t>1?a.width:a.height*t,s=t>1?a.width/t:a.height,l=.5*a.width-.5*o,c=.5*a.height-.5*s;e.drawImage(a,l,c,o,s,r.x,r.y,r.width,r.height)}else if("contain"===n.fit){var u=Math.min(r.width/a.width,r.height/a.height),d=u*a.width,f=u*a.height,p=r.x+.5*r.width-.5*d,h=r.y+.5*r.height-.5*f;e.drawImage(a,0,0,a.width,a.height,p,h,d,f)}else e.drawImage(a,0,0,a.width,a.height,r.x,r.y,r.width,r.height);j(e),i()},a.src=n.src},text:function(e,t,n){var i=w(n,t),r=b(n,t);H(e,r);var o=T(n.fontSize,t),a=n.fontFamily||"sans-serif",s=n.fontWeight||"normal",l=n.textAlign||"left";return e.font="".concat(s," ").concat(o,"px ").concat(a),e.textAlign=l,e.fillText(n.text,i.x,i.y),j(e),!0},line:function(e,t,n){var i=w(n,t),r=b(n,t);H(e,r),e.beginPath();var o={x:i.x,y:i.y},a={x:i.x+i.width,y:i.y+i.height};e.moveTo(o.x,o.y),e.lineTo(a.x,a.y);var s=E({x:a.x-o.x,y:a.y-o.y}),l=.04*Math.min(t.width,t.height);if(-1!==n.lineDecoration.indexOf("arrow-begin")){var c=g(s,l),u=v(o,c),d=y(o,2,u),f=y(o,-2,u);e.moveTo(d.x,d.y),e.lineTo(o.x,o.y),e.lineTo(f.x,f.y)}if(-1!==n.lineDecoration.indexOf("arrow-end")){var p=g(s,-l),h=v(a,p),m=y(a,2,h),_=y(a,-2,h);e.moveTo(m.x,m.y),e.lineTo(a.x,a.y),e.lineTo(_.x,_.y)}return j(e),!0},path:function(e,t,n){var i=b(n,t);H(e,i),e.beginPath();var r=n.points.map((function(e){return{x:T(e.x,t,1,"width"),y:T(e.y,t,1,"height")}}));e.moveTo(r[0].x,r[0].y);for(var o=r.length,a=1;a<o;a++)e.lineTo(r[a].x,r[a].y);return j(e),!0}},W=function(e){var t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e,0,0),t};function X(e){this.wrapped=e}function Q(e){var t,n;function i(t,n){try{var o=e[t](n),a=o.value,s=a instanceof X;Promise.resolve(s?a.wrapped:a).then((function(e){s?i("next",e):r(o.done?"return":"normal",e)}),(function(e){i("throw",e)}))}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise((function(o,a){var s={key:e,arg:r,resolve:o,reject:a,next:null};n?n=n.next=s:(t=n=s,i(e,r))}))},"function"!=typeof e.return&&(this.return=void 0)}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}"function"==typeof Symbol&&Symbol.asyncIterator&&(Q.prototype[Symbol.asyncIterator]=function(){return this}),Q.prototype.next=function(e){return this._invoke("next",e)},Q.prototype.throw=function(e){return this._invoke("throw",e)},Q.prototype.return=function(e){return this._invoke("return",e)};var K=["x","y","left","top","right","bottom","width","height"],$=function(e){var t=Z(e,2),n=t[0],i=t[1],r=i.points?{}:K.reduce((function(e,t){return e[t]="string"==typeof(n=i[t])&&/%/.test(n)?parseFloat(n)/100:n,e;var n}),{});return[n,Object.assign({zIndex:0},i,r)]};"undefined"!=typeof window&&void 0!==window.document&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){var i=this;setTimeout((function(){for(var r=i.toDataURL(t,n).split(",")[1],o=atob(r),a=o.length,s=new Uint8Array(a);a--;)s[a]=o.charCodeAt(a);e(new Blob([s],{type:t||"image/png"}))}))}}));var J="undefined"!=typeof window&&void 0!==window.document,ee=J&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,te=function(n){var i=n.addFilter,r=n.utils,o=r.Type,a=r.forin,s=r.getFileFromBlob,l=r.isFile,c=["crop","resize","filter","markup","output"],u=function(e){return null===e.aspectRatio&&0===e.rotation&&1===e.zoom&&e.center&&.5===e.center.x&&.5===e.center.y&&e.flip&&!1===e.flip.horizontal&&!1===e.flip.vertical};i("SHOULD_PREPARE_OUTPUT",(function(e,t){var n=t.query;return new Promise((function(e){e(!n("IS_ASYNC"))}))}));var f=function(e,t,n){return new Promise((function(i){if(!e("GET_ALLOW_IMAGE_TRANSFORM")||n.archived||!l(t)||!function(e){return/^image/.test(e.type)}(t))return i(!1);(function(e){return new Promise((function(t,n){var i=new Image;i.src=URL.createObjectURL(e);var r=function(){var e=i.naturalWidth,n=i.naturalHeight;e&&n&&(URL.revokeObjectURL(i.src),clearInterval(o),t({width:e,height:n}))};i.onerror=function(e){URL.revokeObjectURL(i.src),clearInterval(o),n(e)};var o=setInterval(r,1);r()}))})(t).then((function(){var n=e("GET_IMAGE_TRANSFORM_IMAGE_FILTER");if(n){var r=n(t);if(null==r)return handleRevert(!0);if("boolean"==typeof r)return i(r);if("function"==typeof r.then)return r.then(i)}i(!0)})).catch((function(e){i(!1)}))}))};return i("PREPARE_OUTPUT",(function(n,i){var r=i.query,o=i.item;return new Promise((function(i){f(r,n,o).then((function(l){if(!l)return i(n);var f=[];r("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_ORIGINAL")&&f.push((function(){return new Promise((function(e){e({name:r("GET_IMAGE_TRANSFORM_VARIANTS_ORIGINAL_NAME"),file:n})}))})),r("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_DEFAULT")&&f.push((function(e,t,n){return new Promise((function(i){e(t,n).then((function(e){return i({name:r("GET_IMAGE_TRANSFORM_VARIANTS_DEFAULT_NAME"),file:e})}))}))}));var p=r("GET_IMAGE_TRANSFORM_VARIANTS")||{};a(p,(function(e,t){var n,i=(n=t,function(e,t,i){return e(t,n?n(i):i)});f.push((function(t,n,r){return new Promise((function(o){i(t,n,r).then((function(t){return o({name:e,file:t})}))}))}))}));var g=r("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY"),v=r("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY_MODE"),E=null===g?null:g/100,y=r("GET_IMAGE_TRANSFORM_OUTPUT_MIME_TYPE"),_=r("GET_IMAGE_TRANSFORM_CLIENT_TRANSFORMS")||c;o.setMetadata("output",{type:y,quality:E,client:_},!0);var T=function(n,i){return new Promise((function(o,a){var l=Object.assign({},i);Object.keys(l).filter((function(e){return"exif"!==e})).forEach((function(e){-1===_.indexOf(e)&&delete l[e]}));var c=l.resize,f=l.exif,p=l.output,g=l.crop,E=l.filter,y=l.markup,T={image:{orientation:f?f.orientation:null},output:p&&(p.type||"number"==typeof p.quality||p.background)?{type:p.type,quality:"number"==typeof p.quality?100*p.quality:null,background:p.background||r("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR")||null}:void 0,size:c&&(c.size.width||c.size.height)?Object.assign({mode:c.mode,upscale:c.upscale},c.size):void 0,crop:g&&!u(g)?Object.assign({},g):void 0,markup:y&&y.length?y.map($):[],filter:E};if(T.output){var b=!!p.type&&p.type!==n.type,I=/\/jpe?g$/.test(n.type),w=null!==p.quality&&I&&"always"===v;if(!(T.size||T.crop||T.filter||b||w))return o(n)}var R={beforeCreateBlob:r("GET_IMAGE_TRANSFORM_BEFORE_CREATE_BLOB"),afterCreateBlob:r("GET_IMAGE_TRANSFORM_AFTER_CREATE_BLOB"),canvasMemoryLimit:r("GET_IMAGE_TRANSFORM_CANVAS_MEMORY_LIMIT"),stripImageHead:r("GET_IMAGE_TRANSFORM_OUTPUT_STRIP_IMAGE_HEAD")};(function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,o){if(!e||!t(e))return o({status:"not an image file",file:e});var a=i.stripImageHead,s=i.beforeCreateBlob,l=i.afterCreateBlob,c=i.canvasMemoryLimit,u=n.crop,f=n.size,p=n.filter,g=n.markup,v=n.output,E=n.image&&n.image.orientation?Math.max(1,Math.min(8,n.image.orientation)):null,y=v&&v.quality,_=null===y?null:y/100,T=v&&v.type||null,b=v&&v.background||null,I=[];!f||"number"!=typeof f.width&&"number"!=typeof f.height||I.push({type:"resize",data:f}),p&&20===p.length&&I.push({type:"filter",data:p});var w=function(e){var t=l?l(e):e;Promise.resolve(t).then(r)},R=function(t,n){var i=W(t),r=g.length?q(i,g):i;Promise.resolve(r).then((function(t){m(t,n,s).then((function(n){if(d(t),a)return w(n);U(e).then((function(e){null!==e&&(n=new Blob([e,n.slice(20)],{type:n.type})),w(n)}))})).catch(o)}))};if(/svg/.test(e.type)&&null===T)return N(e,u,g,{background:b}).then((function(e){r(F(e,"image/svg+xml"))}));var O=URL.createObjectURL(e);V(O).then((function(t){URL.revokeObjectURL(O);var n=h(t,E,u,{canvasMemoryLimit:c,background:b}),i={quality:_,type:T||e.type};if(!I.length)return R(n,i);var r=z(k);r.post({transforms:I,imageData:n},(function(e){R(G(e),i),r.terminate()}),[n.data.buffer])})).catch(o)}))})(n,T,R).then((function(t){var i=s(t,function(t,n){var i=function(e){return e.substr(0,e.lastIndexOf("."))||e}(t),r=n.split("/")[1],o=e[r]||r;return"".concat(i,".").concat(o)}(n.name,function(e){return/jpeg|png|svg\+xml/.test(e)?e:"image/jpeg"}(t.type)));o(i)})).catch(a)}))},b=f.map((function(e){return e(T,n,o.getMetadata())}));Promise.all(b).then((function(e){i(1===e.length&&null===e[0].name?e[0].file:e)}))}))}))})),{options:{allowImageTransform:[!0,o.BOOLEAN],imageTransformImageFilter:[null,o.FUNCTION],imageTransformOutputMimeType:[null,o.STRING],imageTransformOutputQuality:[null,o.INT],imageTransformOutputStripImageHead:[!0,o.BOOLEAN],imageTransformClientTransforms:[null,o.ARRAY],imageTransformOutputQualityMode:["always",o.STRING],imageTransformVariants:[null,o.OBJECT],imageTransformVariantsIncludeDefault:[!0,o.BOOLEAN],imageTransformVariantsDefaultName:[null,o.STRING],imageTransformVariantsIncludeOriginal:[!1,o.BOOLEAN],imageTransformVariantsOriginalName:["original_",o.STRING],imageTransformBeforeCreateBlob:[null,o.FUNCTION],imageTransformAfterCreateBlob:[null,o.FUNCTION],imageTransformCanvasMemoryLimit:[J&&ee?16777216:null,o.INT],imageTransformCanvasBackgroundColor:[null,o.STRING]}}};return J&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:te})),te}()},136:function(e,t){!function(e){"use strict";var t=function(e){return e instanceof HTMLElement},n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=Object.assign({},e),r=[],o=[],a=function(){var e=[].concat(o);o.length=0,e.forEach((function(e){var t=e.type,n=e.data;s(t,n)}))},s=function(e,t,n){!n||document.hidden?(d[e]&&d[e](t),r.push({type:e,data:t})):o.push({type:e,data:t})},l=function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return u[e]?(t=u)[e].apply(t,i):null},c={getState:function(){return Object.assign({},i)},processActionQueue:function(){var e=[].concat(r);return r.length=0,e},processDispatchQueue:a,dispatch:s,query:l},u={};t.forEach((function(e){u=Object.assign({},e(i),{},u)}));var d={};return n.forEach((function(e){d=Object.assign({},e(s,l,i),{},d)})),c},i=function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])},r=function(e){var t={};return i(e,(function(n){!function(e,t,n){"function"!=typeof n?Object.defineProperty(e,t,Object.assign({},n)):e[t]=n}(t,n,e[n])})),t},o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===n)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,n)},a="http://www.w3.org/2000/svg",s=["svg","path"],l=function(e){return s.includes(e)},c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"==typeof t&&(n=t,t=null);var r=l(e)?document.createElementNS(a,e):document.createElement(e);return t&&(l(e)?o(r,"class",t):r.className=t),i(n,(function(e,t){o(r,e,t)})),r},u=function(e){return function(t,n){void 0!==n&&e.children[n]?e.insertBefore(t,e.children[n]):e.appendChild(t)}},d=function(e,t){return function(e,n){return void 0!==n?t.splice(n,0,e):t.push(e),e}},f=function(e,t){return function(n){return t.splice(t.indexOf(n),1),n.element.parentNode&&e.removeChild(n.element),n}},p="undefined"!=typeof window&&void 0!==window.document,h=function(){return p},m="children"in(h()?c("svg"):{})?function(e){return e.children.length}:function(e){return e.childNodes.length},g=function(e,t,n,i){var r=n[0]||e.left,o=n[1]||e.top,a=r+e.width,s=o+e.height*(i[1]||1),l={element:Object.assign({},e),inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:r,top:o,right:a,bottom:s}};return t.filter((function(e){return!e.isRectIgnored()})).map((function(e){return e.rect})).forEach((function(e){v(l.inner,Object.assign({},e.inner)),v(l.outer,Object.assign({},e.outer))})),E(l.inner),l.outer.bottom+=l.element.marginBottom,l.outer.right+=l.element.marginRight,E(l.outer),l},v=function(e,t){t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},E=function(e){e.width=e.right-e.left,e.height=e.bottom-e.top},y=function(e){return"number"==typeof e},_=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001;return Math.abs(e-t)<i&&Math.abs(n)<i},T=function(e){return e<.5?2*e*e:(4-2*e)*e-1},b={spring:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiffness,n=void 0===t?.5:t,i=e.damping,o=void 0===i?.75:i,a=e.mass,s=void 0===a?10:a,l=null,c=null,u=0,d=!1,f=r({interpolate:function(e,t){if(!d){if(!y(l)||!y(c))return d=!0,void(u=0);_(c+=u+=-(c-l)*n/s,l,u*=o)||t?(c=l,u=0,d=!0,f.onupdate(c),f.oncomplete(c)):f.onupdate(c)}},target:{set:function(e){if(y(e)&&!y(c)&&(c=e),null===l&&(l=e,c=e),c===(l=e)||void 0===l)return d=!0,u=0,f.onupdate(c),void f.oncomplete(c);d=!1},get:function(){return l}},resting:{get:function(){return d}},onupdate:function(e){},oncomplete:function(e){}});return f},tween:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.duration,o=void 0===i?500:i,a=n.easing,s=void 0===a?T:a,l=n.delay,c=void 0===l?0:l,u=null,d=!0,f=!1,p=null,h=r({interpolate:function(n,i){d||null===p||(null===u&&(u=n),n-u<c||((e=n-u-c)>=o||i?(e=1,t=f?0:1,h.onupdate(t*p),h.oncomplete(t*p),d=!0):(t=e/o,h.onupdate((e>=0?s(f?1-t:t):0)*p))))},target:{get:function(){return f?0:p},set:function(e){if(null===p)return p=e,h.onupdate(e),void h.oncomplete(e);e<p?(p=1,f=!0):(f=!1,p=e),d=!1,u=null}},resting:{get:function(){return d}},onupdate:function(e){},oncomplete:function(e){}});return h}},I=function(e,t,n){var i=e[t]&&"object"==typeof e[t][n]?e[t][n]:e[t]||e,r="string"==typeof i?i:i.type,o="object"==typeof i?Object.assign({},i):{};return b[r]?b[r](o):null},w=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(t=Array.isArray(t)?t:[t]).forEach((function(t){e.forEach((function(e){var r=e,o=function(){return n[e]},a=function(t){return n[e]=t};"object"==typeof e&&(r=e.key,o=e.getter||o,a=e.setter||a),t[r]&&!i||(t[r]={get:o,set:a})}))}))},R=function(e){return null!=e},O={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},x=function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!0;for(var n in t)if(t[n]!==e[n])return!0;return!1},M=function(e,t){var n=t.opacity,i=t.perspective,r=t.translateX,o=t.translateY,a=t.scaleX,s=t.scaleY,l=t.rotateX,c=t.rotateY,u=t.rotateZ,d=t.originX,f=t.originY,p=t.width,h=t.height,m="",g="";(R(d)||R(f))&&(g+="transform-origin: "+(d||0)+"px "+(f||0)+"px;"),R(i)&&(m+="perspective("+i+"px) "),(R(r)||R(o))&&(m+="translate3d("+(r||0)+"px, "+(o||0)+"px, 0) "),(R(a)||R(s))&&(m+="scale3d("+(R(a)?a:1)+", "+(R(s)?s:1)+", 1) "),R(u)&&(m+="rotateZ("+u+"rad) "),R(l)&&(m+="rotateX("+l+"rad) "),R(c)&&(m+="rotateY("+c+"rad) "),m.length&&(g+="transform:"+m+";"),R(n)&&(g+="opacity:"+n+";",0===n&&(g+="visibility:hidden;"),n<1&&(g+="pointer-events:none;")),R(h)&&(g+="height:"+h+"px;"),R(p)&&(g+="width:"+p+"px;");var v=e.elementCurrentStyle||"";g.length===v.length&&g===v||(e.style.cssText=g,e.elementCurrentStyle=g)},D={styles:function(e){var t=e.mixinConfig,n=e.viewProps,i=e.viewInternalAPI,r=e.viewExternalAPI,o=e.view,a=Object.assign({},n),s={};w(t,[i,r],n);var l=function(){return o.rect?g(o.rect,o.childViews,[n.translateX||0,n.translateY||0],[n.scaleX||0,n.scaleY||0]):null};return i.rect={get:l},r.rect={get:l},t.forEach((function(e){n[e]=void 0===a[e]?O[e]:a[e]})),{write:function(){if(x(s,n))return M(o.element,n),Object.assign(s,Object.assign({},n)),!0},destroy:function(){}}},listeners:function(e){e.mixinConfig,e.viewProps,e.viewInternalAPI;var t,n=e.viewExternalAPI,i=(e.viewState,e.view),r=[],o=(t=i.element,function(e,n){t.addEventListener(e,n)}),a=function(e){return function(t,n){e.removeEventListener(t,n)}}(i.element);return n.on=function(e,t){r.push({type:e,fn:t}),o(e,t)},n.off=function(e,t){r.splice(r.findIndex((function(n){return n.type===e&&n.fn===t})),1),a(e,t)},{write:function(){return!0},destroy:function(){r.forEach((function(e){a(e.type,e.fn)}))}}},animations:function(e){var t=e.mixinConfig,n=e.viewProps,r=e.viewInternalAPI,o=e.viewExternalAPI,a=Object.assign({},n),s=[];return i(t,(function(e,t){var i=I(t);i&&(i.onupdate=function(t){n[e]=t},i.target=a[e],w([{key:e,setter:function(e){i.target!==e&&(i.target=e)},getter:function(){return n[e]}}],[r,o],n,!0),s.push(i))})),{write:function(e){var t=document.hidden,n=!0;return s.forEach((function(i){i.resting||(n=!1),i.interpolate(e,t)})),n},destroy:function(){}}},apis:function(e){var t=e.mixinConfig,n=e.viewProps,i=e.viewExternalAPI;w(t,i,n)}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.layoutCalculated||(e.paddingTop=parseInt(n.paddingTop,10)||0,e.marginTop=parseInt(n.marginTop,10)||0,e.marginRight=parseInt(n.marginRight,10)||0,e.marginBottom=parseInt(n.marginBottom,10)||0,e.marginLeft=parseInt(n.marginLeft,10)||0,t.layoutCalculated=!0),e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=null===t.offsetParent,e},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tag,n=void 0===t?"div":t,i=e.name,o=void 0===i?null:i,a=e.attributes,s=void 0===a?{}:a,l=e.read,p=void 0===l?function(){}:l,h=e.write,v=void 0===h?function(){}:h,E=e.create,y=void 0===E?function(){}:E,_=e.destroy,T=void 0===_?function(){}:_,b=e.filterFrameActionsForChild,I=void 0===b?function(e,t){return t}:b,w=e.didCreateView,R=void 0===w?function(){}:w,O=e.didWriteView,x=void 0===O?function(){}:O,M=e.ignoreRect,S=void 0!==M&&M,C=e.ignoreRectUpdate,L=void 0!==C&&C,P=e.mixins,N=void 0===P?[]:P;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=c(n,"filepond--"+o,s),a=window.getComputedStyle(i,null),l=A(),h=null,E=!1,_=[],b=[],w={},O={},M=[v],C=[p],P=[T],G=function(){return i},k=function(){return _.concat()},B=function(){return w},U=function(e){return function(t,n){return t(e,n)}},F=function(){return h||(h=g(l,_,[0,0],[1,1]))},z=function(){h=null,_.forEach((function(e){return e._read()})),!(L&&l.width&&l.height)&&A(l,i,a);var e={root:X,props:t,rect:l};C.forEach((function(t){return t(e)}))},V=function(e,n,i){var r=0===n.length;return M.forEach((function(o){!1===o({props:t,root:X,actions:n,timestamp:e,shouldOptimize:i})&&(r=!1)})),b.forEach((function(t){!1===t.write(e)&&(r=!1)})),_.filter((function(e){return!!e.element.parentNode})).forEach((function(t){t._write(e,I(t,n),i)||(r=!1)})),_.forEach((function(t,o){t.element.parentNode||(X.appendChild(t.element,o),t._read(),t._write(e,I(t,n),i),r=!1)})),E=r,x({props:t,root:X,actions:n,timestamp:e}),r},q=function(){b.forEach((function(e){return e.destroy()})),P.forEach((function(e){e({root:X,props:t})})),_.forEach((function(e){return e._destroy()}))},H={element:{get:G},style:{get:function(){return a}},childViews:{get:k}},j=Object.assign({},H,{rect:{get:F},ref:{get:B},is:function(e){return o===e},appendChild:u(i),createChildView:U(e),linkView:function(e){return _.push(e),e},unlinkView:function(e){_.splice(_.indexOf(e),1)},appendChildView:d(0,_),removeChildView:f(i,_),registerWriter:function(e){return M.push(e)},registerReader:function(e){return C.push(e)},registerDestroyer:function(e){return P.push(e)},invalidateLayout:function(){return i.layoutCalculated=!1},dispatch:e.dispatch,query:e.query}),Y={element:{get:G},childViews:{get:k},rect:{get:F},resting:{get:function(){return E}},isRectIgnored:function(){return S},_read:z,_write:V,_destroy:q},W=Object.assign({},H,{rect:{get:function(){return l}}});Object.keys(N).sort((function(e,t){return"styles"===e?1:"styles"===t?-1:0})).forEach((function(e){var n=D[e]({mixinConfig:N[e],viewProps:t,viewState:O,viewInternalAPI:j,viewExternalAPI:Y,view:r(W)});n&&b.push(n)}));var X=r(j);y({root:X,props:t});var Q=m(i);return _.forEach((function(e,t){X.appendChild(e.element,Q+t)})),R(X),r(Y)}},C=function(e,t){return function(n){var i=n.root,r=n.props,o=n.actions,a=void 0===o?[]:o,s=n.timestamp,l=n.shouldOptimize;a.filter((function(t){return e[t.type]})).forEach((function(t){return e[t.type]({root:i,props:r,action:t.data,timestamp:s,shouldOptimize:l})})),t&&t({root:i,props:r,actions:a,timestamp:s,shouldOptimize:l})}},L=function(e,t){return t.parentNode.insertBefore(e,t)},P=function(e,t){return t.parentNode.insertBefore(e,t.nextSibling)},N=function(e){return Array.isArray(e)},G=function(e){return null==e},k=function(e){return e.trim()},B=function(e){return""+e},U=function(e){return"boolean"==typeof e},F=function(e){return U(e)?e:"true"===e},z=function(e){return"string"==typeof e},V=function(e){return y(e)?e:z(e)?B(e).replace(/[a-z]+/gi,""):0},q=function(e){return parseInt(V(e),10)},H=function(e){return parseFloat(V(e))},j=function(e){return y(e)&&isFinite(e)&&Math.floor(e)===e},Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(j(e))return e;var n=B(e).trim();return/MB$/i.test(n)?(n=n.replace(/MB$i/,"").trim(),q(n)*t*t):/KB/i.test(n)?(n=n.replace(/KB$i/,"").trim(),q(n)*t):q(n)},W=function(e){return"function"==typeof e},X={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},Q=function(e,t,n,i,r){if(null===t)return null;if("function"==typeof t)return t;var o={url:"GET"===n||"PATCH"===n?"?"+e+"=":"",method:n,headers:r,withCredentials:!1,timeout:i,onload:null,ondata:null,onerror:null};if(z(t))return o.url=t,o;if(Object.assign(o,t),z(o.headers)){var a=o.headers.split(/:(.+)/);o.headers={header:a[0],value:a[1]}}return o.withCredentials=F(o.withCredentials),o},Z=function(e){return"object"==typeof e&&null!==e},K=function(e){return N(e)?"array":function(e){return null===e}(e)?"null":j(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":function(e){return Z(e)&&z(e.url)&&Z(e.process)&&Z(e.revert)&&Z(e.restore)&&Z(e.fetch)}(e)?"api":typeof e},$={array:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return G(e)?[]:N(e)?e:B(e).split(t).map(k).filter((function(e){return e.length}))},boolean:F,int:function(e){return"bytes"===K(e)?Y(e):q(e)},number:H,float:H,bytes:Y,string:function(e){return W(e)?e:B(e)},function:function(e){return function(e){for(var t=self,n=e.split("."),i=null;i=n.shift();)if(!(t=t[i]))return null;return t}(e)},serverapi:function(e){return(n={}).url=z(t=e)?t:t.url||"",n.timeout=t.timeout?parseInt(t.timeout,10):0,n.headers=t.headers?t.headers:{},i(X,(function(e){n[e]=Q(e,t[e],X[e],n.timeout,n.headers)})),n.remove=t.remove||null,delete n.headers,n;var t,n},object:function(e){try{return JSON.parse(e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'))}catch(e){return null}}},J=function(e,t,n){if(e===t)return e;var i,r=K(e);if(r!==n){var o=(i=e,$[n](i));if(r=K(o),null===o)throw'Trying to assign value with incorrect type to "'+option+'", allowed type: "'+n+'"';e=o}return e},ee=function(e){var t={};return i(e,(function(n){var i,r,o,a=e[n];t[n]=(i=a[0],r=a[1],o=i,{enumerable:!0,get:function(){return o},set:function(e){o=J(e,i,r)}})})),r(t)},te=function(e){return{items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:ee(e)}},ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.split(/(?=[A-Z])/).map((function(e){return e.toLowerCase()})).join(t)},ie=function(e,t){var n={};return i(t,(function(t){n[t]={get:function(){return e.getState().options[t]},set:function(n){e.dispatch("SET_"+ne(t,"_").toUpperCase(),{value:n})}}})),n},re=function(e){return function(t,n,r){var o={};return i(e,(function(e){var n=ne(e,"_").toUpperCase();o["SET_"+n]=function(i){try{r.options[e]=i.value}catch(e){}t("DID_SET_"+n,{value:r.options[e]})}})),o}},oe=function(e){return function(t){var n={};return i(e,(function(e){n["GET_"+ne(e,"_").toUpperCase()]=function(n){return t.options[e]}})),n}},ae=1,se=2,le=3,ce=4,ue=5,de=function(){return Math.random().toString(36).substr(2,9)};function fe(e){this.wrapped=e}function pe(e){var t,n;function i(t,n){try{var o=e[t](n),a=o.value,s=a instanceof fe;Promise.resolve(s?a.wrapped:a).then((function(e){s?i("next",e):r(o.done?"return":"normal",e)}),(function(e){i("throw",e)}))}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise((function(o,a){var s={key:e,arg:r,resolve:o,reject:a,next:null};n?n=n.next=s:(t=n=s,i(e,r))}))},"function"!=typeof e.return&&(this.return=void 0)}function he(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function me(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}"function"==typeof Symbol&&Symbol.asyncIterator&&(pe.prototype[Symbol.asyncIterator]=function(){return this}),pe.prototype.next=function(e){return this._invoke("next",e)},pe.prototype.throw=function(e){return this._invoke("throw",e)},pe.prototype.return=function(e){return this._invoke("return",e)};var ge,ve,Ee=function(e,t){return e.splice(t,1)},ye=function(){var e=[],t=function(t,n){Ee(e,e.findIndex((function(e){return e.event===t&&(e.cb===n||!n)})))},n=function(t,n,i){e.filter((function(e){return e.event===t})).map((function(e){return e.cb})).forEach((function(e){return function(e,t){t?e():document.hidden?Promise.resolve(1).then(e):setTimeout(e,0)}((function(){return e.apply(void 0,me(n))}),i)}))};return{fireSync:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];n(e,i,!0)},fire:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];n(e,i,!1)},on:function(t,n){e.push({event:t,cb:n})},onOnce:function(n,i){e.push({event:n,cb:function(){t(n,i),i.apply(void 0,arguments)}})},off:t}},_e=function(e,t,n){Object.getOwnPropertyNames(e).filter((function(e){return!n.includes(e)})).forEach((function(n){return Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))},Te=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],be=function(e){var t={};return _e(e,t,Te),t},Ie=function(e){e.forEach((function(t,n){t.released&&Ee(e,n)}))},we={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},Re={INPUT:1,LIMBO:2,LOCAL:3},Oe=function(e){return/[^0-9]+/.exec(e)},xe=function(){return Oe(1.1.toLocaleString())[0]},Me={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},De=[],Ae=function(e,t,n){return new Promise((function(i,r){var o=De.filter((function(t){return t.key===e})).map((function(e){return e.cb}));if(0!==o.length){var a=o.shift();o.reduce((function(e,t){return e.then((function(e){return t(e,n)}))}),a(t,n)).then((function(e){return i(e)})).catch((function(e){return r(e)}))}else i(t)}))},Se=function(e,t,n){return De.filter((function(t){return t.key===e})).map((function(e){return e.cb(t,n)}))},Ce=function(e,t){return De.push({key:e,cb:t})},Le=function(){return Object.assign({},Pe)},Pe={id:[null,Me.STRING],name:["filepond",Me.STRING],disabled:[!1,Me.BOOLEAN],className:[null,Me.STRING],required:[!1,Me.BOOLEAN],captureMethod:[null,Me.STRING],allowSyncAcceptAttribute:[!0,Me.BOOLEAN],allowDrop:[!0,Me.BOOLEAN],allowBrowse:[!0,Me.BOOLEAN],allowPaste:[!0,Me.BOOLEAN],allowMultiple:[!1,Me.BOOLEAN],allowReplace:[!0,Me.BOOLEAN],allowRevert:[!0,Me.BOOLEAN],allowRemove:[!0,Me.BOOLEAN],allowProcess:[!0,Me.BOOLEAN],allowReorder:[!1,Me.BOOLEAN],allowDirectoriesOnly:[!1,Me.BOOLEAN],forceRevert:[!1,Me.BOOLEAN],maxFiles:[null,Me.INT],checkValidity:[!1,Me.BOOLEAN],itemInsertLocationFreedom:[!0,Me.BOOLEAN],itemInsertLocation:["before",Me.STRING],itemInsertInterval:[75,Me.INT],dropOnPage:[!1,Me.BOOLEAN],dropOnElement:[!0,Me.BOOLEAN],dropValidation:[!1,Me.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],Me.ARRAY],instantUpload:[!0,Me.BOOLEAN],maxParallelUploads:[2,Me.INT],chunkUploads:[!1,Me.BOOLEAN],chunkForce:[!1,Me.BOOLEAN],chunkSize:[5e6,Me.INT],chunkRetryDelays:[[500,1e3,3e3],Me.Array],server:[null,Me.SERVER_API],fileSizeBase:[1e3,Me.INT],labelDecimalSeparator:[xe(),Me.STRING],labelThousandsSeparator:[(ge=xe(),ve=1e3.toLocaleString(),ve!==1e3.toString()?Oe(ve)[0]:"."===ge?",":"."),Me.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',Me.STRING],labelInvalidField:["Field contains invalid files",Me.STRING],labelFileWaitingForSize:["Waiting for size",Me.STRING],labelFileSizeNotAvailable:["Size not available",Me.STRING],labelFileCountSingular:["file in list",Me.STRING],labelFileCountPlural:["files in list",Me.STRING],labelFileLoading:["Loading",Me.STRING],labelFileAdded:["Added",Me.STRING],labelFileLoadError:["Error during load",Me.STRING],labelFileRemoved:["Removed",Me.STRING],labelFileRemoveError:["Error during remove",Me.STRING],labelFileProcessing:["Uploading",Me.STRING],labelFileProcessingComplete:["Upload complete",Me.STRING],labelFileProcessingAborted:["Upload cancelled",Me.STRING],labelFileProcessingError:["Error during upload",Me.STRING],labelFileProcessingRevertError:["Error during revert",Me.STRING],labelTapToCancel:["tap to cancel",Me.STRING],labelTapToRetry:["tap to retry",Me.STRING],labelTapToUndo:["tap to undo",Me.STRING],labelButtonRemoveItem:["Remove",Me.STRING],labelButtonAbortItemLoad:["Abort",Me.STRING],labelButtonRetryItemLoad:["Retry",Me.STRING],labelButtonAbortItemProcessing:["Cancel",Me.STRING],labelButtonUndoItemProcessing:["Undo",Me.STRING],labelButtonRetryItemProcessing:["Retry",Me.STRING],labelButtonProcessItem:["Upload",Me.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',Me.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',Me.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',Me.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',Me.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',Me.STRING],oninit:[null,Me.FUNCTION],onwarning:[null,Me.FUNCTION],onerror:[null,Me.FUNCTION],onactivatefile:[null,Me.FUNCTION],oninitfile:[null,Me.FUNCTION],onaddfilestart:[null,Me.FUNCTION],onaddfileprogress:[null,Me.FUNCTION],onaddfile:[null,Me.FUNCTION],onprocessfilestart:[null,Me.FUNCTION],onprocessfileprogress:[null,Me.FUNCTION],onprocessfileabort:[null,Me.FUNCTION],onprocessfilerevert:[null,Me.FUNCTION],onprocessfile:[null,Me.FUNCTION],onprocessfiles:[null,Me.FUNCTION],onremovefile:[null,Me.FUNCTION],onpreparefile:[null,Me.FUNCTION],onupdatefiles:[null,Me.FUNCTION],onreorderfiles:[null,Me.FUNCTION],beforeDropFile:[null,Me.FUNCTION],beforeAddFile:[null,Me.FUNCTION],beforeRemoveFile:[null,Me.FUNCTION],stylePanelLayout:[null,Me.STRING],stylePanelAspectRatio:[null,Me.STRING],styleItemPanelAspectRatio:[null,Me.STRING],styleButtonRemoveItemPosition:["left",Me.STRING],styleButtonProcessItemPosition:["right",Me.STRING],styleLoadIndicatorPosition:["right",Me.STRING],styleProgressIndicatorPosition:["right",Me.STRING],styleButtonRemoveItemAlign:[!1,Me.BOOLEAN],files:[[],Me.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],Me.ARRAY]},Ne=function(e,t){return G(t)?e[0]||null:j(t)?e[t]||null:("object"==typeof t&&(t=t.id),e.find((function(e){return e.id===t}))||null)},Ge=function(e){if(G(e))return e;if(/:/.test(e)){var t=e.split(":");return t[1]/t[0]}return parseFloat(e)},ke=function(e){return e.filter((function(e){return!e.archived}))},Be={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},Ue=[we.LOAD_ERROR,we.PROCESSING_ERROR,we.PROCESSING_REVERT_ERROR],Fe=[we.LOADING,we.PROCESSING,we.PROCESSING_QUEUED,we.INIT],ze=[we.PROCESSING_COMPLETE],Ve=function(e){return Ue.includes(e.status)},qe=function(e){return Fe.includes(e.status)},He=function(e){return ze.includes(e.status)},je=function(e){return{GET_STATUS:function(){var t=ke(e.items),n=Be.EMPTY,i=Be.ERROR,r=Be.BUSY,o=Be.IDLE,a=Be.READY;return 0===t.length?n:t.some(Ve)?i:t.some(qe)?r:t.some(He)?a:o},GET_ITEM:function(t){return Ne(e.items,t)},GET_ACTIVE_ITEM:function(t){return Ne(ke(e.items),t)},GET_ACTIVE_ITEMS:function(){return ke(e.items)},GET_ITEMS:function(){return e.items},GET_ITEM_NAME:function(t){var n=Ne(e.items,t);return n?n.filename:null},GET_ITEM_SIZE:function(t){var n=Ne(e.items,t);return n?n.fileSize:null},GET_STYLES:function(){return Object.keys(e.options).filter((function(e){return/^style/.test(e)})).map((function(t){return{name:t,value:e.options[t]}}))},GET_PANEL_ASPECT_RATIO:function(){return/circle/.test(e.options.stylePanelLayout)?1:Ge(e.options.stylePanelAspectRatio)},GET_ITEM_PANEL_ASPECT_RATIO:function(){return e.options.styleItemPanelAspectRatio},GET_ITEMS_BY_STATUS:function(t){return ke(e.items).filter((function(e){return e.status===t}))},GET_TOTAL_ITEMS:function(){return ke(e.items).length},IS_ASYNC:function(){return Z(e.options.server)&&(Z(e.options.server.process)||W(e.options.server.process))}}},Ye=function(e,t,n){return Math.max(Math.min(n,e),t)},We=function(e){return/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e)},Xe=function(e){return e.split("/").pop().split("?").shift()},Qe=function(e){return e.split(".").pop()},Ze=function(e){if("string"!=typeof e)return"";var t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?"jpeg"===t?"jpg":t:""},Ke=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(t+e).slice(-t.length)},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.getFullYear()+"-"+Ke(e.getMonth()+1,"00")+"-"+Ke(e.getDate(),"00")+"_"+Ke(e.getHours(),"00")+"-"+Ke(e.getMinutes(),"00")+"-"+Ke(e.getSeconds(),"00")},Je=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r="string"==typeof n?e.slice(0,e.size,n):e.slice(0,e.size,e.type);return r.lastModifiedDate=new Date,e._relativePath&&(r._relativePath=e._relativePath),z(t)||(t=$e()),t&&null===i&&Qe(t)?r.name=t:(i=i||Ze(r.type),r.name=t+(i?"."+i:"")),r},et=function(e,t){var n=window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(n){var i=new n;return i.append(e),i.getBlob(t)}return new Blob([e],{type:t})},tt=function(e){return(/^data:(.+);/.exec(e)||[])[1]||null},nt=function(e){var t=tt(e);return function(e,t){for(var n=new ArrayBuffer(e.length),i=new Uint8Array(n),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return et(n,t)}(function(e){return atob(function(e){return e.split(",")[1].replace(/\s/g,"")}(e))}(e),t)},it=function(e){if(!/^content-disposition:/i.test(e))return null;var t=e.split(/filename=|filename\*=.+''/).splice(1).map((function(e){return e.trim().replace(/^["']|[;"']{0,2}$/g,"")})).filter((function(e){return e.length}));return t.length?decodeURI(t[t.length-1]):null},rt=function(e){if(/content-length:/i.test(e)){var t=e.match(/[0-9]+/)[0];return t?parseInt(t,10):null}return null},ot=function(e){return/x-content-transfer-id:/i.test(e)&&(e.split(":")[1]||"").trim()||null},at=function(e){var t={source:null,name:null,size:null},n=e.split("\n"),i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value,c=it(l);if(c)t.name=c;else{var u=rt(l);if(u)t.size=u;else{var d=ot(l);d&&(t.source=d)}}}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return t},st=function(e){var t={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},n=function(n){e?(t.timestamp=Date.now(),t.request=e(n,(function(e){t.duration=Date.now()-t.timestamp,t.complete=!0,e instanceof Blob&&(e=Je(e,e.name||Xe(n))),i.fire("load",e instanceof Blob?e:e?e.body:null)}),(function(e){i.fire("error","string"==typeof e?{type:"error",code:0,body:e}:e)}),(function(e,n,r){r&&(t.size=r),t.duration=Date.now()-t.timestamp,e?(t.progress=n/r,i.fire("progress",t.progress)):t.progress=null}),(function(){i.fire("abort")}),(function(e){var n=at("string"==typeof e?e:e.headers);i.fire("meta",{size:t.size||n.size,filename:n.name,source:n.source})}))):i.fire("error",{type:"error",body:"Can't load URL",code:400})},i=Object.assign({},ye(),{setSource:function(e){return t.source=e},getProgress:function(){return t.progress},abort:function(){t.request&&t.request.abort&&t.request.abort()},load:function(){var e,r,o=t.source;i.fire("init",o),o instanceof File?i.fire("load",o):o instanceof Blob?i.fire("load",Je(o,o.name)):We(o)?i.fire("load",Je(nt(o),e,null,r)):n(o)}});return i},lt=function(e){return/GET|HEAD/.test(e)},ct=function(e,t,n){var i={onheaders:function(){},onprogress:function(){},onload:function(){},ontimeout:function(){},onerror:function(){},onabort:function(){},abort:function(){r=!0,a.abort()}},r=!1,o=!1;n=Object.assign({method:"POST",headers:{},withCredentials:!1},n),t=encodeURI(t),lt(n.method)&&e&&(t=""+t+encodeURIComponent("string"==typeof e?e:JSON.stringify(e)));var a=new XMLHttpRequest;return(lt(n.method)?a:a.upload).onprogress=function(e){r||i.onprogress(e.lengthComputable,e.loaded,e.total)},a.onreadystatechange=function(){a.readyState<2||4===a.readyState&&0===a.status||o||(o=!0,i.onheaders(a))},a.onload=function(){a.status>=200&&a.status<300?i.onload(a):i.onerror(a)},a.onerror=function(){return i.onerror(a)},a.onabort=function(){r=!0,i.onabort()},a.ontimeout=function(){return i.ontimeout(a)},a.open(n.method,t,!0),j(n.timeout)&&(a.timeout=n.timeout),Object.keys(n.headers).forEach((function(e){var t=unescape(encodeURIComponent(n.headers[e]));a.setRequestHeader(e,t)})),n.responseType&&(a.responseType=n.responseType),n.withCredentials&&(a.withCredentials=!0),a.send(e),i},ut=function(e,t,n,i){return{type:e,code:t,body:n,headers:i}},dt=function(e){return function(t){e(ut("error",0,"Timeout",t.getAllResponseHeaders()))}},ft=function(e){return/\?/.test(e)},pt=function(){for(var e="",t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach((function(t){e+=ft(e)&&ft(t)?t.replace(/\?/,"&"):t})),e},ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if("function"==typeof t)return t;if(!t||!z(t.url))return null;var n=t.onload||function(e){return e},i=t.onerror||function(e){return null};return function(r,o,a,s,l,c){var u=ct(r,pt(e,t.url),Object.assign({},t,{responseType:"blob"}));return u.onload=function(e){var i=e.getAllResponseHeaders(),a=at(i).name||Xe(r);o(ut("load",e.status,"HEAD"===t.method?null:Je(n(e.response),a),i))},u.onerror=function(e){a(ut("error",e.status,i(e.response)||e.statusText,e.getAllResponseHeaders()))},u.onheaders=function(e){c(ut("headers",e.status,null,e.getAllResponseHeaders()))},u.ontimeout=dt(a),u.onprogress=s,u.onabort=l,u}},mt=0,gt=1,vt=2,Et=3,yt=4,_t=function(e,t,n,i,r,o,a,s,l,c,u){for(var d=[],f=u.chunkTransferId,p=u.chunkServer,h=u.chunkSize,m=u.chunkRetryDelays,g={serverId:f,aborted:!1},v=t.ondata||function(e){return e},E=t.onload||function(e,t){return"HEAD"===t?e.getResponseHeader("Upload-Offset"):e.response},y=t.onerror||function(e){return null},_=Math.floor(i.size/h),T=0;T<=_;T++){var b=T*h,I=i.slice(b,b+h,"application/offset+octet-stream");d[T]={index:T,size:I.size,offset:b,data:I,file:i,progress:0,retries:me(m),status:mt,error:null,request:null,timeout:null}}var w,R,O,x,M=function(e){return e.status===mt||e.status===Et},D=function(t){if(!g.aborted)if(t=t||d.find(M)){t.status=vt,t.progress=null;var n=p.ondata||function(e){return e},r=p.onerror||function(e){return null},s=pt(e,p.url,g.serverId),c="function"==typeof p.headers?p.headers(t):Object.assign({},p.headers,{"Content-Type":"application/offset+octet-stream","Upload-Offset":t.offset,"Upload-Length":i.size,"Upload-Name":i.name}),u=t.request=ct(n(t.data),s,Object.assign({},p,{headers:c}));u.onload=function(){t.status=gt,t.request=null,C()},u.onprogress=function(e,n,i){t.progress=e?n:null,S()},u.onerror=function(e){t.status=Et,t.request=null,t.error=r(e.response)||e.statusText,A(t)||a(ut("error",e.status,r(e.response)||e.statusText,e.getAllResponseHeaders()))},u.ontimeout=function(e){t.status=Et,t.request=null,A(t)||dt(a)(e)},u.onabort=function(){t.status=mt,t.request=null,l()}}else d.every((function(e){return e.status===gt}))&&o(g.serverId)},A=function(e){return 0!==e.retries.length&&(e.status=yt,clearTimeout(e.timeout),e.timeout=setTimeout((function(){D(e)}),e.retries.shift()),!0)},S=function(){var e=d.reduce((function(e,t){return null===e||null===t.progress?null:e+t.progress}),0);if(null===e)return s(!1,0,0);var t=d.reduce((function(e,t){return e+t.size}),0);s(!0,e,t)},C=function(){d.filter((function(e){return e.status===vt})).length>=1||D()};return g.serverId?(w=function(e){g.aborted||(d.filter((function(t){return t.offset<e})).forEach((function(e){e.status=gt,e.progress=e.size})),C())},R=pt(e,p.url,g.serverId),O={headers:"function"==typeof t.headers?t.headers(g.serverId):Object.assign({},t.headers),method:"HEAD"},(x=ct(null,R,O)).onload=function(e){return w(E(e,O.method))},x.onerror=function(e){return a(ut("error",e.status,y(e.response)||e.statusText,e.getAllResponseHeaders()))},x.ontimeout=dt(a)):function(o){var s=new FormData;Z(r)&&s.append(n,JSON.stringify(r));var l="function"==typeof t.headers?t.headers(i,r):Object.assign({},t.headers,{"Upload-Length":i.size}),c=Object.assign({},t,{headers:l}),u=ct(v(s),pt(e,t.url),c);u.onload=function(e){return o(E(e,c.method))},u.onerror=function(e){return a(ut("error",e.status,y(e.response)||e.statusText,e.getAllResponseHeaders()))},u.ontimeout=dt(a)}((function(e){g.aborted||(c(e),g.serverId=e,C())})),{abort:function(){g.aborted=!0,d.forEach((function(e){clearTimeout(e.timeout),e.request&&e.request.abort()}))}}},Tt=function(e,t,n,i){return function(r,o,a,s,l,c,u){if(r){var d=i.chunkUploads,f=d&&r.size>i.chunkSize,p=d&&(f||i.chunkForce);if(r instanceof Blob&&p)return _t(e,t,n,r,o,a,s,l,c,u,i);var h=t.ondata||function(e){return e},m=t.onload||function(e){return e},g=t.onerror||function(e){return null},v=new FormData;Z(o)&&v.append(n,JSON.stringify(o)),(r instanceof Blob?[{name:null,file:r}]:r).forEach((function(e){v.append(n,e.file,null===e.name?e.file.name:""+e.name+e.file.name)}));var E=ct(h(v),pt(e,t.url),t);return E.onload=function(e){a(ut("load",e.status,m(e.response),e.getAllResponseHeaders()))},E.onerror=function(e){s(ut("error",e.status,g(e.response)||e.statusText,e.getAllResponseHeaders()))},E.ontimeout=dt(s),E.onprogress=l,E.onabort=c,E}}},bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if("function"==typeof t)return t;if(!t||!z(t.url))return function(e,t){return t()};var n=t.onload||function(e){return e},i=t.onerror||function(e){return null};return function(r,o,a){var s=ct(r,e+t.url,t);return s.onload=function(e){o(ut("load",e.status,n(e.response),e.getAllResponseHeaders()))},s.onerror=function(e){a(ut("error",e.status,i(e.response)||e.statusText,e.getAllResponseHeaders()))},s.ontimeout=dt(a),s}},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e+Math.random()*(t-e)},wt=function(e){var t={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},n=function(){t.request&&(t.perceivedPerformanceUpdater.clear(),t.request.abort&&t.request.abort(),t.complete=!0)},i=Object.assign({},ye(),{process:function(n,r){var o=function(){0!==t.duration&&null!==t.progress&&i.fire("progress",i.getProgress())},a=function(){t.complete=!0,i.fire("load-perceived",t.response.body)};i.fire("start"),t.timestamp=Date.now(),t.perceivedPerformanceUpdater=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,r=null,o=Date.now();return function a(){var s=Date.now()-o,l=It(n,i);s+l>t&&(l=s+l-t);var c=s/t;c>=1||document.hidden?e(1):(e(c),r=setTimeout(a,l))}(),{clear:function(){clearTimeout(r)}}}((function(e){t.perceivedProgress=e,t.perceivedDuration=Date.now()-t.timestamp,o(),t.response&&1===t.perceivedProgress&&!t.complete&&a()}),It(750,1500)),t.request=e(n,r,(function(e){t.response=Z(e)?e:{type:"load",code:200,body:""+e,headers:{}},t.duration=Date.now()-t.timestamp,t.progress=1,i.fire("load",t.response.body),1===t.perceivedProgress&&a()}),(function(e){t.perceivedPerformanceUpdater.clear(),i.fire("error",Z(e)?e:{type:"error",code:0,body:""+e})}),(function(e,n,i){t.duration=Date.now()-t.timestamp,t.progress=e?n/i:null,o()}),(function(){t.perceivedPerformanceUpdater.clear(),i.fire("abort",t.response?t.response.body:null)}),(function(e){i.fire("transfer",e)}))},abort:n,getProgress:function(){return t.progress?Math.min(t.progress,t.perceivedProgress):null},getDuration:function(){return Math.min(t.duration,t.perceivedDuration)},reset:function(){n(),t.complete=!1,t.perceivedProgress=0,t.progress=0,t.timestamp=null,t.perceivedDuration=0,t.duration=0,t.request=null,t.response=null}});return i},Rt=function(e){return e.substr(0,e.lastIndexOf("."))||e},Ot=function(e){var t=[e.name,e.size,e.type];return e instanceof Blob||We(e)?t[0]=e.name||$e():We(e)?(t[1]=e.length,t[2]=tt(e)):z(e)&&(t[0]=Xe(e),t[1]=0,t[2]="application/octet-stream"),{name:t[0],size:t[1],type:t[2]}},xt=function(e){return!!(e instanceof File||e instanceof Blob&&e.name)},Mt=function e(t){if(!Z(t))return t;var n=N(t)?[]:{};for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];n[i]=r&&Z(r)?e(r):r}return n},Dt=function(e,t){var n=function(e,t){return G(t)?0:z(t)?e.findIndex((function(e){return e.id===t})):-1}(e,t);if(!(n<0))return e[n]||null},At=function(e,t,n,i,r,o){var a=ct(null,e,{method:"GET",responseType:"blob"});return a.onload=function(n){var i=n.getAllResponseHeaders(),r=at(i).name||Xe(e);t(ut("load",n.status,Je(n.response,r),i))},a.onerror=function(e){n(ut("error",e.status,e.statusText,e.getAllResponseHeaders()))},a.onheaders=function(e){o(ut("headers",e.status,null,e.getAllResponseHeaders()))},a.ontimeout=dt(n),a.onprogress=i,a.onabort=r,a},St=function(e){return 0===e.indexOf("//")&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]},Ct=function(e){return function(){return W(e)?e.apply(void 0,arguments):e}},Lt=function(e,t){clearTimeout(t.listUpdateTimeout),t.listUpdateTimeout=setTimeout((function(){e("DID_UPDATE_ITEMS",{items:ke(t.items)})}),0)},Pt=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return new Promise((function(t){if(!e)return t(!0);var i=e.apply(void 0,n);return null==i?t(!0):"boolean"==typeof i?t(i):void("function"==typeof i.then&&i.then(t))}))},Nt=function(e,t){e.items.sort((function(e,n){return t(be(e),be(n))}))},Gt=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.query,r=n.success,o=void 0===r?function(){}:r,a=n.failure,s=void 0===a?function(){}:a,l=he(n,["query","success","failure"]),c=Ne(e.items,i);c?t(c,o,s,l||{}):s({error:ut("error",0,"Item not found"),file:null})}},kt=function(e,t,n){return{ABORT_ALL:function(){ke(n.items).forEach((function(e){e.freeze(),e.abortLoad(),e.abortProcessing()}))},DID_SET_FILES:function(t){var i=t.value,r=(void 0===i?[]:i).map((function(e){return{source:e.source?e.source:e,options:e.options}})),o=ke(n.items);o.forEach((function(t){r.find((function(e){return e.source===t.source||e.source===t.file}))||e("REMOVE_ITEM",{query:t,remove:!1})})),o=ke(n.items),r.forEach((function(t,n){o.find((function(e){return e.source===t.source||e.file===t.source}))||e("ADD_ITEM",Object.assign({},t,{interactionMethod:ue,index:n}))}))},DID_UPDATE_ITEM_METADATA:function(i){var r=i.id;clearTimeout(n.itemUpdateTimeout),n.itemUpdateTimeout=setTimeout((function(){var i,o=Dt(n.items,r);if(t("IS_ASYNC")){var a=function(){setTimeout((function(){e("REQUEST_ITEM_PROCESSING",{query:r})}),32)};return o.status===we.PROCESSING_COMPLETE?(i=n.options.instantUpload,void o.revert(bt(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(i?a:function(){}).catch((function(){}))):o.status===we.PROCESSING?function(e){o.abortProcessing().then(e?a:function(){})}(n.options.instantUpload):void(n.options.instantUpload&&a())}Ae("SHOULD_PREPARE_OUTPUT",!1,{item:o,query:t}).then((function(t){t&&e("REQUEST_PREPARE_OUTPUT",{query:r,item:o,success:function(t){e("DID_PREPARE_OUTPUT",{id:r,file:t})}},!0)}))}),0)},MOVE_ITEM:function(e){var t=e.query,i=e.index,r=Ne(n.items,t);if(r){var o=n.items.indexOf(r);o!==(i=Ye(i,0,n.items.length-1))&&n.items.splice(i,0,n.items.splice(o,1)[0])}},SORT:function(i){var r=i.compare;Nt(n,r),e("DID_SORT_ITEMS",{items:t("GET_ACTIVE_ITEMS")})},ADD_ITEMS:function(n){var i=n.items,r=n.index,o=n.interactionMethod,a=n.success,s=void 0===a?function(){}:a,l=n.failure,c=void 0===l?function(){}:l,u=r;if(-1===r||void 0===r){var d=t("GET_ITEM_INSERT_LOCATION"),f=t("GET_TOTAL_ITEMS");u="before"===d?0:f}var p=t("GET_IGNORED_FILES"),h=i.filter((function(e){return xt(e)?!p.includes(e.name.toLowerCase()):!G(e)})).map((function(t){return new Promise((function(n,i){e("ADD_ITEM",{interactionMethod:o,source:t.source||t,success:n,failure:i,index:u++,options:t.options||{}})}))}));Promise.all(h).then(s).catch(c)},ADD_ITEM:function(i){var o=i.source,a=i.index,s=void 0===a?-1:a,l=i.interactionMethod,c=i.success,u=void 0===c?function(){}:c,d=i.failure,f=void 0===d?function(){}:d,p=i.options,h=void 0===p?{}:p;if(G(o))f({error:ut("error",0,"No source"),file:null});else if(!xt(o)||!n.options.ignoredFiles.includes(o.name.toLowerCase())){if(!function(e){var t=ke(e.items).length;if(!e.options.allowMultiple)return 0===t;var n=e.options.maxFiles;return null===n||t<n}(n)){if(n.options.allowMultiple||!n.options.allowMultiple&&!n.options.allowReplace){var m=ut("warning",0,"Max files");return e("DID_THROW_MAX_FILES",{source:o,error:m}),void f({error:m,file:null})}var g=ke(n.items)[0];if(g.status===we.PROCESSING_COMPLETE||g.status===we.PROCESSING_REVERT_ERROR){var v=t("GET_FORCE_REVERT");if(g.revert(bt(n.options.server.url,n.options.server.revert),v).then((function(){v&&e("ADD_ITEM",{source:o,index:s,interactionMethod:l,success:u,failure:f,options:h})})).catch((function(){})),v)return}e("REMOVE_ITEM",{query:g.id})}var E="local"===h.type?Re.LOCAL:"limbo"===h.type?Re.LIMBO:Re.INPUT,y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=de(),o={archived:!1,frozen:!1,released:!1,source:null,file:n,serverFileReference:t,transferId:null,processingAborted:!1,status:t?we.PROCESSING_COMPLETE:we.INIT,activeLoader:null,activeProcessor:null},a=null,s={},l=function(e){return o.status=e},c=function(e){if(!o.released&&!o.frozen){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];I.fire.apply(I,[e].concat(n))}},u=function(){return Qe(o.file.name)},d=function(){return o.file.type},f=function(){return o.file.size},p=function(){return o.file},h=function(t,n,i){o.source=t,I.fireSync("init"),o.file?I.fireSync("load-skip"):(o.file=Ot(t),n.on("init",(function(){c("load-init")})),n.on("meta",(function(t){o.file.size=t.size,o.file.filename=t.filename,t.source&&(e=Re.LIMBO,o.serverFileReference=t.source,o.status=we.PROCESSING_COMPLETE),c("load-meta")})),n.on("progress",(function(e){l(we.LOADING),c("load-progress",e)})),n.on("error",(function(e){l(we.LOAD_ERROR),c("load-request-error",e)})),n.on("abort",(function(){l(we.INIT),c("load-abort")})),n.on("load",(function(t){o.activeLoader=null;var n=function(t){o.file=xt(t)?t:o.file,e===Re.LIMBO&&o.serverFileReference?l(we.PROCESSING_COMPLETE):l(we.IDLE),c("load")};o.serverFileReference?n(t):i(t,n,(function(e){o.file=t,c("load-meta"),l(we.LOAD_ERROR),c("load-file-error",e)}))})),n.setSource(t),o.activeLoader=n,n.load())},m=function(){o.activeLoader&&o.activeLoader.load()},g=function(){o.activeLoader?o.activeLoader.abort():(l(we.INIT),c("load-abort"))},v=function e(t,n){if(o.processingAborted)o.processingAborted=!1;else if(l(we.PROCESSING),a=null,o.file instanceof Blob){t.on("load",(function(e){o.transferId=null,o.serverFileReference=e})),t.on("transfer",(function(e){o.transferId=e})),t.on("load-perceived",(function(e){o.activeProcessor=null,o.transferId=null,o.serverFileReference=e,l(we.PROCESSING_COMPLETE),c("process-complete",e)})),t.on("start",(function(){c("process-start")})),t.on("error",(function(e){o.activeProcessor=null,l(we.PROCESSING_ERROR),c("process-error",e)})),t.on("abort",(function(e){o.activeProcessor=null,o.transferId=null,o.serverFileReference=e,l(we.IDLE),c("process-abort"),a&&a()})),t.on("progress",(function(e){c("process-progress",e)}));var i=console.error;n(o.file,(function(e){o.archived||t.process(e,Object.assign({},s))}),i),o.activeProcessor=t}else I.on("load",(function(){e(t,n)}))},E=function(){o.processingAborted=!1,l(we.PROCESSING_QUEUED)},y=function(){return new Promise((function(e){if(!o.activeProcessor)return o.processingAborted=!0,l(we.IDLE),c("process-abort"),void e();a=function(){e()},o.activeProcessor.abort()}))},_=function(e,t){return new Promise((function(n,i){null!==o.serverFileReference?(e(o.serverFileReference,(function(){o.serverFileReference=null,n()}),(function(e){t?(l(we.PROCESSING_REVERT_ERROR),c("process-revert-error"),i(e)):n()})),l(we.IDLE),c("process-revert")):n()}))},T=function(e,t,n){var i=e.split("."),r=i[0],o=i.pop(),a=s;i.forEach((function(e){return a=a[e]})),JSON.stringify(a[o])!==JSON.stringify(t)&&(a[o]=t,n||c("metadata-update",{key:r,value:s[r]}))},b=function(e){return Mt(e?s[e]:s)},I=Object.assign({id:{get:function(){return i}},origin:{get:function(){return e}},serverId:{get:function(){return o.serverFileReference}},transferId:{get:function(){return o.transferId}},status:{get:function(){return o.status}},filename:{get:function(){return o.file.name}},filenameWithoutExtension:{get:function(){return Rt(o.file.name)}},fileExtension:{get:u},fileType:{get:d},fileSize:{get:f},file:{get:p},relativePath:{get:function(){return o.file._relativePath}},source:{get:function(){return o.source}},getMetadata:b,setMetadata:function(e,t,n){if(Z(e)){var i=e;return Object.keys(i).forEach((function(e){T(e,i[e],t)})),e}return T(e,t,n),t},extend:function(e,t){return w[e]=t},abortLoad:g,retryLoad:m,requestProcessing:E,abortProcessing:y,load:h,process:v,revert:_},ye(),{freeze:function(){return o.frozen=!0},release:function(){return o.released=!0},released:{get:function(){return o.released}},archive:function(){return o.archived=!0},archived:{get:function(){return o.archived}}}),w=r(I);return w}(E,E===Re.INPUT?null:o,h.file);Object.keys(h.metadata||{}).forEach((function(e){y.setMetadata(e,h.metadata[e])})),Se("DID_CREATE_ITEM",y,{query:t,dispatch:e});var _=t("GET_ITEM_INSERT_LOCATION");n.options.itemInsertLocationFreedom||(s="before"===_?-1:n.items.length),function(e,t,n){G(t)||(void 0===n?e.push(t):function(e,t,n){e.splice(t,0,n)}(e,n=Ye(n,0,e.length),t))}(n.items,y,s),W(_)&&o&&Nt(n,_);var T=y.id;y.on("init",(function(){e("DID_INIT_ITEM",{id:T})})),y.on("load-init",(function(){e("DID_START_ITEM_LOAD",{id:T})})),y.on("load-meta",(function(){e("DID_UPDATE_ITEM_META",{id:T})})),y.on("load-progress",(function(t){e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:T,progress:t})})),y.on("load-request-error",(function(t){var i=Ct(n.options.labelFileLoadError)(t);if(t.code>=400&&t.code<500)return e("DID_THROW_ITEM_INVALID",{id:T,error:t,status:{main:i,sub:t.code+" ("+t.body+")"}}),void f({error:t,file:be(y)});e("DID_THROW_ITEM_LOAD_ERROR",{id:T,error:t,status:{main:i,sub:n.options.labelTapToRetry}})})),y.on("load-file-error",(function(t){e("DID_THROW_ITEM_INVALID",{id:T,error:t.status,status:t.status}),f({error:t.status,file:be(y)})})),y.on("load-abort",(function(){e("REMOVE_ITEM",{query:T})})),y.on("load-skip",(function(){e("COMPLETE_LOAD_ITEM",{query:T,item:y,data:{source:o,success:u}})})),y.on("load",(function(){var i=function(i){i?(y.on("metadata-update",(function(t){e("DID_UPDATE_ITEM_METADATA",{id:T,change:t})})),Ae("SHOULD_PREPARE_OUTPUT",!1,{item:y,query:t}).then((function(t){var i=function(){e("COMPLETE_LOAD_ITEM",{query:T,item:y,data:{source:o,success:u}}),Lt(e,n)};t?e("REQUEST_PREPARE_OUTPUT",{query:T,item:y,success:function(t){e("DID_PREPARE_OUTPUT",{id:T,file:t}),i()}},!0):i()}))):e("REMOVE_ITEM",{query:T})};Ae("DID_LOAD_ITEM",y,{query:t,dispatch:e}).then((function(){Pt(t("GET_BEFORE_ADD_FILE"),be(y)).then(i)})).catch((function(){i(!1)}))})),y.on("process-start",(function(){e("DID_START_ITEM_PROCESSING",{id:T})})),y.on("process-progress",(function(t){e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:T,progress:t})})),y.on("process-error",(function(t){e("DID_THROW_ITEM_PROCESSING_ERROR",{id:T,error:t,status:{main:Ct(n.options.labelFileProcessingError)(t),sub:n.options.labelTapToRetry}})})),y.on("process-revert-error",(function(t){e("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:T,error:t,status:{main:Ct(n.options.labelFileProcessingRevertError)(t),sub:n.options.labelTapToRetry}})})),y.on("process-complete",(function(t){e("DID_COMPLETE_ITEM_PROCESSING",{id:T,error:null,serverFileReference:t}),e("DID_DEFINE_VALUE",{id:T,value:t})})),y.on("process-abort",(function(){e("DID_ABORT_ITEM_PROCESSING",{id:T})})),y.on("process-revert",(function(){e("DID_REVERT_ITEM_PROCESSING",{id:T}),e("DID_DEFINE_VALUE",{id:T,value:null})})),e("DID_ADD_ITEM",{id:T,index:s,interactionMethod:l}),Lt(e,n);var b=n.options.server||{},I=b.url,w=b.load,R=b.restore,O=b.fetch;y.load(o,st(E===Re.INPUT?z(o)&&function(e){return(e.indexOf(":")>-1||e.indexOf("//")>-1)&&St(location.href)!==St(e)}(o)&&O?ht(I,O):At:ht(I,E===Re.LIMBO?R:w)),(function(e,n,i){Ae("LOAD_FILE",e,{query:t}).then(n).catch(i)}))}},REQUEST_PREPARE_OUTPUT:function(e){var n=e.item,i=e.success,r=e.failure,o=void 0===r?function(){}:r,a={error:ut("error",0,"Item not found"),file:null};if(n.archived)return o(a);Ae("PREPARE_OUTPUT",n.file,{query:t,item:n}).then((function(e){Ae("COMPLETE_PREPARE_OUTPUT",e,{query:t,item:n}).then((function(e){if(n.archived)return o(a);i(e)}))}))},COMPLETE_LOAD_ITEM:function(i){var r=i.item,o=i.data,a=o.success,s=o.source,l=t("GET_ITEM_INSERT_LOCATION");if(W(l)&&s&&Nt(n,l),e("DID_LOAD_ITEM",{id:r.id,error:null,serverFileReference:r.origin===Re.INPUT?null:s}),a(be(r)),r.origin!==Re.LOCAL)return r.origin===Re.LIMBO?(e("DID_COMPLETE_ITEM_PROCESSING",{id:r.id,error:null,serverFileReference:s}),void e("DID_DEFINE_VALUE",{id:r.id,value:s})):void(t("IS_ASYNC")&&n.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:r.id}));e("DID_LOAD_LOCAL_ITEM",{id:r.id})},RETRY_ITEM_LOAD:Gt(n,(function(e){e.retryLoad()})),REQUEST_ITEM_PREPARE:Gt(n,(function(t,n,i){e("REQUEST_PREPARE_OUTPUT",{query:t.id,item:t,success:function(i){e("DID_PREPARE_OUTPUT",{id:t.id,file:i}),n({file:t,output:i})},failure:i},!0)})),REQUEST_ITEM_PROCESSING:Gt(n,(function(i,r,o){if(i.status===we.IDLE||i.status===we.PROCESSING_ERROR)i.status!==we.PROCESSING_QUEUED&&(i.requestProcessing(),e("DID_REQUEST_ITEM_PROCESSING",{id:i.id}),e("PROCESS_ITEM",{query:i,success:r,failure:o},!0));else{var a=function(){return e("REQUEST_ITEM_PROCESSING",{query:i,success:r,failure:o})},s=function(){return document.hidden?a():setTimeout(a,32)};i.status===we.PROCESSING_COMPLETE||i.status===we.PROCESSING_REVERT_ERROR?i.revert(bt(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(s).catch((function(){})):i.status===we.PROCESSING&&i.abortProcessing().then(s)}})),PROCESS_ITEM:Gt(n,(function(i,r,o){var a=t("GET_MAX_PARALLEL_UPLOADS");if(t("GET_ITEMS_BY_STATUS",we.PROCESSING).length!==a){if(i.status!==we.PROCESSING){var s=function t(){var i=n.processingQueue.shift();if(i){var r=i.id,o=i.success,a=i.failure,s=Ne(n.items,r);s&&!s.archived?e("PROCESS_ITEM",{query:r,success:o,failure:a},!0):t()}};i.onOnce("process-complete",(function(){r(be(i)),s(),t("GET_ITEMS_BY_STATUS",we.PROCESSING_COMPLETE).length===n.items.length&&e("DID_COMPLETE_ITEM_PROCESSING_ALL")})),i.onOnce("process-error",(function(e){o({error:e,file:be(i)}),s()}));var l=n.options;i.process(wt(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return"function"==typeof t?function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.apply(void 0,[n].concat(r,[i]))}:t&&z(t.url)?Tt(e,t,n,i):null}(l.server.url,l.server.process,l.name,{chunkTransferId:i.transferId,chunkServer:l.server.patch,chunkUploads:l.chunkUploads,chunkForce:l.chunkForce,chunkSize:l.chunkSize,chunkRetryDelays:l.chunkRetryDelays})),(function(n,r,o){Ae("PREPARE_OUTPUT",n,{query:t,item:i}).then((function(t){e("DID_PREPARE_OUTPUT",{id:i.id,file:t}),r(t)})).catch(o)}))}}else n.processingQueue.push({id:i.id,success:r,failure:o})})),RETRY_ITEM_PROCESSING:Gt(n,(function(t){e("REQUEST_ITEM_PROCESSING",{query:t})})),REQUEST_REMOVE_ITEM:Gt(n,(function(n){Pt(t("GET_BEFORE_REMOVE_FILE"),be(n)).then((function(t){t&&e("REMOVE_ITEM",{query:n})}))})),RELEASE_ITEM:Gt(n,(function(e){e.release()})),REMOVE_ITEM:Gt(n,(function(i,r,o,a){var s=function(){var t=i.id;Dt(n.items,t).archive(),e("DID_REMOVE_ITEM",{error:null,id:t,item:i}),Lt(e,n),r(be(i))},l=n.options.server;i.origin===Re.LOCAL&&l&&W(l.remove)&&!1!==a.remove?(e("DID_START_ITEM_REMOVE",{id:i.id}),l.remove(i.source,(function(){return s()}),(function(t){e("DID_THROW_ITEM_REMOVE_ERROR",{id:i.id,error:ut("error",0,t,null),status:{main:Ct(n.options.labelFileRemoveError)(t),sub:n.options.labelTapToRetry}})}))):(a.revert&&i.origin!==Re.LOCAL&&null!==i.serverId&&i.revert(bt(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")),s())})),ABORT_ITEM_LOAD:Gt(n,(function(e){e.abortLoad()})),ABORT_ITEM_PROCESSING:Gt(n,(function(t){t.serverId?e("REVERT_ITEM_PROCESSING",{id:t.id}):t.abortProcessing().then((function(){n.options.instantUpload&&e("REMOVE_ITEM",{query:t.id})}))})),REQUEST_REVERT_ITEM_PROCESSING:Gt(n,(function(i){if(n.options.instantUpload){var r=function(t){t&&e("REVERT_ITEM_PROCESSING",{query:i})},o=t("GET_BEFORE_REMOVE_FILE");if(!o)return r(!0);var a=o(be(i));return null==a?r(!0):"boolean"==typeof a?r(a):void("function"==typeof a.then&&a.then(r))}e("REVERT_ITEM_PROCESSING",{query:i})})),REVERT_ITEM_PROCESSING:Gt(n,(function(i){i.revert(bt(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then((function(){(n.options.instantUpload||function(e){return!xt(e.file)}(i))&&e("REMOVE_ITEM",{query:i.id})})).catch((function(){}))})),SET_OPTIONS:function(t){var n=t.options;i(n,(function(t,n){e("SET_"+ne(t,"_").toUpperCase(),{value:n})}))}}},Bt=function(e){return document.createElement(e)},Ut=function(e,t){var n=e.childNodes[0];n?t!==n.nodeValue&&(n.nodeValue=t):(n=document.createTextNode(t),e.appendChild(n))},Ft=function(e,t,n,i){var r=(i%360-90)*Math.PI/180;return{x:e+n*Math.cos(r),y:t+n*Math.sin(r)}},zt=function(e,t,n,i,r){var o=1;return r>i&&r-i<=.5&&(o=0),i>r&&i-r>=.5&&(o=0),function(e,t,n,i,r,o){var a=Ft(e,t,n,r),s=Ft(e,t,n,i);return["M",a.x,a.y,"A",n,n,0,o,0,s.x,s.y].join(" ")}(e,t,n,360*Math.min(.9999,i),360*Math.min(.9999,r),o)},Vt=S({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:function(e){var t=e.root,n=e.props;n.spin=!1,n.progress=0,n.opacity=0;var i=c("svg");t.ref.path=c("path",{"stroke-width":2,"stroke-linecap":"round"}),i.appendChild(t.ref.path),t.ref.svg=i,t.appendChild(i)},write:function(e){var t=e.root,n=e.props;if(0!==n.opacity){n.align&&(t.element.dataset.align=n.align);var i=parseInt(o(t.ref.path,"stroke-width"),10),r=.5*t.rect.element.width,a=0,s=0;n.spin?(a=0,s=.5):(a=0,s=n.progress);var l=zt(r,r,r-i,a,s);o(t.ref.path,"d",l),o(t.ref.path,"stroke-opacity",n.spin||n.progress>0?1:0)}},mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),qt=S({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:function(e){var t=e.root,n=e.props;t.element.innerHTML=(n.icon||"")+"<span>"+n.label+"</span>",n.isDisabled=!1},write:function(e){var t=e.root,n=e.props,i=n.isDisabled,r=t.query("GET_DISABLED")||0===n.opacity;r&&!i?(n.isDisabled=!0,o(t.element,"disabled","disabled")):!r&&i&&(n.isDisabled=!1,t.element.removeAttribute("disabled"))}}),Ht=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=n,r=n*n,o=n*n*n;return(e=Math.round(Math.abs(e)))<i?e+" bytes":e<r?Math.floor(e/i)+" KB":e<o?jt(e/r,1,t)+" MB":jt(e/o,2,t)+" GB"},jt=function(e,t,n){return e.toFixed(t).split(".").filter((function(e){return"0"!==e})).join(n)},Yt=function(e){var t=e.root,n=e.props;Ut(t.ref.fileSize,Ht(t.query("GET_ITEM_SIZE",n.id),".",t.query("GET_FILE_SIZE_BASE"))),Ut(t.ref.fileName,t.query("GET_ITEM_NAME",n.id))},Wt=function(e){var t=e.root,n=e.props;j(t.query("GET_ITEM_SIZE",n.id))||Ut(t.ref.fileSize,t.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},Xt=S({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:C({DID_LOAD_ITEM:Yt,DID_UPDATE_ITEM_META:Yt,DID_THROW_ITEM_LOAD_ERROR:Wt,DID_THROW_ITEM_INVALID:Wt}),didCreateView:function(e){Se("CREATE_VIEW",Object.assign({},e,{view:e}))},create:function(e){var t=e.root,n=e.props,i=Bt("span");i.className="filepond--file-info-main",o(i,"aria-hidden","true"),t.appendChild(i),t.ref.fileName=i;var r=Bt("span");r.className="filepond--file-info-sub",t.appendChild(r),t.ref.fileSize=r,Ut(r,t.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),Ut(i,t.query("GET_ITEM_NAME",n.id))},mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),Qt=function(e){return Math.round(100*e)},Zt=function(e){var t=e.root,n=e.action,i=null===n.progress?t.query("GET_LABEL_FILE_LOADING"):t.query("GET_LABEL_FILE_LOADING")+" "+Qt(n.progress)+"%";Ut(t.ref.main,i),Ut(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},Kt=function(e){var t=e.root;Ut(t.ref.main,""),Ut(t.ref.sub,"")},$t=function(e){var t=e.root,n=e.action;Ut(t.ref.main,n.status.main),Ut(t.ref.sub,n.status.sub)},Jt=S({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:C({DID_LOAD_ITEM:Kt,DID_REVERT_ITEM_PROCESSING:Kt,DID_REQUEST_ITEM_PROCESSING:function(e){var t=e.root;Ut(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING")),Ut(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},DID_ABORT_ITEM_PROCESSING:function(e){var t=e.root;Ut(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_ABORTED")),Ut(t.ref.sub,t.query("GET_LABEL_TAP_TO_RETRY"))},DID_COMPLETE_ITEM_PROCESSING:function(e){var t=e.root;Ut(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),Ut(t.ref.sub,t.query("GET_LABEL_TAP_TO_UNDO"))},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(e){var t=e.root,n=e.action,i=null===n.progress?t.query("GET_LABEL_FILE_PROCESSING"):t.query("GET_LABEL_FILE_PROCESSING")+" "+Qt(n.progress)+"%";Ut(t.ref.main,i),Ut(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},DID_UPDATE_ITEM_LOAD_PROGRESS:Zt,DID_THROW_ITEM_LOAD_ERROR:$t,DID_THROW_ITEM_INVALID:$t,DID_THROW_ITEM_PROCESSING_ERROR:$t,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:$t,DID_THROW_ITEM_REMOVE_ERROR:$t}),didCreateView:function(e){Se("CREATE_VIEW",Object.assign({},e,{view:e}))},create:function(e){var t=e.root,n=Bt("span");n.className="filepond--file-status-main",t.appendChild(n),t.ref.main=n;var i=Bt("span");i.className="filepond--file-status-sub",t.appendChild(i),t.ref.sub=i,Zt({root:t,action:{progress:null}})},mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),en={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},tn=[];i(en,(function(e){tn.push(e)}));var nn,rn=function(e){var t=e.ref.buttonRemoveItem.rect.element;return t.hidden?null:t.width+t.left},on=function(e){return e.ref.buttonAbortItemLoad.rect.element.width},an=function(e){return Math.floor(e.ref.buttonRemoveItem.rect.element.height/4)},sn=function(e){return Math.floor(e.ref.buttonRemoveItem.rect.element.left/2)},ln=function(e){return e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION")},cn={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:function(e){return e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}},processProgressIndicator:{opacity:0,align:function(e){return e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},un={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:rn},status:{translateX:rn}},dn={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},fn={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:rn},status:{translateX:rn,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:rn},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:ln},info:{translateX:rn},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:ln},buttonRemoveItem:{opacity:1},info:{translateX:rn},status:{opacity:1,translateX:rn}},DID_LOAD_ITEM:un,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:rn},status:{translateX:rn}},DID_START_ITEM_PROCESSING:dn,DID_REQUEST_ITEM_PROCESSING:dn,DID_UPDATE_ITEM_PROCESS_PROGRESS:dn,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:rn}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:rn},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:un},pn=S({create:function(e){var t=e.root;t.element.innerHTML=t.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),hn=C({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:function(e){var t=e.root,n=e.action;t.ref.buttonAbortItemProcessing.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:function(e){var t=e.root,n=e.action;t.ref.buttonAbortItemLoad.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:function(e){var t=e.root,n=e.action;t.ref.buttonAbortItemRemoval.label=n.value},DID_REQUEST_ITEM_PROCESSING:function(e){var t=e.root;t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:function(e){var t=e.root;t.ref.loadProgressIndicator.spin=!0,t.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:function(e){var t=e.root;t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:function(e){var t=e.root,n=e.action;t.ref.loadProgressIndicator.spin=!1,t.ref.loadProgressIndicator.progress=n.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(e){var t=e.root,n=e.action;t.ref.processProgressIndicator.spin=!1,t.ref.processProgressIndicator.progress=n.progress}}),mn=S({create:function(e){var t,n=e.root,r=e.props.id,o=n.query("GET_ALLOW_REVERT"),a=n.query("GET_ALLOW_REMOVE"),s=n.query("GET_ALLOW_PROCESS"),l=n.query("GET_INSTANT_UPLOAD"),c=n.query("IS_ASYNC"),u=n.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");c?s&&!o?t=function(e){return!/RevertItemProcessing/.test(e)}:!s&&o?t=function(e){return!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(e)}:s||o||(t=function(e){return!/Process/.test(e)}):t=function(e){return!/Process/.test(e)};var d=t?tn.filter(t):tn.concat();if(l&&o&&(en.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",en.RevertItemProcessing.icon="GET_ICON_REMOVE"),c&&!o){var f=fn.DID_COMPLETE_ITEM_PROCESSING;f.info.translateX=sn,f.info.translateY=an,f.status.translateY=an,f.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(c&&!s&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach((function(e){fn[e].status.translateY=an})),fn.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=on),u&&o){en.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";var p=fn.DID_COMPLETE_ITEM_PROCESSING;p.info.translateX=rn,p.status.translateY=an,p.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}a||(en.RemoveItem.disabled=!0),i(en,(function(e,t){var i=n.createChildView(qt,{label:n.query(t.label),icon:n.query(t.icon),opacity:0});d.includes(e)&&n.appendChildView(i),t.disabled&&(i.element.setAttribute("disabled","disabled"),i.element.setAttribute("hidden","hidden")),i.element.dataset.align=n.query("GET_STYLE_"+t.align),i.element.classList.add(t.className),i.on("click",(function(e){e.stopPropagation(),t.disabled||n.dispatch(t.action,{query:r})})),n.ref["button"+e]=i})),n.ref.processingCompleteIndicator=n.appendChildView(n.createChildView(pn)),n.ref.processingCompleteIndicator.element.dataset.align=n.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),n.ref.info=n.appendChildView(n.createChildView(Xt,{id:r})),n.ref.status=n.appendChildView(n.createChildView(Jt,{id:r}));var h=n.appendChildView(n.createChildView(Vt,{opacity:0,align:n.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));h.element.classList.add("filepond--load-indicator"),n.ref.loadProgressIndicator=h;var m=n.appendChildView(n.createChildView(Vt,{opacity:0,align:n.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));m.element.classList.add("filepond--process-indicator"),n.ref.processProgressIndicator=m,n.ref.activeStyles=[]},write:function(e){var t=e.root,n=e.actions,r=e.props;hn({root:t,actions:n,props:r});var o=n.concat().filter((function(e){return/^DID_/.test(e.type)})).reverse().find((function(e){return fn[e.type]}));if(o){t.ref.activeStyles=[];var a=fn[o.type];i(cn,(function(e,n){var r=t.ref[e];i(n,(function(n,i){var o=a[e]&&void 0!==a[e][n]?a[e][n]:i;t.ref.activeStyles.push({control:r,key:n,value:o})}))}))}t.ref.activeStyles.forEach((function(e){var n=e.control,i=e.key,r=e.value;n[i]="function"==typeof r?r(t):r}))},didCreateView:function(e){Se("CREATE_VIEW",Object.assign({},e,{view:e}))},name:"file"}),gn=S({create:function(e){var t=e.root,n=e.props;t.ref.fileName=Bt("legend"),t.appendChild(t.ref.fileName),t.ref.file=t.appendChildView(t.createChildView(mn,{id:n.id})),t.ref.data=!1},ignoreRect:!0,write:C({DID_LOAD_ITEM:function(e){var t=e.root,n=e.props;Ut(t.ref.fileName,t.query("GET_ITEM_NAME",n.id))}}),didCreateView:function(e){Se("CREATE_VIEW",Object.assign({},e,{view:e}))},tag:"fieldset",name:"file-wrapper"}),vn={type:"spring",damping:.6,mass:7},En=function(e,t,n){var i=S({name:"panel-"+t.name+" filepond--"+n,mixins:t.mixins,ignoreRectUpdate:!0}),r=e.createChildView(i,t.props);e.ref[t.name]=e.appendChildView(r)},yn=S({name:"panel",read:function(e){var t=e.root;return e.props.heightCurrent=t.ref.bottom.translateY},write:function(e){var t=e.root,n=e.props;if(null!==t.ref.scalable&&n.scalable===t.ref.scalable||(t.ref.scalable=!U(n.scalable)||n.scalable,t.element.dataset.scalable=t.ref.scalable),n.height){var i=t.ref.top.rect.element,r=t.ref.bottom.rect.element,o=Math.max(i.height+r.height,n.height);t.ref.center.translateY=i.height,t.ref.center.scaleY=(o-i.height-r.height)/100,t.ref.bottom.translateY=o-r.height}},create:function(e){var t=e.root,n=e.props;[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:vn},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:vn},styles:["translateY"]}}].forEach((function(e){En(t,e,n.name)})),t.element.classList.add("filepond--"+n.name),t.ref.scalable=null},ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),_n={type:"spring",stiffness:.75,damping:.45,mass:10},Tn="spring",bn={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},In=C({DID_UPDATE_PANEL_HEIGHT:function(e){var t=e.root,n=e.action;t.height=n.height}}),wn=C({DID_GRAB_ITEM:function(e){var t=e.root;e.props.dragOrigin={x:t.translateX,y:t.translateY}},DID_DRAG_ITEM:function(e){e.root.element.dataset.dragState="drag"},DID_DROP_ITEM:function(e){var t=e.root,n=e.props;n.dragOffset=null,n.dragOrigin=null,t.element.dataset.dragState="drop"}},(function(e){var t=e.root,n=e.actions,i=e.props,r=e.shouldOptimize;"drop"===t.element.dataset.dragState&&t.scaleX<=1&&(t.element.dataset.dragState="idle");var o=n.concat().filter((function(e){return/^DID_/.test(e.type)})).reverse().find((function(e){return bn[e.type]}));o&&o.type!==i.currentState&&(i.currentState=o.type,t.element.dataset.filepondItemState=bn[i.currentState]||"");var a=t.query("GET_ITEM_PANEL_ASPECT_RATIO")||t.query("GET_PANEL_ASPECT_RATIO");a?r||(t.height=t.rect.element.width*a):(In({root:t,actions:n,props:i}),!t.height&&t.ref.container.rect.element.height>0&&(t.height=t.ref.container.rect.element.height)),r&&(t.ref.panel.height=null),t.ref.panel.height=t.height})),Rn=S({create:function(e){var t=e.root,n=e.props;if(t.ref.handleClick=function(e){return t.dispatch("DID_ACTIVATE_ITEM",{id:n.id})},t.element.id="filepond--item-"+n.id,t.element.addEventListener("click",t.ref.handleClick),t.ref.container=t.appendChildView(t.createChildView(gn,{id:n.id})),t.ref.panel=t.appendChildView(t.createChildView(yn,{name:"item-panel"})),t.ref.panel.height=null,n.markedForRemoval=!1,t.query("GET_ALLOW_REORDER")){t.element.dataset.dragState="idle";t.element.addEventListener("pointerdown",(function(e){if(e.isPrimary){var i=!1,r={x:e.pageX,y:e.pageY};n.dragOrigin={x:t.translateX,y:t.translateY},n.dragCenter={x:e.offsetX,y:e.offsetY};var o=(s=t.query("GET_ACTIVE_ITEMS"),l=s.map((function(e){return e.id})),c=void 0,{setIndex:function(e){c=e},getIndex:function(){return c},getItemIndex:function(e){return l.indexOf(e.id)}});t.dispatch("DID_GRAB_ITEM",{id:n.id,dragState:o});var a=function(e){e.isPrimary&&(e.stopPropagation(),e.preventDefault(),n.dragOffset={x:e.pageX-r.x,y:e.pageY-r.y},n.dragOffset.x*n.dragOffset.x+n.dragOffset.y*n.dragOffset.y>16&&!i&&(i=!0,t.element.removeEventListener("click",t.ref.handleClick)),t.dispatch("DID_DRAG_ITEM",{id:n.id,dragState:o}))};document.addEventListener("pointermove",a),document.addEventListener("pointerup",(function e(s){s.isPrimary&&(document.removeEventListener("pointermove",a),document.removeEventListener("pointerup",e),n.dragOffset={x:s.pageX-r.x,y:s.pageY-r.y},t.dispatch("DID_DROP_ITEM",{id:n.id,dragState:o}),i&&setTimeout((function(){return t.element.addEventListener("click",t.ref.handleClick)}),0))}))}var s,l,c}))}},write:wn,destroy:function(e){var t=e.root,n=e.props;t.element.removeEventListener("click",t.ref.handleClick),t.dispatch("RELEASE_ITEM",{query:n.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:Tn,scaleY:Tn,translateX:_n,translateY:_n,opacity:{type:"tween",duration:150}}}}),On=function(e,t,n){if(n){var i=e.rect.element.width,r=t.length,o=null;if(0===r||n.top<t[0].rect.element.top)return-1;var a=t[0].rect.element,s=a.marginLeft+a.marginRight,l=a.width+s,c=Math.round(i/l);if(1===c){for(var u=0;u<r;u++){var d=t[u],f=d.rect.outer.top+.5*d.rect.element.height;if(n.top<f)return u}return r}for(var p=a.marginTop+a.marginBottom,h=a.height+p,m=0;m<r;m++){var g=m%c*l,v=Math.floor(m/c)*h,E=v-a.marginTop,y=g+l,_=v+h+a.marginBottom;if(n.top<_&&n.top>E){if(n.left<y)return m;o=m!==r-1?m:null}}return null!==o?o:r}},xn={height:0,width:0,get getHeight(){return this.height},set setHeight(e){0!==this.height&&0!==e||(this.height=e)},get getWidth(){return this.width},set setWidth(e){0!==this.width&&0!==e||(this.width=e)},setDimensions:function(e,t){0!==this.height&&0!==e||(this.height=e),0!==this.width&&0!==t||(this.width=t)}},Mn=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;e.dragOffset?(e.translateX=null,e.translateY=null,e.translateX=e.dragOrigin.x+e.dragOffset.x,e.translateY=e.dragOrigin.y+e.dragOffset.y,e.scaleX=1.025,e.scaleY=1.025):(e.translateX=t,e.translateY=n,Date.now()>e.spawnDate&&(0===e.opacity&&Dn(e,t,n,i,r),e.scaleX=1,e.scaleY=1,e.opacity=1))},Dn=function(e,t,n,i,r){e.interactionMethod===ue?(e.translateX=null,e.translateX=t,e.translateY=null,e.translateY=n):e.interactionMethod===se?(e.translateX=null,e.translateX=t-20*i,e.translateY=null,e.translateY=n-10*r,e.scaleX=.8,e.scaleY=.8):e.interactionMethod===le?(e.translateY=null,e.translateY=n-30):e.interactionMethod===ae&&(e.translateX=null,e.translateX=t-30,e.translateY=null)},An=function(e){return e.rect.element.height+.5*e.rect.element.marginBottom+.5*e.rect.element.marginTop},Sn=C({DID_ADD_ITEM:function(e){var t=e.root,n=e.action,i=n.id,r=n.index,o=n.interactionMethod;t.ref.addIndex=r;var a=Date.now(),s=a,l=1;if(o!==ue){l=0;var c=t.query("GET_ITEM_INSERT_INTERVAL"),u=a-t.ref.lastItemSpanwDate;s=u<c?a+(c-u):a}t.ref.lastItemSpanwDate=s,t.appendChildView(t.createChildView(Rn,{spawnDate:s,id:i,opacity:l,interactionMethod:o}),r)},DID_REMOVE_ITEM:function(e){var t=e.root,n=e.action.id,i=t.childViews.find((function(e){return e.id===n}));i&&(i.scaleX=.9,i.scaleY=.9,i.opacity=0,i.markedForRemoval=!0)},DID_DRAG_ITEM:function(e){var t,n=e.root,i=e.action,r=i.id,o=i.dragState,a=n.query("GET_ITEM",{id:r}),s=n.childViews.find((function(e){return e.id===r})),l=n.childViews.length,c=o.getItemIndex(a);if(s){var u={x:s.dragOrigin.x+s.dragOffset.x+s.dragCenter.x,y:s.dragOrigin.y+s.dragOffset.y+s.dragCenter.y},d=An(s),f=(t=s).rect.element.width+.5*t.rect.element.marginLeft+.5*t.rect.element.marginRight,p=Math.floor(n.rect.outer.width/f);p>l&&(p=l);var h=Math.floor(l/p+1);xn.setHeight=d*h,xn.setWidth=f*p;var m={y:Math.floor(u.y/d),x:Math.floor(u.x/f),getGridIndex:function(){return u.y>xn.getHeight||u.y<0||u.x>xn.getWidth||u.x<0?c:this.y*p+this.x},getColIndex:function(){for(var e=n.query("GET_ACTIVE_ITEMS"),t=n.childViews.filter((function(e){return e.rect.element.height})),i=e.map((function(e){return t.find((function(t){return t.id===e.id}))})),r=i.findIndex((function(e){return e===s})),o=An(s),a=i.length,l=a,c=0,d=0,f=0;f<a;f++)if(c=(d=c)+An(i[f]),u.y<c){if(r>f){if(u.y<d+o){l=f;break}continue}l=f;break}return l}},g=p>1?m.getGridIndex():m.getColIndex();n.dispatch("MOVE_ITEM",{query:s,index:g});var v=o.getIndex();if(void 0===v||v!==g){if(o.setIndex(g),void 0===v)return;n.dispatch("DID_REORDER_ITEMS",{items:n.query("GET_ACTIVE_ITEMS"),origin:c,target:g})}}}}),Cn=S({create:function(e){var t=e.root;o(t.element,"role","list"),t.ref.lastItemSpanwDate=Date.now()},write:function(e){var t=e.root,n=e.props,i=e.actions,r=e.shouldOptimize;Sn({root:t,props:n,actions:i});var o=n.dragCoordinates,a=t.rect.element.width,s=t.childViews.filter((function(e){return e.rect.element.height})),l=t.query("GET_ACTIVE_ITEMS").map((function(e){return s.find((function(t){return t.id===e.id}))})).filter((function(e){return e})),c=o?On(t,l,o):null,u=t.ref.addIndex||null;t.ref.addIndex=null;var d=0,f=0,p=0;if(0!==l.length){var h=l[0].rect.element,m=h.marginTop+h.marginBottom,g=h.marginLeft+h.marginRight,v=h.width+g,E=h.height+m,y=Math.round(a/v);if(1===y){var _=0,T=0;l.forEach((function(e,t){if(c){var n=t-c;T=-2===n?.25*-m:-1===n?.75*-m:0===n?.75*m:1===n?.25*m:0}r&&(e.translateX=null,e.translateY=null),e.markedForRemoval||Mn(e,0,_+T);var i=(e.rect.element.height+m)*(e.markedForRemoval?e.opacity:1);_+=i}))}else{var b=0,I=0;l.forEach((function(e,t){t===c&&(d=1),t===u&&(p+=1),e.markedForRemoval&&e.opacity<.5&&(f-=1);var n=t+p+d+f,i=n%y,o=Math.floor(n/y),a=i*v,s=o*E,l=Math.sign(a-b),h=Math.sign(s-I);b=a,I=s,e.markedForRemoval||(r&&(e.translateX=null,e.translateY=null),Mn(e,a,s,l,h))}))}}},tag:"ul",name:"list",didWriteView:function(e){var t=e.root;t.childViews.filter((function(e){return e.markedForRemoval&&0===e.opacity&&e.resting})).forEach((function(e){e._destroy(),t.removeChildView(e)}))},filterFrameActionsForChild:function(e,t){return t.filter((function(t){return!t.data||!t.data.id||e.id===t.data.id}))},mixins:{apis:["dragCoordinates"]}}),Ln=C({DID_DRAG:function(e){var t=e.root,n=e.props,i=e.action;t.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(n.dragCoordinates={left:i.position.scopeLeft-t.ref.list.rect.element.left,top:i.position.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},DID_END_DRAG:function(e){e.props.dragCoordinates=null}}),Pn=S({create:function(e){var t=e.root,n=e.props;t.ref.list=t.appendChildView(t.createChildView(Cn)),n.dragCoordinates=null,n.overflowing=!1},write:function(e){var t=e.root,n=e.props,i=e.actions;if(Ln({root:t,props:n,actions:i}),t.ref.list.dragCoordinates=n.dragCoordinates,n.overflowing&&!n.overflow&&(n.overflowing=!1,t.element.dataset.state="",t.height=null),n.overflow){var r=Math.round(n.overflow);r!==t.height&&(n.overflowing=!0,t.element.dataset.state="overflow",t.height=r)}},name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),Nn=function(e,t,n){n?o(e,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:""):e.removeAttribute(t)},Gn=function(e){var t=e.root,n=e.action;t.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&Nn(t.element,"accept",!!n.value,n.value?n.value.join(","):"")},kn=function(e){var t=e.root,n=e.action;Nn(t.element,"multiple",n.value)},Bn=function(e){var t=e.root,n=e.action;Nn(t.element,"webkitdirectory",n.value)},Un=function(e){var t=e.root,n=t.query("GET_DISABLED"),i=t.query("GET_ALLOW_BROWSE"),r=n||!i;Nn(t.element,"disabled",r)},Fn=function(e){var t=e.root;e.action.value?0===t.query("GET_TOTAL_ITEMS")&&Nn(t.element,"required",!0):Nn(t.element,"required",!1)},zn=function(e){var t=e.root,n=e.action;Nn(t.element,"capture",!!n.value,!0===n.value?"":n.value)},Vn=function(e){var t=e.root,n=t.element;t.query("GET_TOTAL_ITEMS")>0?(Nn(n,"required",!1),Nn(n,"name",!1)):(Nn(n,"name",!0,t.query("GET_NAME")),t.query("GET_CHECK_VALIDITY")&&n.setCustomValidity(""),t.query("GET_REQUIRED")&&Nn(n,"required",!0))},qn=S({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:function(e){var t=e.root,n=e.props;t.element.id="filepond--browser-"+n.id,o(t.element,"name",t.query("GET_NAME")),o(t.element,"aria-controls","filepond--assistant-"+n.id),o(t.element,"aria-labelledby","filepond--drop-label-"+n.id),Gn({root:t,action:{value:t.query("GET_ACCEPTED_FILE_TYPES")}}),kn({root:t,action:{value:t.query("GET_ALLOW_MULTIPLE")}}),Bn({root:t,action:{value:t.query("GET_ALLOW_DIRECTORIES_ONLY")}}),Un({root:t}),Fn({root:t,action:{value:t.query("GET_REQUIRED")}}),zn({root:t,action:{value:t.query("GET_CAPTURE_METHOD")}}),t.ref.handleChange=function(e){if(t.element.value){var i=Array.from(t.element.files).map((function(e){return e._relativePath=e.webkitRelativePath,e}));setTimeout((function(){n.onload(i),function(e){if(e&&""!==e.value){try{e.value=""}catch(e){}if(e.value){var t=Bt("form"),n=e.parentNode,i=e.nextSibling;t.appendChild(e),t.reset(),i?n.insertBefore(e,i):n.appendChild(e)}}}(t.element)}),250)}},t.element.addEventListener("change",t.ref.handleChange)},destroy:function(e){var t=e.root;t.element.removeEventListener("change",t.ref.handleChange)},write:C({DID_LOAD_ITEM:Vn,DID_REMOVE_ITEM:Vn,DID_THROW_ITEM_INVALID:function(e){var t=e.root;t.query("GET_CHECK_VALIDITY")&&t.element.setCustomValidity(t.query("GET_LABEL_INVALID_FIELD"))},DID_SET_DISABLED:Un,DID_SET_ALLOW_BROWSE:Un,DID_SET_ALLOW_DIRECTORIES_ONLY:Bn,DID_SET_ALLOW_MULTIPLE:kn,DID_SET_ACCEPTED_FILE_TYPES:Gn,DID_SET_CAPTURE_METHOD:zn,DID_SET_REQUIRED:Fn})}),Hn=13,jn=32,Yn=function(e,t){e.innerHTML=t;var n=e.querySelector(".filepond--label-action");return n&&o(n,"tabindex","0"),t},Wn=S({name:"drop-label",ignoreRect:!0,create:function(e){var t=e.root,n=e.props,i=Bt("label");o(i,"for","filepond--browser-"+n.id),o(i,"id","filepond--drop-label-"+n.id),o(i,"aria-hidden","true"),t.ref.handleKeyDown=function(e){(e.keyCode===Hn||e.keyCode===jn)&&(e.preventDefault(),t.ref.label.click())},t.ref.handleClick=function(e){e.target===i||i.contains(e.target)||t.ref.label.click()},i.addEventListener("keydown",t.ref.handleKeyDown),t.element.addEventListener("click",t.ref.handleClick),Yn(i,n.caption),t.appendChild(i),t.ref.label=i},destroy:function(e){var t=e.root;t.ref.label.addEventListener("keydown",t.ref.handleKeyDown),t.element.removeEventListener("click",t.ref.handleClick)},write:C({DID_SET_LABEL_IDLE:function(e){var t=e.root,n=e.action;Yn(t.ref.label,n.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),Xn=S({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),Qn=C({DID_DRAG:function(e){var t=e.root,n=e.action;t.ref.blob?(t.ref.blob.translateX=n.position.scopeLeft,t.ref.blob.translateY=n.position.scopeTop,t.ref.blob.scaleX=1,t.ref.blob.scaleY=1,t.ref.blob.opacity=1):function(e){var t=e.root,n=.5*t.rect.element.width,i=.5*t.rect.element.height;t.ref.blob=t.appendChildView(t.createChildView(Xn,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:n,translateY:i}))}({root:t})},DID_DROP:function(e){var t=e.root;t.ref.blob&&(t.ref.blob.scaleX=2.5,t.ref.blob.scaleY=2.5,t.ref.blob.opacity=0)},DID_END_DRAG:function(e){var t=e.root;t.ref.blob&&(t.ref.blob.opacity=0)}}),Zn=S({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:function(e){var t=e.root,n=e.props,i=e.actions;Qn({root:t,props:n,actions:i});var r=t.ref.blob;0===i.length&&r&&0===r.opacity&&(t.removeChildView(r),t.ref.blob=null)}}),Kn=function(e,t){return e.ref.fields[t]},$n=function(e){e.query("GET_ACTIVE_ITEMS").forEach((function(t){e.ref.fields[t.id]&&e.element.appendChild(e.ref.fields[t.id])}))},Jn=function(e){var t=e.root;return $n(t)},ei=C({DID_SET_DISABLED:function(e){var t=e.root;t.element.disabled=t.query("GET_DISABLED")},DID_ADD_ITEM:function(e){var t=e.root,n=e.action,i=Bt("input");i.type="hidden",i.name=t.query("GET_NAME"),i.disabled=t.query("GET_DISABLED"),t.ref.fields[n.id]=i,$n(t)},DID_LOAD_ITEM:function(e){var t=e.root,n=e.action,i=Kn(t,n.id);i&&null!==n.serverFileReference&&(i.value=n.serverFileReference)},DID_REMOVE_ITEM:function(e){var t=e.root,n=e.action,i=Kn(t,n.id);i&&(i.parentNode&&i.parentNode.removeChild(i),delete t.ref.fields[n.id])},DID_DEFINE_VALUE:function(e){var t=e.root,n=e.action,i=Kn(t,n.id);i&&(null===n.value?i.removeAttribute("value"):i.value=n.value,$n(t))},DID_REORDER_ITEMS:Jn,DID_SORT_ITEMS:Jn}),ti=S({tag:"fieldset",name:"data",create:function(e){return e.root.ref.fields={}},write:ei,ignoreRect:!0}),ni=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],ii=["css","csv","html","txt"],ri={zip:"zip|compressed",epub:"application/epub+zip"},oi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e=e.toLowerCase(),ni.includes(e)?"image/"+("jpg"===e?"jpeg":"svg"===e?"svg+xml":e):ii.includes(e)?"text/"+e:ri[e]||""},ai=function(e){return new Promise((function(t,n){var i=gi(e);if(i.length&&!si(e))return t(i);li(e).then(t)}))},si=function(e){return!!e.files&&e.files.length>0},li=function(e){return new Promise((function(t,n){var i=(e.items?Array.from(e.items):[]).filter((function(e){return ci(e)})).map((function(e){return ui(e)}));i.length?Promise.all(i).then((function(e){var n=[];e.forEach((function(e){n.push.apply(n,e)})),t(n.filter((function(e){return e})).map((function(e){return e._relativePath||(e._relativePath=e.webkitRelativePath),e})))})).catch(console.error):t(e.files?Array.from(e.files):[])}))},ci=function(e){if(hi(e)){var t=mi(e);if(t)return t.isFile||t.isDirectory}return"file"===e.kind},ui=function(e){return new Promise((function(t,n){pi(e)?di(mi(e)).then(t).catch(n):t([e.getAsFile()])}))},di=function(e){return new Promise((function(t,n){var i=[],r=0,o=0,a=function(){0===o&&0===r&&t(i)};!function e(t){r++;var s=t.createReader();!function t(){s.readEntries((function(n){if(0===n.length)return r--,void a();n.forEach((function(t){t.isDirectory?e(t):(o++,t.file((function(e){var n=fi(e);t.fullPath&&(n._relativePath=t.fullPath),i.push(n),o--,a()})))})),t()}),n)}()}(e)}))},fi=function(e){if(e.type.length)return e;var t=e.lastModifiedDate,n=e.name,i=oi(Qe(e.name));return i.length?((e=e.slice(0,e.size,i)).name=n,e.lastModifiedDate=t,e):e},pi=function(e){return hi(e)&&(mi(e)||{}).isDirectory},hi=function(e){return"webkitGetAsEntry"in e},mi=function(e){return e.webkitGetAsEntry()},gi=function(e){var t=[];try{if((t=Ei(e)).length)return t;t=vi(e)}catch(e){}return t},vi=function(e){var t=e.getData("url");return"string"==typeof t&&t.length?[t]:[]},Ei=function(e){var t=e.getData("text/html");if("string"==typeof t&&t.length){var n=t.match(/src\s*=\s*"(.+?)"/);if(n)return[n[1]]}return[]},yi=[],_i=function(e){return{pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}},Ti=function(e){var t=yi.find((function(t){return t.element===e}));if(t)return t;var n=bi(e);return yi.push(n),n},bi=function(e){var t=[],n={dragenter:Oi,dragover:xi,dragleave:Di,drop:Mi},r={};i(n,(function(n,i){r[n]=i(e,t),e.addEventListener(n,r[n],!1)}));var o={element:e,addListener:function(a){return t.push(a),function(){t.splice(t.indexOf(a),1),0===t.length&&(yi.splice(yi.indexOf(o),1),i(n,(function(t){e.removeEventListener(t,r[t],!1)})))}}};return o},Ii=function(e,t){var n,i=function(e,t){return"elementFromPoint"in e||(e=document),e.elementFromPoint(t.x,t.y)}("getRootNode"in(n=t)?n.getRootNode():document,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return i===t||t.contains(i)},wi=null,Ri=function(e,t){try{e.dropEffect=t}catch(e){}},Oi=function(e,t){return function(e){e.preventDefault(),wi=e.target,t.forEach((function(t){var n=t.element,i=t.onenter;Ii(e,n)&&(t.state="enter",i(_i(e)))}))}},xi=function(e,t){return function(e){e.preventDefault();var n=e.dataTransfer;ai(n).then((function(i){var r=!1;t.some((function(t){var o=t.filterElement,a=t.element,s=t.onenter,l=t.onexit,c=t.ondrag,u=t.allowdrop;Ri(n,"copy");var d=u(i);if(d)if(Ii(e,a)){if(r=!0,null===t.state)return t.state="enter",void s(_i(e));if(t.state="over",o&&!d)return void Ri(n,"none");c(_i(e))}else o&&!r&&Ri(n,"none"),t.state&&(t.state=null,l(_i(e)));else Ri(n,"none")}))}))}},Mi=function(e,t){return function(e){e.preventDefault();var n=e.dataTransfer;ai(n).then((function(n){t.forEach((function(t){var i=t.filterElement,r=t.element,o=t.ondrop,a=t.onexit,s=t.allowdrop;if(t.state=null,!i||Ii(e,r))return s(n)?void o(_i(e),n):a(_i(e))}))}))}},Di=function(e,t){return function(e){wi===e.target&&t.forEach((function(t){var n=t.onexit;t.state=null,n(_i(e))}))}},Ai=function(e,t,n){e.classList.add("filepond--hopper");var i=n.catchesDropsOnPage,r=n.requiresDropOnElement,o=n.filterItems,a=void 0===o?function(e){return e}:o,s=function(e,t,n){var i=Ti(t),r={element:e,filterElement:n,state:null,ondrop:function(){},onenter:function(){},ondrag:function(){},onexit:function(){},onload:function(){},allowdrop:function(){}};return r.destroy=i.addListener(r),r}(e,i?document.documentElement:e,r),l="",c="";s.allowdrop=function(e){return t(a(e))},s.ondrop=function(e,n){var i=a(n);t(i)?(c="drag-drop",u.onload(i,e)):u.ondragend(e)},s.ondrag=function(e){u.ondrag(e)},s.onenter=function(e){c="drag-over",u.ondragstart(e)},s.onexit=function(e){c="drag-exit",u.ondragend(e)};var u={updateHopperState:function(){l!==c&&(e.dataset.hopperState=c,l=c)},onload:function(){},ondragstart:function(){},ondrag:function(){},ondragend:function(){},destroy:function(){s.destroy()}};return u},Si=!1,Ci=[],Li=function(e){var t=document.activeElement;if(t&&/textarea|input/i.test(t.nodeName)){for(var n=!1,i=t;i!==document.body;){if(i.classList.contains("filepond--root")){n=!0;break}i=i.parentNode}if(!n)return}ai(e.clipboardData).then((function(e){e.length&&Ci.forEach((function(t){return t(e)}))}))},Pi=function(){var e=function(e){t.onload(e)},t={destroy:function(){var t;t=e,Ee(Ci,Ci.indexOf(t)),0===Ci.length&&(document.removeEventListener("paste",Li),Si=!1)},onload:function(){}};return function(e){Ci.includes(e)||(Ci.push(e),Si||(Si=!0,document.addEventListener("paste",Li)))}(e),t},Ni=null,Gi=null,ki=[],Bi=function(e,t){e.element.textContent=t},Ui=function(e,t,n){var i=e.query("GET_TOTAL_ITEMS");Bi(e,n+" "+t+", "+i+" "+(1===i?e.query("GET_LABEL_FILE_COUNT_SINGULAR"):e.query("GET_LABEL_FILE_COUNT_PLURAL"))),clearTimeout(Gi),Gi=setTimeout((function(){!function(e){e.element.textContent=""}(e)}),1500)},Fi=function(e){return e.element.parentNode.contains(document.activeElement)},zi=function(e){var t=e.root,n=e.action,i=t.query("GET_ITEM",n.id).filename,r=t.query("GET_LABEL_FILE_PROCESSING_ABORTED");Bi(t,i+" "+r)},Vi=function(e){var t=e.root,n=e.action,i=t.query("GET_ITEM",n.id).filename;Bi(t,n.status.main+" "+i+" "+n.status.sub)},qi=S({create:function(e){var t=e.root,n=e.props;t.element.id="filepond--assistant-"+n.id,o(t.element,"role","status"),o(t.element,"aria-live","polite"),o(t.element,"aria-relevant","additions")},ignoreRect:!0,ignoreRectUpdate:!0,write:C({DID_LOAD_ITEM:function(e){var t=e.root,n=e.action;if(Fi(t)){t.element.textContent="";var i=t.query("GET_ITEM",n.id);ki.push(i.filename),clearTimeout(Ni),Ni=setTimeout((function(){Ui(t,ki.join(", "),t.query("GET_LABEL_FILE_ADDED")),ki.length=0}),750)}},DID_REMOVE_ITEM:function(e){var t=e.root,n=e.action;if(Fi(t)){var i=n.item;Ui(t,i.filename,t.query("GET_LABEL_FILE_REMOVED"))}},DID_COMPLETE_ITEM_PROCESSING:function(e){var t=e.root,n=e.action,i=t.query("GET_ITEM",n.id).filename,r=t.query("GET_LABEL_FILE_PROCESSING_COMPLETE");Bi(t,i+" "+r)},DID_ABORT_ITEM_PROCESSING:zi,DID_REVERT_ITEM_PROCESSING:zi,DID_THROW_ITEM_REMOVE_ERROR:Vi,DID_THROW_ITEM_LOAD_ERROR:Vi,DID_THROW_ITEM_INVALID:Vi,DID_THROW_ITEM_PROCESSING_ERROR:Vi}),tag:"span",name:"assistant"}),Hi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.replace(new RegExp(t+".","g"),(function(e){return e.charAt(1).toUpperCase()}))},ji=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Date.now(),r=null;return function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];clearTimeout(r);var l=Date.now()-i,c=function(){i=Date.now(),e.apply(void 0,a)};l<t?n||(r=setTimeout(c,t-l)):c()}},Yi=function(e){return e.preventDefault()},Wi=function(e){var t=e.ref.list.childViews[0].childViews[0];return t?{top:t.rect.element.marginTop,bottom:t.rect.element.marginBottom}:{top:0,bottom:0}},Xi=function(e){var t=0,n=0,i=e.ref.list,r=i.childViews[0],o=r.childViews.filter((function(e){return e.rect.element.height})),a=e.query("GET_ACTIVE_ITEMS").map((function(e){return o.find((function(t){return t.id===e.id}))})).filter((function(e){return e}));if(0===a.length)return{visual:t,bounds:n};var s=r.rect.element.width,l=On(r,a,i.dragCoordinates),c=a[0].rect.element,u=c.marginTop+c.marginBottom,d=c.marginLeft+c.marginRight,f=c.width+d,p=c.height+u,h=void 0!==l&&l>=0?1:0,m=a.find((function(e){return e.markedForRemoval&&e.opacity<.45}))?-1:0,g=a.length+h+m,v=Math.round(s/f);return 1===v?a.forEach((function(e){var i=e.rect.element.height+u;n+=i,t+=i*e.opacity})):(n=Math.ceil(g/v)*p,t=n),{visual:t,bounds:n}},Qi=function(e){var t=e.ref.measureHeight||null;return{cappedHeight:parseInt(e.style.maxHeight,10)||null,fixedHeight:0===t?null:t}},Zi=function(e,t){var n=e.query("GET_ALLOW_REPLACE"),i=e.query("GET_ALLOW_MULTIPLE"),r=e.query("GET_TOTAL_ITEMS"),o=e.query("GET_MAX_FILES"),a=t.length;return!i&&a>1||!!(j(o=i||n?o:1)&&r+a>o)&&(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:ut("warning",0,"Max files")}),!0)},Ki=function(e,t,n){var i=e.childViews[0];return On(i,t,{left:n.scopeLeft-i.rect.element.left,top:n.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},$i=function(e){var t=e.query("GET_ALLOW_DROP"),n=e.query("GET_DISABLED"),i=t&&!n;if(i&&!e.ref.hopper){var r=Ai(e.element,(function(t){var n=e.query("GET_BEFORE_DROP_FILE")||function(){return!0};return!e.query("GET_DROP_VALIDATION")||t.every((function(t){return Se("ALLOW_HOPPER_ITEM",t,{query:e.query}).every((function(e){return!0===e}))&&n(t)}))}),{filterItems:function(t){var n=e.query("GET_IGNORED_FILES");return t.filter((function(e){return!xt(e)||!n.includes(e.name.toLowerCase())}))},catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});r.onload=function(t,n){var i=e.ref.list.childViews[0].childViews.filter((function(e){return e.rect.element.height})),r=e.query("GET_ACTIVE_ITEMS").map((function(e){return i.find((function(t){return t.id===e.id}))})).filter((function(e){return e}));Ae("ADD_ITEMS",t,{dispatch:e.dispatch}).then((function(t){if(Zi(e,t))return!1;e.dispatch("ADD_ITEMS",{items:t,index:Ki(e.ref.list,r,n),interactionMethod:se})})),e.dispatch("DID_DROP",{position:n}),e.dispatch("DID_END_DRAG",{position:n})},r.ondragstart=function(t){e.dispatch("DID_START_DRAG",{position:t})},r.ondrag=ji((function(t){e.dispatch("DID_DRAG",{position:t})})),r.ondragend=function(t){e.dispatch("DID_END_DRAG",{position:t})},e.ref.hopper=r,e.ref.drip=e.appendChildView(e.createChildView(Zn))}else!i&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},Ji=function(e,t){var n=e.query("GET_ALLOW_BROWSE"),i=e.query("GET_DISABLED"),r=n&&!i;r&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView(qn,Object.assign({},t,{onload:function(t){Ae("ADD_ITEMS",t,{dispatch:e.dispatch}).then((function(t){if(Zi(e,t))return!1;e.dispatch("ADD_ITEMS",{items:t,index:-1,interactionMethod:le})}))}})),0):!r&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},er=function(e){var t=e.query("GET_ALLOW_PASTE"),n=e.query("GET_DISABLED"),i=t&&!n;i&&!e.ref.paster?(e.ref.paster=Pi(),e.ref.paster.onload=function(t){Ae("ADD_ITEMS",t,{dispatch:e.dispatch}).then((function(t){if(Zi(e,t))return!1;e.dispatch("ADD_ITEMS",{items:t,index:-1,interactionMethod:ce})}))}):!i&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},tr=C({DID_SET_ALLOW_BROWSE:function(e){var t=e.root,n=e.props;Ji(t,n)},DID_SET_ALLOW_DROP:function(e){var t=e.root;$i(t)},DID_SET_ALLOW_PASTE:function(e){var t=e.root;er(t)},DID_SET_DISABLED:function(e){var t=e.root,n=e.props;$i(t),er(t),Ji(t,n),t.query("GET_DISABLED")?t.element.dataset.disabled="disabled":t.element.removeAttribute("data-disabled")}}),nr=S({name:"root",read:function(e){var t=e.root;t.ref.measure&&(t.ref.measureHeight=t.ref.measure.offsetHeight)},create:function(e){var t=e.root,n=e.props,i=t.query("GET_ID");i&&(t.element.id=i);var r=t.query("GET_CLASS_NAME");r&&r.split(" ").filter((function(e){return e.length})).forEach((function(e){t.element.classList.add(e)})),t.ref.label=t.appendChildView(t.createChildView(Wn,Object.assign({},n,{translateY:null,caption:t.query("GET_LABEL_IDLE")}))),t.ref.list=t.appendChildView(t.createChildView(Pn,{translateY:null})),t.ref.panel=t.appendChildView(t.createChildView(yn,{name:"panel-root"})),t.ref.assistant=t.appendChildView(t.createChildView(qi,Object.assign({},n))),t.ref.data=t.appendChildView(t.createChildView(ti,Object.assign({},n))),t.ref.measure=Bt("div"),t.ref.measure.style.height="100%",t.element.appendChild(t.ref.measure),t.ref.bounds=null,t.query("GET_STYLES").filter((function(e){return!G(e.value)})).map((function(e){var n=e.name,i=e.value;t.element.dataset[n]=i})),t.ref.widthPrevious=null,t.ref.widthUpdated=ji((function(){t.ref.updateHistory=[],t.dispatch("DID_RESIZE_ROOT")}),250),t.ref.previousAspectRatio=null,t.ref.updateHistory=[];var o=window.matchMedia("(pointer: fine) and (hover: hover)").matches,a="PointerEvent"in window;t.query("GET_ALLOW_REORDER")&&a&&!o&&(t.element.addEventListener("touchmove",Yi,{passive:!1}),t.element.addEventListener("gesturestart",Yi));var s=t.query("GET_CREDITS");if(2===s.length){var l=document.createElement("a");l.className="filepond--credits",l.setAttribute("aria-hidden","true"),l.href=s[0],l.tabindex=-1,l.target="_blank",l.rel="noopener noreferrer",l.textContent=s[1],t.element.appendChild(l),t.ref.credits=l}},write:function(e){var t=e.root,n=e.props,i=e.actions;if(tr({root:t,props:n,actions:i}),i.filter((function(e){return/^DID_SET_STYLE_/.test(e.type)})).filter((function(e){return!G(e.data.value)})).map((function(e){var n=e.type,i=e.data,r=Hi(n.substr(8).toLowerCase(),"_");t.element.dataset[r]=i.value,t.invalidateLayout()})),!t.rect.element.hidden){t.rect.element.width!==t.ref.widthPrevious&&(t.ref.widthPrevious=t.rect.element.width,t.ref.widthUpdated());var r=t.ref.bounds;r||(r=t.ref.bounds=Qi(t),t.element.removeChild(t.ref.measure),t.ref.measure=null);var o=t.ref,a=o.hopper,s=o.label,l=o.list,c=o.panel;a&&a.updateHopperState();var u=t.query("GET_PANEL_ASPECT_RATIO"),d=t.query("GET_ALLOW_MULTIPLE"),f=t.query("GET_TOTAL_ITEMS"),p=f===(d?t.query("GET_MAX_FILES")||1e6:1),h=i.find((function(e){return"DID_ADD_ITEM"===e.type}));if(p&&h){var m=h.data.interactionMethod;s.opacity=0,d?s.translateY=-40:m===ae?s.translateX=40:s.translateY=m===le?40:30}else p||(s.opacity=1,s.translateX=0,s.translateY=0);var g=Wi(t),v=Xi(t),E=s.rect.element.height,y=!d||p?0:E,_=p?l.rect.element.marginTop:0,T=0===f?0:l.rect.element.marginBottom,b=y+_+v.visual+T,I=y+_+v.bounds+T;if(l.translateY=Math.max(0,y-l.rect.element.marginTop)-g.top,u){var w=t.rect.element.width,R=w*u;u!==t.ref.previousAspectRatio&&(t.ref.previousAspectRatio=u,t.ref.updateHistory=[]);var O=t.ref.updateHistory;O.push(w);if(O.length>4)for(var x=O.length,M=x-10,D=0,A=x;A>=M;A--)if(O[A]===O[A-2]&&D++,D>=2)return;c.scalable=!1,c.height=R;var S=R-y-(T-g.bottom)-(p?_:0);v.visual>S?l.overflow=S:l.overflow=null,t.height=R}else if(r.fixedHeight){c.scalable=!1;var C=r.fixedHeight-y-(T-g.bottom)-(p?_:0);v.visual>C?l.overflow=C:l.overflow=null}else if(r.cappedHeight){var L=b>=r.cappedHeight,P=Math.min(r.cappedHeight,b);c.scalable=!0,c.height=L?P:P-g.top-g.bottom;var N=P-y-(T-g.bottom)-(p?_:0);b>r.cappedHeight&&v.visual>N?l.overflow=N:l.overflow=null,t.height=Math.min(r.cappedHeight,I-g.top-g.bottom)}else{var k=f>0?g.top+g.bottom:0;c.scalable=!0,c.height=Math.max(E,b-k),t.height=Math.max(E,I-k)}t.ref.credits&&c.heightCurrent&&(t.ref.credits.style.transform="translateY("+c.heightCurrent+"px)")}},destroy:function(e){var t=e.root;t.ref.paster&&t.ref.paster.destroy(),t.ref.hopper&&t.ref.hopper.destroy(),t.element.removeEventListener("touchmove",Yi),t.element.removeEventListener("gesturestart",Yi)},mixins:{styles:["height"]}}),ir=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=null,i=Le(),o=n(te(i),[je,oe(i)],[kt,re(i)]);o.dispatch("SET_OPTIONS",{options:e});var a=function(){document.hidden||o.dispatch("KICK")};document.addEventListener("visibilitychange",a);var s=null,l=!1,c=!1,u=null,d=null,f=function(){l||(l=!0),clearTimeout(s),s=setTimeout((function(){l=!1,u=null,d=null,c&&(c=!1,o.dispatch("DID_STOP_RESIZE"))}),500)};window.addEventListener("resize",f);var p=nr(o,{id:de()}),h=!1,m=!1,g={_read:function(){l&&(d=window.innerWidth,u||(u=d),c||d===u||(o.dispatch("DID_START_RESIZE"),c=!0)),m&&h&&(h=null===p.element.offsetParent),h||(p._read(),m=p.rect.element.hidden)},_write:function(e){var t=o.processActionQueue().filter((function(e){return!/^SET_/.test(e.type)}));h&&!t.length||(T(t),h=p._write(e,t,c),Ie(o.query("GET_ITEMS")),h&&o.processDispatchQueue())}},v=function(e){return function(t){var n={type:e};if(!t)return n;if(t.hasOwnProperty("error")&&(n.error=t.error?Object.assign({},t.error):null),t.status&&(n.status=Object.assign({},t.status)),t.file&&(n.output=t.file),t.source)n.file=t.source;else if(t.item||t.id){var i=t.item?t.item:o.query("GET_ITEM",t.id);n.file=i?be(i):null}return t.items&&(n.items=t.items.map(be)),/progress/.test(e)&&(n.progress=t.progress),t.hasOwnProperty("origin")&&t.hasOwnProperty("target")&&(n.origin=t.origin,n.target=t.target),n}},E={DID_DESTROY:v("destroy"),DID_INIT:v("init"),DID_THROW_MAX_FILES:v("warning"),DID_INIT_ITEM:v("initfile"),DID_START_ITEM_LOAD:v("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:v("addfileprogress"),DID_LOAD_ITEM:v("addfile"),DID_THROW_ITEM_INVALID:[v("error"),v("addfile")],DID_THROW_ITEM_LOAD_ERROR:[v("error"),v("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[v("error"),v("removefile")],DID_PREPARE_OUTPUT:v("preparefile"),DID_START_ITEM_PROCESSING:v("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:v("processfileprogress"),DID_ABORT_ITEM_PROCESSING:v("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:v("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:v("processfiles"),DID_REVERT_ITEM_PROCESSING:v("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[v("error"),v("processfile")],DID_REMOVE_ITEM:v("removefile"),DID_UPDATE_ITEMS:v("updatefiles"),DID_ACTIVATE_ITEM:v("activatefile"),DID_REORDER_ITEMS:v("reorderfiles")},_=function(e){var t=Object.assign({pond:k},e);delete t.type,p.element.dispatchEvent(new CustomEvent("FilePond:"+e.type,{detail:t,bubbles:!0,cancelable:!0,composed:!0}));var n=[];e.hasOwnProperty("error")&&n.push(e.error),e.hasOwnProperty("file")&&n.push(e.file);var i=["type","error","file"];Object.keys(e).filter((function(e){return!i.includes(e)})).forEach((function(t){return n.push(e[t])})),k.fire.apply(k,[e.type].concat(n));var r=o.query("GET_ON"+e.type.toUpperCase());r&&r.apply(void 0,n)},T=function(e){e.length&&e.filter((function(e){return E[e.type]})).forEach((function(e){var t=E[e.type];(Array.isArray(t)?t:[t]).forEach((function(t){"DID_INIT_ITEM"===e.type?_(t(e.data)):setTimeout((function(){_(t(e.data))}),0)}))}))},b=function(e){return o.dispatch("SET_OPTIONS",{options:e})},I=function(e){return o.query("GET_ACTIVE_ITEM",e)},w=function(e){return new Promise((function(t,n){o.dispatch("REQUEST_ITEM_PREPARE",{query:e,success:function(e){t(e)},failure:function(e){n(e)}})}))},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,i){M([{source:e,options:t}],{index:t.index}).then((function(e){return n(e&&e[0])})).catch(i)}))},O=function(e){return e.file&&e.id},x=function(e,t){return"object"!=typeof e||O(e)||t||(t=e,e=void 0),o.dispatch("REMOVE_ITEM",Object.assign({},t,{query:e})),null===o.query("GET_ACTIVE_ITEM",e)},M=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Promise((function(e,n){var i=[],r={};if(N(t[0]))i.push.apply(i,t[0]),Object.assign(r,t[1]||{});else{var a=t[t.length-1];"object"!=typeof a||a instanceof Blob||Object.assign(r,t.pop()),i.push.apply(i,t)}o.dispatch("ADD_ITEMS",{items:i,index:r.index,interactionMethod:ae,success:e,failure:n})}))},D=function(){return o.query("GET_ACTIVE_ITEMS")},A=function(e){return new Promise((function(t,n){o.dispatch("REQUEST_ITEM_PROCESSING",{query:e,success:function(e){t(e)},failure:function(e){n(e)}})}))},S=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=Array.isArray(t[0])?t[0]:t,r=i.length?i:D();return Promise.all(r.map(w))},C=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=Array.isArray(t[0])?t[0]:t;if(!i.length){var r=D().filter((function(e){return!(e.status===we.IDLE&&e.origin===Re.LOCAL)&&e.status!==we.PROCESSING&&e.status!==we.PROCESSING_COMPLETE&&e.status!==we.PROCESSING_REVERT_ERROR}));return Promise.all(r.map(A))}return Promise.all(i.map(A))},G=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,r=Array.isArray(t[0])?t[0]:t;"object"==typeof r[r.length-1]?i=r.pop():Array.isArray(t[0])&&(i=t[1]);var o=D();return r.length?r.map((function(e){return y(e)?o[e]?o[e].id:null:e})).filter((function(e){return e})).map((function(e){return x(e,i)})):Promise.all(o.map((function(e){return x(e,i)})))},k=Object.assign({},ye(),{},g,{},ie(o,i),{setOptions:b,addFile:R,addFiles:M,getFile:I,processFile:A,prepareFile:w,removeFile:x,moveFile:function(e,t){return o.dispatch("MOVE_ITEM",{query:e,index:t})},getFiles:D,processFiles:C,removeFiles:G,prepareFiles:S,sort:function(e){return o.dispatch("SORT",{compare:e})},browse:function(){var e=p.element.querySelector("input[type=file]");e&&e.click()},destroy:function(){k.fire("destroy",p.element),o.dispatch("ABORT_ALL"),p._destroy(),window.removeEventListener("resize",f),document.removeEventListener("visibilitychange",a),o.dispatch("DID_DESTROY")},insertBefore:function(e){return L(p.element,e)},insertAfter:function(e){return P(p.element,e)},appendTo:function(e){return e.appendChild(p.element)},replaceElement:function(e){L(p.element,e),e.parentNode.removeChild(e),t=e},restoreElement:function(){t&&(P(t,p.element),p.element.parentNode.removeChild(p.element),t=null)},isAttachedTo:function(e){return p.element===e||t===e},element:{get:function(){return p.element}},status:{get:function(){return o.query("GET_STATUS")}}});return o.dispatch("DID_INIT"),r(k)},rr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return i(Le(),(function(e,n){t[e]=n[0]})),ir(Object.assign({},t,{},e))},or=function(e){return Hi(e.replace(/^data-/,""))},ar=function e(t,n){i(n,(function(n,r){i(t,(function(e,i){var o,a=new RegExp(n);if(a.test(e)&&(delete t[e],!1!==r))if(z(r))t[r]=i;else{var s=r.group;Z(r)&&!t[s]&&(t[s]={}),t[s][(o=e.replace(a,""),o.charAt(0).toLowerCase()+o.slice(1))]=i}})),r.mapping&&e(t[r.group],r.mapping)}))},sr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];i(e.attributes,(function(t){n.push(e.attributes[t])}));var r=n.filter((function(e){return e.name})).reduce((function(t,n){var i=o(e,n.name);return t[or(n.name)]=i===n.name||i,t}),{});return ar(r,t),r},lr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};Se("SET_ATTRIBUTE_TO_OPTION_MAP",n);var i=Object.assign({},t),r=sr("FIELDSET"===e.nodeName?e.querySelector("input[type=file]"):e,n);Object.keys(r).forEach((function(e){Z(r[e])?(Z(i[e])||(i[e]={}),Object.assign(i[e],r[e])):i[e]=r[e]})),i.files=(t.files||[]).concat(Array.from(e.querySelectorAll("input:not([type=file])")).map((function(e){return{source:e.value,options:{type:e.dataset.type}}})));var o=rr(i);return e.files&&Array.from(e.files).forEach((function(e){o.addFile(e)})),o.replaceElement(e),o},cr=function(){return t(arguments.length<=0?void 0:arguments[0])?lr.apply(void 0,arguments):rr.apply(void 0,arguments)},ur=["fire","_read","_write"],dr=function(e){var t={};return _e(e,t,ur),t},fr=function(e,t){return e.replace(/(?:{([a-zA-Z]+)})/g,(function(e,n){return t[n]}))},pr=function(e){var t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(t),i=new Worker(n);return{transfer:function(e,t){},post:function(e,t,n){var r=de();i.onmessage=function(e){e.data.id===r&&t(e.data.message)},i.postMessage({id:r,message:e},n)},terminate:function(){i.terminate(),URL.revokeObjectURL(n)}}},hr=function(e){return new Promise((function(t,n){var i=new Image;i.onload=function(){t(i)},i.onerror=function(e){n(e)},i.src=e}))},mr=function(e,t){var n=e.slice(0,e.size,e.type);return n.lastModifiedDate=e.lastModifiedDate,n.name=t,n},gr=function(e){return mr(e,e.name)},vr=[],Er=function(e){if(!vr.includes(e)){vr.push(e);var t=e({addFilter:Ce,utils:{Type:Me,forin:i,isString:z,isFile:xt,toNaturalFileSize:Ht,replaceInString:fr,getExtensionFromFilename:Qe,getFilenameWithoutExtension:Rt,guesstimateMimeType:oi,getFileFromBlob:Je,getFilenameFromURL:Xe,createRoute:C,createWorker:pr,createView:S,createItemAPI:be,loadImage:hr,copyFile:gr,renameFile:mr,createBlob:et,applyFilterChain:Ae,text:Ut,getNumericAspectRatioFromString:Ge},views:{fileActionButton:qt}});n=t.options,Object.assign(Pe,n)}var n},yr=(nn=h()&&!("[object OperaMini]"===Object.prototype.toString.call(window.operamini))&&"visibilityState"in document&&"Promise"in window&&"slice"in Blob.prototype&&"URL"in window&&"createObjectURL"in window.URL&&"performance"in window&&("supports"in(window.CSS||{})||/MSIE|Trident/.test(window.navigator.userAgent)),function(){return nn}),_r={apps:[]},Tr=function(){};if(e.Status={},e.FileStatus={},e.FileOrigin={},e.OptionTypes={},e.create=Tr,e.destroy=Tr,e.parse=Tr,e.find=Tr,e.registerPlugin=Tr,e.getOptions=Tr,e.setOptions=Tr,yr()){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,i="__framePainter";if(window[i])return window[i].readers.push(e),void window[i].writers.push(t);window[i]={readers:[e],writers:[t]};var r=window[i],o=1e3/n,a=null,s=null,l=null,c=null,u=function(){document.hidden?(l=function(){return window.setTimeout((function(){return d(performance.now())}),o)},c=function(){return window.clearTimeout(s)}):(l=function(){return window.requestAnimationFrame(d)},c=function(){return window.cancelAnimationFrame(s)})};document.addEventListener("visibilitychange",(function(){c&&c(),u(),d(performance.now())}));var d=function e(t){s=l(e),a||(a=t);var n=t-a;n<=o||(a=t-n%o,r.readers.forEach((function(e){return e()})),r.writers.forEach((function(e){return e(t)})))};u(),d(performance.now())}((function(){_r.apps.forEach((function(e){return e._read()}))}),(function(e){_r.apps.forEach((function(t){return t._write(e)}))}));var br=function t(){document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:yr,create:e.create,destroy:e.destroy,parse:e.parse,find:e.find,registerPlugin:e.registerPlugin,setOptions:e.setOptions}})),document.removeEventListener("DOMContentLoaded",t)};"loading"!==document.readyState?setTimeout((function(){return br()}),0):document.addEventListener("DOMContentLoaded",br);var Ir=function(){return i(Le(),(function(t,n){e.OptionTypes[t]=n[1]}))};e.Status=Object.assign({},Be),e.FileOrigin=Object.assign({},Re),e.FileStatus=Object.assign({},we),e.OptionTypes={},Ir(),e.create=function(){var t=cr.apply(void 0,arguments);return t.on("destroy",e.destroy),_r.apps.push(t),dr(t)},e.destroy=function(e){var t=_r.apps.findIndex((function(t){return t.isAttachedTo(e)}));return t>=0&&(_r.apps.splice(t,1)[0].restoreElement(),!0)},e.parse=function(t){return Array.from(t.querySelectorAll(".filepond")).filter((function(e){return!_r.apps.find((function(t){return t.isAttachedTo(e)}))})).map((function(t){return e.create(t)}))},e.find=function(e){var t=_r.apps.find((function(t){return t.isAttachedTo(e)}));return t?dr(t):null},e.registerPlugin=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(Er),Ir()},e.getOptions=function(){var e={};return i(Le(),(function(t,n){e[t]=n[0]})),e},e.setOptions=function(t){return Z(t)&&(_r.apps.forEach((function(e){e.setOptions(t)})),function(e){i(e,(function(e,t){Pe[e]&&(Pe[e][0]=J(t,Pe[e][0],Pe[e][1]))}))}(t)),e.getOptions()}}e.supported=yr,Object.defineProperty(e,"__esModule",{value:!0})}(t)},126:(e,t,n)=>{var i=n(978);"string"==typeof i&&(i=[[e.id,i,""]]);n(723)(i,{hmr:!0,transform:void 0}),i.locals&&(e.exports=i.locals)},899:(e,t,n)=>{var i=n(193);"string"==typeof i&&(i=[[e.id,i,""]]);n(723)(i,{hmr:!0,transform:void 0}),i.locals&&(e.exports=i.locals)},381:(e,t,n)=>{var i=n(288);"string"==typeof i&&(i=[[e.id,i,""]]);n(723)(i,{hmr:!0,transform:void 0}),i.locals&&(e.exports=i.locals)},758:(e,t,n)=>{var i=n(797);"string"==typeof i&&(i=[[e.id,i,""]]);n(723)(i,{hmr:!0,transform:void 0}),i.locals&&(e.exports=i.locals)},146:(e,t,n)=>{var i=n(436);"string"==typeof i&&(i=[[e.id,i,""]]);n(723)(i,{hmr:!0,transform:void 0}),i.locals&&(e.exports=i.locals)},723:(e,t,n)=>{var i,r,o={},a=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=i.apply(this,arguments)),r}),s=function(e){var t={};return function(n){if(void 0===t[n]){var i=e.call(this,n);if(i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[n]=i}return t[n]}}((function(e){return document.querySelector(e)})),l=null,c=0,u=[],d=n(947);function f(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=o[i.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](i.parts[a]);for(;a<i.parts.length;a++)r.parts.push(E(i.parts[a],t))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(E(i.parts[a],t));o[i.id]={id:i.id,refs:1,parts:s}}}}function p(e,t){for(var n=[],i={},r=0;r<e.length;r++){var o=e[r],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}function h(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=u[u.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=s(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,r)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function g(e){var t=document.createElement("style");return e.attrs.type="text/css",v(t,e.attrs),h(e,t),t}function v(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function E(e,t){var n,i,r,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var a=c++;n=l||(l=g(t)),i=T.bind(null,n,a,!1),r=T.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",v(t,e.attrs),h(e,t),t}(t),i=I.bind(null,n,t),r=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),i=b.bind(null,n),r=function(){m(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return f(n,t),function(e){for(var i=[],r=0;r<n.length;r++){var a=n[r];(s=o[a.id]).refs--,i.push(s)}for(e&&f(p(e,t),t),r=0;r<i.length;r++){var s;if(0===(s=i[r]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete o[s.id]}}}};var y,_=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function T(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=_(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function b(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function I(e,t,n){var i=n.css,r=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||o)&&(i=d(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},947:e=>{e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var r,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)?e:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}}},t={};!function n(i){if(t[i])return t[i].exports;var r=t[i]={id:i,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}(501)})();